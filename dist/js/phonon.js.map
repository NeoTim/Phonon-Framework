{"version":3,"file":"phonon.js","sources":["../../src/js/common/events/dispatch.js","../../src/js/hybrid-apps/pager/page.js","../../src/js/common/events/index.js","../../src/js/hybrid-apps/pager/index.js","../../src/js/hybrid-apps/intl/binder.js","../../src/js/hybrid-apps/intl/index.js","../../src/js/common/utils/index.js","../../src/js/components/componentManager.js","../../src/js/components/component.js","../../src/js/common/network/index.js","../../src/js/components/dialog/index.js","../../src/js/components/dialog/prompt.js","../../src/js/components/dialog/confirm.js","../../src/js/components/loader/index.js","../../src/js/components/dialog/loader.js","../../src/js/components/notification/index.js","../../src/js/components/collapse/index.js","../../src/js/components/accordion/index.js","../../src/js/components/tab/index.js","../../src/js/components/progress/index.js","../../src/js/components/off-canvas/index.js","../../src/js/components/dropdown/index.js","../../src/js/components/dropdown/search.js","../../src/js/index.js"],"sourcesContent":["export function dispatchWinDocEvent(eventName, moduleName, detail = {}) {\n  const fullEventName = `${eventName}.ph.${moduleName}`\n  window.dispatchEvent(new CustomEvent(fullEventName, { detail }))\n  document.dispatchEvent(new CustomEvent(fullEventName, { detail }))\n}\n\nexport function dispatchElementEvent(domElement, eventName, moduleName, detail = {}) {\n  const fullEventName = `${eventName}.ph.${moduleName}`\n  domElement.dispatchEvent(new CustomEvent(fullEventName, { detail }))\n}\n\nexport function dispatchPageEvent(eventName, pageName, detail = {}) {\n  const fullEventName = `${pageName}.${eventName}`\n  window.dispatchEvent(new CustomEvent(fullEventName, { detail }))\n  document.dispatchEvent(new CustomEvent(fullEventName, { detail }))\n}\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport { dispatchPageEvent } from '../../common/events/dispatch'\n\nconst Page = (() => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'page'\n  const VERSION = '2.0.0'\n\n  const TEMPLATE_SELECTOR = '[data-template]'\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Page {\n    /**\n     * Creates an instance of Page.\n     * @param {string} pageName\n     */\n    constructor(pageName) {\n      this.name = pageName\n      this.events = []\n      this.templatePath = null\n      this.renderFunction = null\n    }\n\n    // getters\n\n    static get version() {\n      return `${NAME}.${VERSION}`\n    }\n\n    /**\n     * Get events\n     * @returns {Function[]}\n     */\n    getEvents() {\n      return this.events\n    }\n\n    /**\n     * Get template\n     * @returns {string}\n     */\n    getTemplate() {\n      return this.template\n    }\n\n    /**\n     * Get render function\n     * @returns {Function}\n     */\n    getRenderFunction() {\n      return this.renderFunction\n    }\n\n    async renderTemplate() {\n      const pageElement = document.querySelector(`[data-page=\"${this.name}\"]`)\n\n      let render = async function (DOMPage, template, elements) {\n        if (elements) {\n          Array.from(elements).forEach((el) => {\n            el.innerHTML = template\n          })\n        } else {\n          DOMPage.innerHTML = template\n        }\n      }\n\n      if (this.getRenderFunction()) {\n        render = this.getRenderFunction()\n      }\n\n      await render(pageElement, this.getTemplate(), pageElement.querySelectorAll(TEMPLATE_SELECTOR))\n    }\n\n    // public\n\n    /**\n     *\n     * @param {*} callbackFn\n     */\n    addEventCallback(callbackFn) {\n      this.events.push(callbackFn)\n    }\n\n    /**\n     * Use the given template\n     *\n     * @param {string} template\n     * @param {Function} renderFunction\n     */\n    setTemplate(template = null, renderFunction = null) {\n      if (typeof template !== 'string') {\n        throw new Error('The template path must be a string. ' + typeof template + ' is given')\n      }\n\n      this.template = template\n\n      if (typeof renderFunction === 'function') {\n        this.renderFunction = renderFunction\n      }\n    }\n\n    /**\n     * Trigger scopes\n     * @param {string} eventName\n     * @param {{}} [eventParams={}]\n     */\n    triggerScopes(eventName, eventParams = {}) {\n      const eventNameAlias = `on${eventName.charAt(0).toUpperCase()}${eventName.slice(1)}`\n\n      this.events.forEach((scope) => {\n        const scopeEvent = scope[eventName]\n        const scopeEventAlias = scope[eventNameAlias]\n        if (typeof scopeEvent === 'function') {\n          scopeEvent.apply(this, eventParams)\n        }\n\n        // trigger the event alias\n        if (typeof scopeEventAlias === 'function') {\n          scopeEventAlias.apply(this, eventParams)\n        }\n      })\n\n      dispatchPageEvent(eventName, this.name, eventParams)\n    }\n  }\n\n  return Page\n})()\n\nexport default Page\n","// @todo keep ?\nif (typeof window !== 'undefined') {\n  window.addEventListener('error', () => {\n    console.error('An error has occured! You can pen an issue here: https://github.com/quark-dev/Phonon-Framework/issues')\n  })\n}\n\n// Use available events\nlet availableEvents = ['mousedown', 'mousemove', 'mouseup']\nlet touchScreen = false\n\nif (typeof window !== 'undefined') {\n  if (('ontouchstart' in window) || window.DocumentTouch && document instanceof DocumentTouch) {\n    touchScreen = true\n    availableEvents = ['touchstart', 'touchmove', 'touchend', 'touchcancel']\n  }\n\n  if (window.navigator.pointerEnabled) {\n    availableEvents = ['pointerdown', 'pointermove', 'pointerup', 'pointercancel']\n  } else if (window.navigator.msPointerEnabled) {\n    availableEvents = ['MSPointerDown', 'MSPointerMove', 'MSPointerUp', 'MSPointerCancel']\n  }\n}\n\nconst el = document.createElement('div')\nconst transitions = [\n  { name: 'transition', start: 'transitionstart', end: 'transitionend' },\n  { name: 'MozTransition', start: 'transitionstart', end: 'transitionend' },\n  { name: 'msTransition', start: 'msTransitionStart', end: 'msTransitionEnd' },\n  { name: 'WebkitTransition', start: 'webkitTransitionStart', end: 'webkitTransitionEnd' },\n]\nconst animations = [\n  { name: 'animation', start: 'animationstart', end: 'animationend' },\n  { name: 'MozAnimation', start: 'animationstart', end: 'animationend' },\n  { name: 'msAnimation', start: 'msAnimationStart', end: 'msAnimationEnd' },\n  { name: 'WebkitAnimation', start: 'webkitAnimationStart', end: 'webkitAnimationEnd' },\n]\n\nconst transitionStart = transitions.find(t => el.style[t.name] !== undefined).start\nconst transitionEnd = transitions.find(t => el.style[t.name] !== undefined).end\nconst animationStart = animations.find(t => el.style[t.name] !== undefined).start\nconst animationEnd = animations.find(t => el.style[t.name] !== undefined).end\n\nexport default {\n  // touch screen support\n  TOUCH_SCREEN: touchScreen,\n\n  // network\n  NETWORK_ONLINE: 'online',\n  NETWORK_OFFLINE: 'offline',\n  NETWORK_RECONNECTING: 'reconnecting',\n  NETWORK_RECONNECTING_SUCCESS: 'reconnect.success',\n  NETWORK_RECONNECTING_FAILURE: 'reconnect.failure',\n\n  // user interface states\n  SHOW: 'show',\n  SHOWN: 'shown',\n  HIDE: 'hide',\n  HIDDEN: 'hidden',\n\n  // hash\n  HASH: 'hash',\n\n  // touch, mouse and pointer events polyfill\n  START: availableEvents[0],\n  MOVE: availableEvents[1],\n  END: availableEvents[2],\n  CANCEL: typeof availableEvents[3] === 'undefined' ? null : availableEvents[3],\n\n  // transitions\n  TRANSITION_START: transitionStart,\n  TRANSITION_END: transitionEnd,\n\n  // animations\n  ANIMATION_START: animationStart,\n  ANIMATION_END: animationEnd,\n\n  // dropdown\n  ITEM_SELECTED: 'itemSelected',\n}","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport Page from './page'\nimport Event from '../../common/events'\n\nconst Pager = (() => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'pager'\n  const VERSION = '2.0.0'\n  const DEFAULT_PROPERTIES = {\n    hashPrefix: '#!',\n    useHash: true,\n    defaultPage: null,\n    animatePages: true,\n  }\n\n  let currentPage\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Pager {\n    /**\n     * @constructor\n     *\n     * @param options {Object}\n     */\n    constructor(options = {}) {\n      this.options = Object.assign(DEFAULT_PROPERTIES, options)\n\n      this.pages = []\n      this.started = false\n\n      // add global listeners such ash hash change, navigation, etc.\n      this.addPagerEvents()\n\n      // faster way to init pages before the DOM is ready\n      this.onDOMLoaded()\n    }\n\n    // private\n    _(selector) {\n      return document.querySelector(selector)\n    }\n\n    getHash() {\n      return window.location.hash.split(this.options.hashPrefix)[1]\n    }\n\n    getPageFromHash() {\n      const hash = this.getHash()\n      const re = new RegExp('[?\\/]([^\\/]*)')\n      const matches = re.exec(hash)\n\n      if (matches && matches[1]) {\n        return matches[1]\n      }\n\n      return null\n    }\n\n    setHash(pageName) {\n      window.location.hash = `${this.options.hashPrefix}/${pageName}`\n    }\n\n    isPageOf(pageName1, pageName2) {\n      const page1 = this.getPageModel(pageName1)\n      const page2 = this.getPageModel(pageName2)\n      return page1 && page2 && page1.name === page2.name\n    }\n\n    /**\n     * Attaches the main events for tracking hash changes,\n     * click on navigation buttons and links and back history\n     */\n    addPagerEvents() {\n      document.addEventListener('click', event => this.onClick(event))\n      window.addEventListener('popstate', event => this.onBackHistory(event))\n      window.addEventListener('hashchange', event => this.onHashChange(event))\n      document.addEventListener('DOMContentLoaded', event => this.onDOMLoaded(event))\n    }\n\n    // getters\n\n    static get version() {\n      return `${NAME}.${VERSION}`\n    }\n\n    // public\n\n    async showPage(pageName, addToHistory = true, back = false) {\n      const oldPage = this._('.current')\n      if (oldPage) {\n        const oldPageName = oldPage.getAttribute('data-page')\n\n        if (this.isPageOf(pageName, oldPageName)) {\n          return\n        }\n\n        oldPage.classList.remove('current')\n\n        // history\n        window.history.replaceState({ page: oldPageName }, oldPageName, window.location.href)\n\n        this.triggerPageEvent(oldPageName, Event.HIDE)\n      }\n\n      this.triggerPageEvent(pageName, Event.SHOW)\n\n      currentPage = pageName\n\n      // new page\n      const newPage = this._(`[data-page=\"${pageName}\"]`)\n\n      newPage.classList.add('current')\n\n      // render template\n      const pageModel = this.getPageModel(pageName)\n\n      if (pageModel && pageModel.getTemplate()) {\n        await pageModel.renderTemplate()\n      }\n\n      if (oldPage) {\n        const oldPageName = oldPage.getAttribute('data-page')\n        // use of prototype-oriented language\n        oldPage.back = back\n        oldPage.previousPageName = oldPageName\n\n        const onPageAnimationEnd = () => {\n          if (oldPage.classList.contains('animate')) {\n            oldPage.classList.remove('animate')\n          }\n\n          oldPage.classList.remove(oldPage.back ? 'pop-page' : 'push-page')\n\n          this.triggerPageEvent(currentPage, Event.SHOWN)\n          this.triggerPageEvent(oldPage.previousPageName, Event.HIDDEN)\n\n          oldPage.removeEventListener(Event.ANIMATION_END, onPageAnimationEnd)\n        }\n\n        if (this.options.animatePages) {\n          oldPage.addEventListener(Event.ANIMATION_END, onPageAnimationEnd)\n          oldPage.classList.add('animate')\n        } else {\n          onPageAnimationEnd()\n        }\n\n        oldPage.classList.add(back ? 'pop-page' : 'push-page')\n      }\n    }\n\n    addUniquePageModel(pageName) {\n      if (!this.getPageModel(pageName)) {\n        this.pages.push(new Page(pageName))\n      }\n    }\n\n    getPageModel(pageName) {\n      return this.pages.find(page => page.name === pageName)\n    }\n\n    getPagesModel(pageNames) {\n      return this.pages.filter(page => pageNames.indexOf(page.name) > -1)\n    }\n\n    selectorToArray(str) {\n      return str.split(',').map(item => item.trim())\n    }\n\n    addEvents(callback) {\n      if (this.cachePageSelector === '*') {\n        // add to all page models\n        this.pages.forEach((page) => {\n          page.addEventCallback(callback)\n        })\n        return\n      }\n\n      const pageModels = this.getPagesModel(this.selectorToArray(this.cachePageSelector), true)\n      pageModels.forEach((page) => {\n        page.addEventCallback(callback)\n      })\n      this.cachePageSelector = null\n    }\n\n    setTemplate(templatePath, renderFunction = null) {\n      const pageModels = this.getPagesModel(this.selectorToArray(this.cachePageSelector), true)\n      pageModels.forEach((page) => {\n        page.setTemplate(templatePath, renderFunction)\n      })\n      this.cachePageSelector = null\n    }\n\n    triggerPageEvent(pageName, eventName, eventParams = null) {\n      const pageModel = this.getPageModel(pageName)\n      if (pageModel) {\n        pageModel.triggerScopes(eventName, eventParams)\n      }\n    }\n\n    onClick(event) {\n      const pageName = event.target.getAttribute('data-navigate')\n      const pushPage = !(event.target.getAttribute('data-pop-page') === 'true')\n\n      if (pageName) {\n        if (pageName === '$back') {\n          // the popstate event will be triggered\n          window.history.back()\n          return\n        }\n\n        /*\n         * If we he use the hash as trigger,\n         * we change it dynamically so that the hashchange event is called\n         * Otherwise, we show the page\n         */\n        if (this.options.useHash) {\n          this.setHash(pageName)\n        } else {\n          this.showPage(pageName, true, pushPage)\n        }\n      }\n    }\n\n    onBackHistory(event = {}) {\n      const pageName = event.state ? event.state.page : null\n      if (!pageName) {\n        return\n      }\n\n      this.showPage(pageName, true, true)\n    }\n\n    onHashChange() {\n      const params = (this.getHash() ? this.getHash().split('/') : []).filter(p => p.length > 0)\n      if (params.length > 0) {\n        // remove first value which is the page name\n        params.shift()\n      }\n\n      this.triggerPageEvent(currentPage, Event.HASH, params)\n\n      const navPage = this.getPageFromHash()\n      if (navPage) {\n        this.showPage(navPage)\n      }\n    }\n\n    /**\n     * Queries the page nodes in the DOM\n     */\n    onDOMLoaded() {\n      const pages = document.querySelectorAll('[data-page]')\n\n      if (!pages) {\n        return\n      }\n\n      pages.forEach((page) => {\n        let pageName = page.getAttribute('data-page')\n        /*\n         * the page name can be given with the attribute data-page\n         * or with its node name\n         */\n        if (!pageName) {\n          pageName = page.nodeName\n        }\n\n        this.addUniquePageModel(pageName)\n      })\n    }\n\n    select(pageName, addPageModel = true) {\n      this.cachePageSelector = pageName\n\n      if (addPageModel && pageName !== '*') {\n        this.addUniquePageModel(pageName)\n      }\n\n      return this\n    }\n\n    start(forceDefaultPage = false) {\n      // check if the app has been already started\n      if (this.started) {\n        throw new Error(`${NAME}. The app has been already started.`)\n      }\n\n      this.started = true\n\n      // force default page on Cordova\n      if (window.cordova) {\n        forceDefaultPage = true\n      }\n\n      let pageName = this.getPageFromHash()\n      if (!this.getPageModel(pageName)) {\n        pageName = this.options.defaultPage\n      }\n\n      if (forceDefaultPage && !this.options.defaultPage) {\n        throw new Error(`${NAME}. The default page must exist for forcing its launch!`)\n      }\n\n      /*\n       * if the app is configurated to use hash tracking\n       * we add the page dynamically in the url\n       */\n      if (this.options.useHash) {\n        this.setHash(pageName)\n      }\n\n      this.showPage(forceDefaultPage ? this.options.defaultPage : pageName)\n    }\n\n    // static\n    static _DOMInterface(options) {\n      return new Pager(options)\n    }\n  }\n\n  return Pager\n})()\n\nexport default Pager\n","/**\n* --------------------------------------------------------------------------\n* Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n* --------------------------------------------------------------------------\n*/\n\nconst Binder = (() => {\n  /**\n  * ------------------------------------------------------------------------\n  * Constants\n  * ------------------------------------------------------------------------\n  */\n\n  const NAME = 'intl-binder'\n  const VERSION = '2.0.0'\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Binder {\n\n    /**\n     * @param {HTMLElement} element\n     * @param {Object} data\n     */\n    constructor(element, data) {\n      this.element = element\n      this.data = data\n\n      if (!this.isElement(this.element)) {\n        console.log('Warning, an element is invalid');\n        return\n      }\n\n      // array of HTMLElement\n      if (this.element.length && this.element.length > 0) {\n        this.setNodes(this.element)\n      } else {\n        // single HTMLElement\n        this.setNode(this.element)\n      }\n    }\n\n    // getters\n\n    static get version() {\n      return `${NAME}.${VERSION}`\n    }\n\n    /**\n     * Checks if the given argument is a DOM element\n     * @param {HTMLElement} the argument to test\n     * @return {boolean} true if the object is a DOM element, false otherwise\n     */\n    isElement(element) {\n      if (element === null) {\n        return false\n      }\n\n      return element instanceof Node || element instanceof NodeList\n    }\n\n    /**\n    * Binds some text to the given DOM element\n    * @param {HTMLElement} element\n    * @param {String} text\n    */\n    setText(element, text) {\n      if (!('textContent' in element)) {\n        element.innerText = text\n      } else {\n        element.textContent = text\n      }\n    }\n\n    /**\n     * Binds some html to the given DOM element\n     * @param {HTMLElement} element\n     * @param {String} text\n     */\n    setHtml(element, text) {\n      element.innerHTML = text\n    }\n\n    /**\n     * Binds custom attributes to the given DOM element\n     * @param {HTMLElement} element\n     * @param {String} attr\n     * @param {String} text\n     */\n    setAttribute(element, attr, text) {\n      element.setAttribute(attr, text)\n    }\n\n    /**\n     * Binds DOM elements\n     * @param {HTMLElement} element\n     */\n    setNode(element) {\n      let attr = element.getAttribute('data-i18n')\n      if (!attr) {\n        return\n      }\n\n      attr = attr.trim()\n\n      const r = /(?:\\s|^)([A-Za-z-_0-9]+):\\s*(.*?)(?=\\s+\\w+:|$)/g\n      let m\n\n      while (m = r.exec(attr)) {\n        const key = m[1].trim()\n        const value = m[2].trim().replace(',', '')\n        let intlValue = this.data[value]\n\n        if (!this.data[value]) {\n          console.log(`${NAME}. Warning, ${value} does not exist.`)\n          intlValue = value\n        }\n\n        const methodName = 'set' + key.charAt(0).toUpperCase() + key.slice(1)\n\n        if (this[methodName]) {\n          this[methodName](element, intlValue)\n        } else {\n          this.setAttribute(element, key, intlValue)\n        }\n      }\n    }\n\n    /**\n     * Binds DOM elements\n     * @param {HTMLElement} element\n     */\n    setNodes(element) {\n      Array.from(element).forEach(el => this.setNode(el))\n    }\n  }\n\n  return Binder\n})()\n\nexport default Binder\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Binder from './binder'\n\nconst Intl = (() => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'Intl'\n  const VERSION = '2.0.0'\n  const DEFAULT_PROPERTIES = {\n    fallbackLocale: 'en',\n    locale: 'en',\n    bind: false,\n    data: null,\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Intl {\n    /**\n     * Creates an instance of Intl.\n     * @param {fallbackLocale: string, locale: string, bind: boolean, data: {[lang: string]: {[key: string]: string}}}\n     */\n    constructor(options = {}) {\n      this.options = Object.assign(DEFAULT_PROPERTIES, options)\n\n      if (typeof this.options.fallbackLocale !== 'string') {\n        throw new Error(`${NAME}. The fallback locale is mandatory and must be a string.`)\n      }\n\n      if (this.options.data === null) {\n        throw new Error(`${NAME}. There is no translation data.`)\n      }\n\n      if (typeof this.options.data[this.options.fallbackLocale] !== 'object') {\n        throw new Error(`${NAME}. The fallback locale must necessarily have translation data.`)\n      }\n\n      this.setLocale(this.options.locale, this.options.bind)\n    }\n\n    static get version() {\n      return `${NAME}.${VERSION}`\n    }\n\n    getLocale() {\n      return this.options.locale\n    }\n\n    getFallbackLocale() {\n      return this.options.fallbackLocale\n    }\n\n    /**\n     * Set default locale\n     * @param {string} locale\n     * @param {boolean} [bind=true]\n     */\n    setLocale(locale, bind = false) {\n      if (typeof this.options.data[locale] !== 'object') {\n        console.error(`${NAME}. ${locale} has no data, fallback in ${this.options.fallbackLocale}.`)\n      } else {\n        this.options.locale = locale\n      }\n\n      if (bind) {\n        this.updateHtml()\n      }\n    }\n\n    getLanguages() {\n      return Object.keys(this.options.data)\n    }\n\n    insertValues(value = null, injectableValues = {}) {\n      if (typeof value !== 'string') {\n        return undefined\n      }\n\n      const match = value.match(/:([a-zA-Z-_0-9]+)/)\n      if (match) {\n        value = value.replace(match[0], injectableValues[match[1]])\n      }\n\n      if (value.match(/:([a-zA-Z-_0-9]+)/)) {\n        return this.insertValues(value, injectableValues)\n      }\n\n      return value\n    }\n\n    translate(keyName = null, inject = {}) {\n      let data = this.options.data[this.options.locale]\n      if (!data) {\n        data = this.options.data[this.options.fallbackLocale]\n      }\n\n      if (keyName === null || keyName === '*' || Array.isArray(keyName)) {\n        if (Array.isArray(keyName)) {\n          const keys = Object.keys(data).filter(key => keyName.indexOf(key) > -1)\n          const filteredData = {}\n          keys.forEach(key => {\n            filteredData[key] = this.insertValues(data[key], inject)\n          })\n          data = filteredData\n        }\n\n        const dataMap = {}\n        for (const key in data) {\n          dataMap[key] = this.insertValues(data[key], inject)\n        }\n\n        return dataMap\n      }\n\n      return this.insertValues(data[keyName], inject)\n    }\n\n    // alias of t()\n    t(keyName = null, inject = {}) {\n      return this.translate(keyName, inject)\n    }\n\n    /**\n     * Updates the HTML views\n     * @param {HTMLElement} element\n     */\n    updateHtml(element = null) {\n      if (!element) {\n        element = document.querySelectorAll('[data-i18n]')\n      }\n\n      if (typeof element === 'string') {\n        element = document.querySelector(element)\n      }\n\n      new Binder(element, this.t())\n    }\n\n    // static\n    static _DOMInterface(options) {\n      return new Intl(options)\n    }\n  }\n\n  return Intl\n})()\n\nexport default Intl\n","\nexport function generateId() {\n  return Math.random().toString(36).substr(2, 10)\n}\n\nexport function findTargetByClass(target, parentClass) {\n  for (; target && target !== document; target = target.parentNode) {\n    if (target.classList.contains(parentClass)) {\n      return target\n    }\n  }\n\n  return null\n}\n\nexport function findTargetById(target, parentId) {\n  for (; target && target !== document; target = target.parentNode) {\n    if (target.getAttribute('id') === parentId) {\n      return target\n    }\n  }\n\n  return null\n}\n\nexport function findTargetByAttr(target, attr) {\n  for (; target && target !== document; target = target.parentNode) {\n    if (target.getAttribute(attr) !== null) {\n      return target\n    }\n  }\n\n  return null\n}\n\nexport function createJqueryPlugin($ = null, name, obj) {\n  if (!$) {\n    return;\n  }\n\n  const mainFn = function (options = {}) {\n    const opts = options;\n    if (this[0]) {\n      opts.element = this[0];\n    }\n\n    return obj._DOMInterface(opts)\n  };\n\n  $.fn[name] = mainFn;\n  $.fn[name].Constructor = obj\n  $.fn[name].noConflict = mainFn;\n}\n","\nconst getAttribute = (first, second) => {\n  if (first === '') {\n    return `data-${second}`\n  }\n  return `data-${first}-${second}`\n}\n\nexport function setAttributesConfig(element, obj = {}, attrs, start = '') {\n  const keys = Object.keys(obj)\n\n  keys.forEach((key) => {\n    if (start === '' && attrs.indexOf(key) === -1) {\n      // continue with next iteration\n      return\n    }\n\n    if (typeof obj[key] === 'object' && obj[key] !== null) {\n      let keyStart = key\n      if (start !== '') {\n        keyStart = `${start}-${key}`\n      }\n\n      setAttributesConfig(element, obj[key], attrs, keyStart)\n      return\n    }\n\n    const attr = getAttribute(start, key)\n    element.setAttribute(attr, obj[key])\n  })\n}\n\nexport function getAttributesConfig(element, obj = {}, attrs, start = '') {\n  const newObj = Object.assign({}, obj)\n  const keys = Object.keys(obj)\n\n  keys.forEach((key) => {\n    if (start === '' && attrs.indexOf(key) === -1) {\n      // continue with next iteration\n      return\n    }\n\n    if (obj[key] !== null && obj[key].constructor === Object) {\n      let keyStart = key\n      if (start !== '') {\n        keyStart = `${start}-${key}`\n      }\n\n      newObj[key] = getAttributesConfig(element, obj[key], attrs, keyStart)\n      return\n    }\n\n    // update value\n    let value = obj[key] // default value\n    const type = typeof value\n    const attr = getAttribute(start, key)\n    const attrValue = element.getAttribute(attr)\n\n    if (attrValue !== null) {\n      if (type === 'boolean') {\n        // convert string to boolean\n        value = attrValue === 'true'\n      } else if (!isNaN(attrValue)) {\n        value = parseInt(attrValue, 10)\n      } else {\n        value = attrValue\n      }\n    }\n\n    newObj[key] = value\n  })\n\n  return newObj\n}\n\nconst stack = []\n\nexport default {\n  add(component) {\n    stack.push(component)\n  },\n  remove(component) {\n    const index = stack.findIndex(c => Object.is(component, c))\n    if (index > -1) {\n      stack.splice(index, 1)\n    }\n  },\n  closable(component) {\n    return stack.length === 0 || Object.is(stack[stack.length - 1], component)\n  }\n}\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport { dispatchElementEvent, dispatchWinDocEvent } from '../common/events/dispatch'\nimport { generateId } from '../common/utils/index'\nimport Event from '../common/events'\nimport ComponentManager, { setAttributesConfig, getAttributesConfig } from './componentManager'\n\n/**\n * ------------------------------------------------------------------------\n * Class Definition\n * ------------------------------------------------------------------------\n */\n\nexport default class Component {\n\n  constructor(name, version, defaultOptions = {}, options = {}, optionAttrs = [], supportDynamicElement = false, addToStack = false) {\n    this.name = name\n    this.version = version\n    this.options = options\n\n    // @todo keep?\n    // this.options = Object.assign(defaultOptions, options)\n    Object.keys(defaultOptions).forEach((prop) => {\n      if (typeof this.options[prop] === 'undefined') {\n        this.options[prop] = defaultOptions[prop]\n      }\n    })\n\n    this.optionAttrs = optionAttrs\n    this.supportDynamicElement = supportDynamicElement\n    this.addToStack = addToStack\n    this.id = generateId()\n\n    const checkElement = !this.supportDynamicElement || this.options.element !== null\n\n    if (typeof this.options.element === 'string') {\n      this.options.element = document.querySelector(this.options.element)\n    }\n\n    if (checkElement && !this.options.element) {\n      throw new Error(`${this.name}. The element is not a HTMLElement.`)\n    }\n\n    this.dynamicElement = this.options.element === null\n    this.registeredElements = []\n\n    if (!this.dynamicElement) {\n      /**\n       * if the element exists, we read the data attributes config\n       * then we overwrite existing config keys in JavaScript, so that\n       * we keep the following order\n       * [1] default JavaScript configuration of the component\n       * [2] Data attributes configuration if the element exists in the DOM\n       * [3] JavaScript configuration\n       */\n      this.options = Object.assign(this.options, this.assignJsConfig(this.getAttributes(), options))\n\n      // then, set the new data attributes to the element\n      this.setAttributes()\n    }\n\n    this.elementListener = event => this.onBeforeElementEvent(event)\n  }\n\n  assignJsConfig(attrConfig, options) {\n    this.optionAttrs.forEach((key) => {\n      if (options[key]) {\n        attrConfig[key] = options[key]\n      }\n    })\n\n    return attrConfig\n  }\n\n  getVersion() {\n    return this.version\n  }\n\n  getElement() {\n    return this.options.element\n  }\n\n  getId() {\n    return this.id\n  }\n\n  registerElements(elements) {\n    elements.forEach(element => this.registerElement(element))\n  }\n\n  registerElement(element) {\n    element.target.addEventListener(element.event, this.elementListener)\n    this.registeredElements.push(element)\n  }\n\n  unregisterElements() {\n    this.registeredElements.forEach((element) => {\n      this.unregisterElement(element)\n    })\n  }\n\n  unregisterElement(element) {\n    const registeredElementIndex = this.registeredElements\n      .findIndex(el => el.target === element.target && el.event === element.event)\n\n    if (registeredElementIndex > -1) {\n      element.target.removeEventListener(element.event, this.elementListener)\n      this.registeredElements.splice(registeredElementIndex, 1)\n    } else {\n      console.error(`Warning! Unknown registered element: ${element.target} with event: ${element.event}.`)\n    }\n  }\n\n  triggerEvent(eventName, detail = {}, objectEventOnly = false) {\n    if (typeof eventName !== 'string') {\n      throw new Error('The event name is not valid.')\n    }\n\n    if (this.addToStack) {\n      if (eventName === Event.SHOW) {\n        ComponentManager.add(this)\n      } else if (eventName === Event.HIDE) {\n        ComponentManager.remove(this)\n      }\n    }\n\n    // event names can be with dot notation like reconnecting.success\n    const eventNameObject = eventName.split('.').reduce((acc, current, index) => {\n      if (index === 0) {\n        return current\n      }\n\n      return acc + current.charAt(0).toUpperCase() + current.slice(1)\n    })\n\n    const eventNameAlias = `on${eventNameObject.charAt(0).toUpperCase()}${eventNameObject.slice(1)}`\n\n    // object event\n    if (typeof this.options[eventNameObject] === 'function') {\n      this.options[eventNameObject].apply(this, [detail])\n    }\n\n    if (typeof this.options[eventNameAlias] === 'function') {\n      this.options[eventNameAlias].apply(this, [detail])\n    }\n\n    if (objectEventOnly) {\n      return\n    }\n\n    // dom event\n    if (this.options.element) {\n      dispatchElementEvent(this.options.element, eventName, this.name, detail)\n    } else {\n      dispatchWinDocEvent(eventName, this.name, detail)\n    }\n  }\n\n  setAttributes() {\n    if (this.optionAttrs.length > 0) {\n      setAttributesConfig(this.options.element, this.options, this.optionAttrs)\n    }\n  }\n\n  getAttributes() {\n    const options = Object.assign({}, this.options)\n    return getAttributesConfig(this.options.element, options, this.optionAttrs)\n  }\n\n  /**\n   * the preventClosable method manages concurrency between active components.\n   * For example, if there is a shown off-canvas and dialog, the last\n   * shown component gains the processing priority\n   */\n  preventClosable() {\n    return this.addToStack && !ComponentManager.closable(this)\n  }\n\n  onBeforeElementEvent(event) {\n    if (this.preventClosable()) {\n      return\n    }\n\n    this.onElementEvent(event)\n  }\n\n  onElementEvent(event) {\n    //\n  }\n\n  static identifier() {\n    return this.name\n  }\n\n  static _DOMInterface(ComponentClass, options) {\n    return new ComponentClass(options)\n  }\n}\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport Event from '../../common/events'\nimport Component from '../../components/component'\n\nconst Network = (() => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'network'\n  const VERSION = '2.0.0'\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    initialDelay: 3000,\n    delay: 5000,\n  }\n  const DATA_ATTRS_PROPERTIES = [\n  ]\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Network extends Component {\n    /**\n     * Creates an instance of Network.\n     * @param {{}} [options={}]\n     */\n    constructor(options = {}) {\n      super(NAME, VERSION, DEFAULT_PROPERTIES, options, DATA_ATTRS_PROPERTIES, true, false)\n\n      this.xhr = null\n      this.checkInterval = null\n\n      this.setStatus(Event.NETWORK_ONLINE)\n\n      setTimeout(() => {\n        this.startCheck()\n      }, this.options.initialDelay)\n    }\n\n    getStatus() {\n      return this.status\n    }\n\n    setStatus(status) {\n      this.status = status\n    }\n\n    startRequest() {\n      this.xhr = new XMLHttpRequest()\n      this.xhr.offline = false\n\n      const url = `/favicon.ico?_=${new Date().getTime()}`\n\n      this.triggerEvent(Event.NETWORK_RECONNECTING, { date: new Date() }, false)            \n\n      this.xhr.open('HEAD', url, true)\n\n      this.xhr.timeout = this.options.delay - 1\n      this.xhr.ontimeout = () => {\n        this.xhr.abort()\n        this.xhr = null\n      }\n\n      this.xhr.onload = () => {\n        this.onUp()\n      }\n      this.xhr.onerror = () => {\n        this.onDown()\n      }\n\n      try {\n        this.xhr.send()\n      } catch (e) {\n        this.onDown()\n      }\n    }\n\n    onUp() {\n      this.triggerEvent(Event.NETWORK_RECONNECTING_SUCCESS, { date: new Date() }, false)\n\n      if (this.getStatus() !== Event.NETWORK_ONLINE) {\n        this.triggerEvent(Event.NETWORK_ONLINE, { date: new Date() }, false)\n      }\n\n      this.setStatus(Event.NETWORK_ONLINE)      \n    }\n\n    onDown() {\n      this.triggerEvent(Event.NETWORK_RECONNECTING_FAILURE, { date: new Date() }, false)\n\n      if (this.getStatus() !== Event.NETWORK_OFFLINE) {\n        this.triggerEvent(Event.NETWORK_OFFLINE, { date: new Date() }, false)\n      }\n\n      this.setStatus(Event.NETWORK_OFFLINE)      \n    }\n\n    startCheck() {\n      this.stopCheck()\n\n      this.startRequest()      \n\n      this.checkInterval = setInterval(() => {\n        this.startRequest()\n      }, this.options.delay)\n    }\n\n    stopCheck() {\n      if (this.checkInterval !== null) {\n        clearInterval(this.checkInterval)\n        this.checkInterval = null\n      }\n    }\n\n    static _DOMInterface(options) {\n      return super._DOMInterface(Network, options)\n    }\n  }\n\n  return Network\n})()\n\nexport default Network\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Event from '../../common/events'\nimport Component from '../component'\nimport { getAttributesConfig } from '../componentManager'\nimport { createJqueryPlugin } from '../../common/utils';\n\nconst Dialog = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'dialog'\n  const VERSION = '2.0.0'\n  const BACKDROP_SELECTOR = 'dialog-backdrop'\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    title: null,\n    message: null,\n    cancelable: true,\n    type: null,\n    cancelableKeyCodes: [\n      27, // Escape\n      13, // Enter\n    ],\n    buttons: [\n      {\n        event: 'confirm',\n        text: 'Ok',\n        dismiss: true,\n        class: 'btn btn-primary',\n      },\n    ],\n  }\n  const DATA_ATTRS_PROPERTIES = [\n    'cancelable',\n  ]\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Dialog extends Component {\n\n    constructor(options = {}, template = null) {\n      super(NAME, VERSION, DEFAULT_PROPERTIES, options, DATA_ATTRS_PROPERTIES, true, true)\n\n      this.template = template || '' +\n      '<div class=\"dialog\" tabindex=\"-1\" role=\"dialog\">' +\n        '<div class=\"dialog-inner\" role=\"document\">' +\n          '<div class=\"dialog-content\">' +\n            '<div class=\"dialog-header\">' +\n              '<h5 class=\"dialog-title\"></h5>' +\n            '</div>' +\n            '<div class=\"dialog-body\">' +\n              '<p></p>' +\n            '</div>' +\n            '<div class=\"dialog-footer\">' +\n            '</div>' +\n          '</div>' +\n        '</div>' +\n      '</div>'\n\n      if (this.dynamicElement) {\n        this.build()\n      }\n    }\n\n    build() {\n      const builder = document.createElement('div')\n\n      builder.innerHTML = this.template\n\n      this.options.element = builder.firstChild\n\n      // title\n      if (this.options.title !== null) {\n        this.options.element.querySelector('.dialog-title').innerHTML = this.options.title\n      }\n\n      // message\n      if (this.options.message !== null) {\n        this.options.element.querySelector('.dialog-body').firstChild.innerHTML = this.options.message\n      } else {\n        // remove paragraph node\n        this.removeTextBody()\n      }\n\n      // buttons\n      if (this.options.buttons !== null && Array.isArray(this.options.buttons)) {\n        if (this.options.buttons.length > 0) {\n          this.options.buttons.forEach((button) => {\n            this.options.element.querySelector('.dialog-footer').appendChild(this.buildButton(button))\n          })\n        } else {\n          this.removeFooter()\n        }\n      } else {\n        this.removeFooter()\n      }\n\n      document.body.appendChild(this.options.element)\n\n      this.setAttributes()\n    }\n\n    buildButton(buttonInfo = {}) {\n      const button = document.createElement('button')\n      button.setAttribute('type', 'button')\n      button.setAttribute('class', buttonInfo.class || 'btn')\n      button.setAttribute('data-event', buttonInfo.event)\n      button.innerHTML = buttonInfo.text\n\n      if (buttonInfo.dismiss) {\n        button.setAttribute('data-dismiss', NAME)\n      }\n\n      return button\n    }\n\n    buildBackdrop() {\n      const backdrop = document.createElement('div')\n      backdrop.setAttribute('data-id', this.id)\n      backdrop.classList.add(BACKDROP_SELECTOR)\n\n      document.body.appendChild(backdrop)\n    }\n\n    getBackdrop() {\n      return document.querySelector(`.${BACKDROP_SELECTOR}[data-id=\"${this.id}\"]`)\n    }\n\n    removeTextBody() {\n      this.options.element.querySelector('.dialog-body').removeChild(this.options.element.querySelector('.dialog-body').firstChild)\n    }\n\n    removeFooter() {\n      const footer = this.options.element.querySelector('.dialog-footer')\n      this.options.element.querySelector('.dialog-content').removeChild(footer)\n    }\n\n    center() {\n      const computedStyle = window.getComputedStyle(this.options.element)\n      const height = computedStyle.height.slice(0, computedStyle.height.length - 2)\n\n      const top = (window.innerHeight / 2) - (height / 2)\n      this.options.element.style.top = `${top}px`\n    }\n\n    show() {\n      if (this.options.element === null) {\n        // build and insert a new DOM element\n        this.build()\n      }\n\n      if (this.options.element.classList.contains('show')) {\n        return false\n      }\n\n      // add a timeout so that the CSS animation works\n      setTimeout(() => {\n        this.triggerEvent(Event.SHOW)\n        this.buildBackdrop()\n\n        // attach event\n        this.attachEvents()\n\n        const onShown = () => {\n          this.triggerEvent(Event.SHOWN)\n          this.options.element.removeEventListener(Event.TRANSITION_END, onShown)\n        }\n\n        this.options.element.addEventListener(Event.TRANSITION_END, onShown)\n\n        this.options.element.classList.add('show')\n\n        this.center()\n      }, 10)\n\n      return true\n    }\n\n    onElementEvent(event) {\n      // keyboard event (escape and enter)\n      if (event.type === 'keyup') {\n        if (this.options.cancelableKeyCodes.find(k => k === event.keyCode)) {\n          this.hide()\n        }\n        return\n      }\n\n      // backdrop event\n      if (event.type === Event.START) {\n        // hide the dialog\n        this.hide()\n        return\n      }\n\n      // button event\n      if (event.type === 'click') {\n        const eventName = event.target.getAttribute('data-event')\n\n        if (eventName) {\n          this.triggerEvent(eventName)\n        }\n\n        if (event.target.getAttribute('data-dismiss') === NAME) {\n          this.hide()\n        }\n      }\n    }\n\n    hide() {\n      if (!this.options.element.classList.contains('show')) {\n        return false\n      }\n\n      this.triggerEvent(Event.HIDE)\n\n      this.detachEvents()\n\n      this.options.element.classList.add('hide')\n      this.options.element.classList.remove('show')\n\n      const backdrop = this.getBackdrop()\n\n      const onHidden = () => {\n        document.body.removeChild(backdrop)\n\n        this.options.element.classList.remove('hide')\n\n        this.triggerEvent(Event.HIDDEN)\n\n        backdrop.removeEventListener(Event.TRANSITION_END, onHidden)\n\n        // remove generated dialogs from the DOM\n        if (this.dynamicElement) {\n          document.body.removeChild(this.options.element)\n          this.options.element = null\n        }\n      }\n\n      backdrop.addEventListener(Event.TRANSITION_END, onHidden)\n      backdrop.classList.add('fadeout')\n\n      return true\n    }\n\n    attachEvents() {\n      const buttons = this.options.element.querySelectorAll('[data-dismiss], .dialog-footer button')\n      if (buttons) {\n        Array.from(buttons).forEach(button => this.registerElement({ target: button, event: 'click' }))\n      }\n\n      // add events if the dialog is cancelable\n      // which means the user can hide the dialog\n      // by pressing the ESC key or click on the backdrop\n      if (this.options.cancelable) {\n        const backdrop = this.getBackdrop()\n        this.registerElement({ target: backdrop, event: Event.START })\n        this.registerElement({ target: document, event: 'keyup' })\n      }\n    }\n\n    detachEvents() {\n      const buttons = this.options.element.querySelectorAll('[data-dismiss], .dialog-footer button')\n      if (buttons) {\n        Array.from(buttons).forEach(button => this.unregisterElement({ target: button, event: 'click' }))\n      }\n\n      if (this.options.cancelable) {\n        const backdrop = this.getBackdrop()\n        this.unregisterElement({ target: backdrop, event: Event.START })\n        this.unregisterElement({ target: document, event: 'keyup' })\n      }\n    }\n\n    static identifier() {\n      return NAME\n    }\n\n    static _DOMInterface(options) {\n      return super._DOMInterface(Dialog, options)\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n  createJqueryPlugin($, NAME, Dialog);\n\n  /**\n   * ------------------------------------------------------------------------\n   * DOM Api implementation\n   * ------------------------------------------------------------------------\n   */\n  const components = []\n\n  const dialogs = document.querySelectorAll(`.${NAME}`)\n  if (dialogs) {\n    Array.from(dialogs).forEach((element) => {\n      const config = getAttributesConfig(element, DEFAULT_PROPERTIES, DATA_ATTRS_PROPERTIES)\n      config.element = element\n\n      components.push({ element, dialog: new Dialog(config) })\n    })\n  }\n\n  document.addEventListener('click', (event) => {\n    const dataToggleAttr = event.target.getAttribute('data-toggle')\n    if (dataToggleAttr && dataToggleAttr === NAME) {\n      const id = event.target.getAttribute('data-target')\n      const element = document.querySelector(id)\n\n      const component = components.find(c => c.element === element)\n\n      if (!component) {\n        return\n      }\n\n      // remove the focus state of the trigger\n      event.target.blur()\n\n      component.dialog.show()\n    }\n  })\n\n  return Dialog\n})(window.$ ? window.$ : null)\n\nexport default Dialog\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Dialog from './index'\nimport { getAttributesConfig } from '../componentManager'\n\nconst Prompt = (() => {\n\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'prompt'\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    title: null,\n    message: null,\n    cancelable: true,\n    type: NAME,\n    buttons: [\n      {\n        event: 'cancel',\n        text: 'Cancel',\n        dismiss: true,\n        class: 'btn btn-secondary',\n      },\n      {\n        event: 'confirm',\n        text: 'Ok',\n        dismiss: true,\n        class: 'btn btn-primary',\n      },\n    ],\n  }\n  const DATA_ATTRS_PROPERTIES = [\n    'cancelable',\n  ]\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Prompt extends Dialog {\n\n    constructor(options = {}) {\n      const template = '' +\n      '<div class=\"dialog\" tabindex=\"-1\" role=\"dialog\">' +\n        '<div class=\"dialog-inner\" role=\"document\">' +\n          '<div class=\"dialog-content\">' +\n            '<div class=\"dialog-header\">' +\n              '<h5 class=\"dialog-title\"></h5>' +\n            '</div>' +\n            '<div class=\"dialog-body\">' +\n              '<p></p>' +\n              '<input class=\"form-control\" type=\"text\" value=\"\">' +\n            '</div>' +\n            '<div class=\"dialog-footer\">' +\n            '</div>' +\n          '</div>' +\n        '</div>' +\n      '</div>'\n\n      if (!Array.isArray(options.buttons)) {\n        options.buttons = DEFAULT_PROPERTIES.buttons\n      }\n\n      super(options, template)\n    }\n\n    show() {\n      super.show()\n      this.attachInputEvent()\n    }\n\n    hide() {\n      super.hide()\n      this.detachInputEvent()\n    }\n\n    getInput() {\n      return this.options.element.querySelector('.form-control')\n    }\n\n    attachInputEvent() {\n      this.registerElement({ target: this.getInput(), event: 'keyup' })\n    }\n\n    detachInputEvent() {\n      this.unregisterElement({ target: this.getInput(), event: 'keyup' })\n    }\n\n    onElementEvent(event) {\n      if (event.target === this.getInput()) {\n        return\n      }\n\n      super.onElementEvent(event)\n    }\n\n    setInputValue(value = '') {\n      this.getInput().value = value\n    }\n\n    getInputValue() {\n      return this.getInput().value\n    }\n\n    static identifier() {\n      return NAME\n    }\n\n    static _DOMInterface(options) {\n      return new Prompt(options)\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * DOM Api implementation\n   * ------------------------------------------------------------------------\n   */\n  const components = []\n  const dialogs = document.querySelectorAll(`.${Dialog.identifier()}`)\n\n  if (dialogs) {\n    Array.from(dialogs).forEach((element) => {\n      const config = getAttributesConfig(element, DEFAULT_PROPERTIES, DATA_ATTRS_PROPERTIES)\n      config.element = element\n\n      if (config.type === NAME) {\n        // prompt\n        components.push(new Prompt(config))\n      }\n    })\n  }\n\n  document.addEventListener('click', (event) => {\n    const dataToggleAttr = event.target.getAttribute('data-toggle')\n    if (dataToggleAttr && dataToggleAttr === NAME) {\n      const id = event.target.getAttribute('data-target')\n      const element = document.querySelector(id)\n\n      const component = components.find(c => c.element === element)\n\n      if (!component) {\n        return\n      }\n\n      // remove the focus state of the trigger\n      event.target.blur()\n\n      component.dialog.show()\n    }\n  })\n\n  return Prompt\n})()\n\nexport default Prompt\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Dialog from './index'\nimport { getAttributesConfig } from '../componentManager'\n\nconst Confirm = (() => {\n\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'confirm'\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    title: null,\n    message: null,\n    cancelable: true,\n    type: NAME,\n    buttons: [\n      {\n        event: 'cancel',\n        text: 'Cancel',\n        dismiss: true,\n        class: 'btn btn-secondary',\n      },\n      {\n        event: 'confirm',\n        text: 'Ok',\n        dismiss: true,\n        class: 'btn btn-primary',\n      },\n    ],\n  }\n  const DATA_ATTRS_PROPERTIES = [\n    'cancelable',\n  ]\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Confirm extends Dialog {\n\n    constructor(options = {}) {\n      const template = '' +\n      '<div class=\"dialog\" tabindex=\"-1\" role=\"dialog\">' +\n        '<div class=\"dialog-inner\" role=\"document\">' +\n          '<div class=\"dialog-content\">' +\n            '<div class=\"dialog-header\">' +\n              '<h5 class=\"dialog-title\"></h5>' +\n            '</div>' +\n            '<div class=\"dialog-body\">' +\n              '<p></p>' +\n            '</div>' +\n            '<div class=\"dialog-footer\">' +\n            '</div>' +\n          '</div>' +\n        '</div>' +\n      '</div>'\n\n      if (!Array.isArray(options.buttons)) {\n        options.buttons = DEFAULT_PROPERTIES.buttons\n      }\n\n      super(options, template)\n    }\n\n    static identifier() {\n      return NAME\n    }\n\n    static _DOMInterface(options) {\n      return new Confirm(options)\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * DOM Api implementation\n   * ------------------------------------------------------------------------\n   */\n  const components = []\n  const dialogs = document.querySelectorAll(`.${Dialog.identifier()}`)\n\n  if (dialogs) {\n    Array.from(dialogs).forEach((element) => {\n      const config = getAttributesConfig(element, DEFAULT_PROPERTIES, DATA_ATTRS_PROPERTIES)\n      config.element = element\n\n      if (config.type === NAME) {\n        // confirm\n        components.push(new Confirm(config))\n      }\n    })\n  }\n\n  document.addEventListener('click', (event) => {\n    const dataToggleAttr = event.target.getAttribute('data-toggle')\n    if (dataToggleAttr && dataToggleAttr === NAME) {\n      const id = event.target.getAttribute('data-target')\n      const element = document.querySelector(id)\n\n      const component = components.find(c => c.element === element)\n\n      if (!component) {\n        return\n      }\n\n      // remove the focus state of the trigger\n      event.target.blur()\n\n      component.dialog.show()\n    }\n  })\n\n  return Confirm\n})()\n\nexport default Confirm\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Component from '../component'\nimport { createJqueryPlugin } from '../../common/utils'\n\nconst Loader = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'loader'\n  const VERSION = '2.0.0'\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    color: null,\n    size: null,\n  }\n  const DATA_ATTRS_PROPERTIES = []\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Loader extends Component {\n\n    constructor(options = {}) {\n      super(NAME, VERSION, DEFAULT_PROPERTIES, options, DATA_ATTRS_PROPERTIES, false, false)\n\n      // set color\n      const loaderSpinner = this.getSpinner()\n      if (typeof this.options.color === 'string'\n        && !loaderSpinner.classList.contains(`color-${this.options.color}`)) {\n        loaderSpinner.classList.add(`color-${this.options.color}`)\n      }\n\n      this.customSize = this.options.size !== null\n    }\n\n    getClientSize() {\n      if (!this.customSize) {\n        const size = this.options.element.getBoundingClientRect()\n        return size.height\n      }\n\n      return this.options.size\n    }\n\n    getSpinner() {\n      return this.options.element.querySelector('.loader-spinner')\n    }\n\n    show() {\n      if (this.options.element.classList.contains('hide')) {\n        this.options.element.classList.remove('hide')\n      }\n\n      const size = this.getClientSize()\n      this.options.size = size\n\n      if (this.customSize) {\n        this.options.element.style.width = `${this.options.size}px`\n        this.options.element.style.height = `${this.options.size}px`\n\n        const loaderSpinner = this.getSpinner()\n        loaderSpinner.style.width = `${this.options.size}px`\n        loaderSpinner.style.height = `${this.options.size}px`\n      }\n\n      return true\n    }\n\n    animate(startAnimation = true) {\n      if (startAnimation) {\n        this.show()\n      } else {\n        this.hide()\n      }\n\n      const loaderSpinner = this.getSpinner()\n\n      if (startAnimation &&\n        !loaderSpinner.classList.contains('loader-spinner-animated')) {\n        loaderSpinner.classList.add('loader-spinner-animated')\n        return true\n      }\n\n      if (!startAnimation &&\n        loaderSpinner.classList.contains('loader-spinner-animated')) {\n        loaderSpinner.classList.remove('loader-spinner-animated')\n      }\n\n      return true\n    }\n\n    hide() {\n      if (!this.options.element.classList.contains('hide')) {\n        this.options.element.classList.add('hide')\n      }\n\n      return true\n    }\n\n    static identifier() {\n      return NAME\n    }\n\n    static _DOMInterface(options) {\n      return super._DOMInterface(Loader, options)\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n  createJqueryPlugin($, NAME, Loader);\n\n  return Loader\n})(window.$ ? window.$ : null)\n\nexport default Loader\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Dialog from './index'\nimport Spinner from '../loader/index'\nimport { getAttributesConfig } from '../componentManager'\n\nconst Loader = (() => {\n\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'loader'\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    title: null,\n    message: null,\n    cancelable: true,\n    type: NAME,\n    buttons: [],\n  }\n  const DATA_ATTRS_PROPERTIES = [\n    'cancelable',\n  ]\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Loader extends Dialog {\n\n    constructor(options = {}) {\n      const template = '' +\n      '<div class=\"dialog\" tabindex=\"-1\" role=\"dialog\">' +\n        '<div class=\"dialog-inner\" role=\"document\">' +\n          '<div class=\"dialog-content\">' +\n            '<div class=\"dialog-header\">' +\n              '<h5 class=\"dialog-title\"></h5>' +\n            '</div>' +\n            '<div class=\"dialog-body\">' +\n              '<p></p>' +\n              '<div class=\"mx-auto text-center\">' +\n                '<div class=\"loader mx-auto d-block\">' +\n                  '<div class=\"loader-spinner\"></div>' +\n                '</div>' +\n              '</div>' +\n            '</div>' +\n            '<div class=\"dialog-footer\">' +\n            '</div>' +\n          '</div>' +\n        '</div>' +\n      '</div>'\n\n      if (!Array.isArray(options.buttons)) {\n        options.buttons = options.cancelable ? DEFAULT_PROPERTIES.buttons : []\n      }\n\n      super(options, template)\n\n      this.spinner = null\n    }\n\n    show() {\n      super.show()\n\n      this.spinner = new Spinner({element: this.getElement().querySelector('.loader')})\n      this.spinner.animate(true)\n    }\n\n    hide() {\n      super.hide()\n\n      this.spinner.animate(false)\n      this.spinner = null\n    }\n\n    static identifier() {\n      return NAME\n    }\n\n    static _DOMInterface(options) {\n      return new Loader(options)\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * DOM Api implementation\n   * ------------------------------------------------------------------------\n   */\n  const components = []\n  const dialogs = document.querySelectorAll(`.${Dialog.identifier()}`)\n\n  if (dialogs) {\n    Array.from(dialogs).forEach((element) => {\n      const config = getAttributesConfig(element, DEFAULT_PROPERTIES, DATA_ATTRS_PROPERTIES)\n      config.element = element\n\n      if (config.type === NAME) {\n        // loader\n        components.push(new Loader(config))\n      }\n    })\n  }\n\n  document.addEventListener('click', (event) => {\n    const dataToggleAttr = event.target.getAttribute('data-toggle')\n    if (dataToggleAttr && dataToggleAttr === NAME) {\n      const id = event.target.getAttribute('data-target')\n      const element = document.querySelector(id)\n\n      const component = components.find(c => c.element === element)\n\n      if (!component) {\n        return\n      }\n\n      // remove the focus state of the trigger\n      event.target.blur()\n\n      component.dialog.show()\n    }\n  })\n\n  return Loader\n})()\n\nexport default Loader\n","/**\n* --------------------------------------------------------------------------\n* Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n* --------------------------------------------------------------------------\n*/\nimport Event from '../../common/events'\nimport Component from '../component'\nimport { createJqueryPlugin } from '../../common/utils';\n\nconst Notification = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n  * Constants\n  * ------------------------------------------------------------------------\n  */\n\n  const NAME = 'notification'\n  const VERSION = '2.0.0'\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    message: '',\n    showButton: true,\n    timeout: null,\n    background: 'primary',\n  }\n  const DATA_ATTRS_PROPERTIES = [\n    'timeout',\n  ]\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Notification extends Component {\n\n    constructor(options = {}) {\n      super(NAME, VERSION, DEFAULT_PROPERTIES, options, DATA_ATTRS_PROPERTIES, true, false)\n\n      this.template = '' +\n      '<div class=\"notification\">' +\n        '<div class=\"notification-inner\">' +\n          '<div class=\"message\"></div>' +\n          '<button type=\"button\" class=\"close\" data-dismiss=\"notification\" aria-label=\"Close\">' +\n            '<span aria-hidden=\"true\">&times;</span>' +\n          '</button>' +\n        '</div>' +\n      '</div>'\n\n      if (this.dynamicElement) {\n        this.build()\n      }\n\n      this.timeoutCallback = null\n    }\n\n    build() {\n      const builder = document.createElement('div')\n\n      builder.innerHTML = this.template\n\n      this.options.element = builder.firstChild\n\n      // text message\n      this.options.element.querySelector('.message').innerHTML = this.options.message\n\n      if (!this.options.showButton) {\n        this.options.element.querySelector('button').style.display = 'none'\n      }\n\n      document.body.appendChild(this.options.element)\n\n      this.setAttributes()\n    }\n\n    show() {\n      if (this.options.element === null) {\n        // build and insert a new DOM element\n        this.build()\n      }\n\n      if (this.options.element.classList.contains('show')) {\n        return false\n      }\n\n      // reset color\n      if (this.options.background) {\n        this.options.element.removeAttribute('class')\n        this.options.element.setAttribute('class', 'notification')\n\n        this.options.element.classList.add(`bg-${this.options.background}`)\n        this.options.element.querySelector('button').classList.add(`btn-${this.options.background}`)\n      }\n\n      if (this.options.showButton) {\n        // attach the button handler\n        const buttonElement = this.options.element.querySelector('button')\n        this.registerElement({ target: buttonElement, event: 'click' })\n      }\n\n      setTimeout(() => {\n        this.options.element.classList.add('show')\n\n        // set position\n        const activeNotifications = document.querySelectorAll('.notification.show') || []\n        let pushDistance = 0\n        activeNotifications.forEach((notification) => {\n          if (this.options.element !== notification) {\n            const style = getComputedStyle(notification)\n            pushDistance += notification.offsetHeight + parseInt(style.marginBottom, 10)\n          }\n        })\n\n        this.options.element.style.transform = `translateY(${pushDistance}px)`\n\n        this.triggerEvent(Event.SHOW)\n\n        const onShown = () => {\n          this.triggerEvent(Event.SHOWN)\n          this.options.element.removeEventListener(Event.TRANSITION_END, onShown)\n        }\n\n        this.options.element.addEventListener(Event.TRANSITION_END, onShown)\n\n      }, 1)\n\n      if (Number.isInteger(this.options.timeout) && this.options.timeout > 0) {\n        // if there is a timeout, auto hide the notification\n        this.timeoutCallback = setTimeout(() => {\n          this.hide()\n        }, this.options.timeout + 1)\n      }\n\n      return true\n    }\n\n    hide() {\n      /*\n       * prevent to close a notification with a timeout\n       * if the user has already clicked on the button\n       */\n      if (this.timeoutCallback) {\n        clearTimeout(this.timeoutCallback)\n        this.timeoutCallback = null\n      }\n\n      if (!this.options.element.classList.contains('show')) {\n        return false\n      }\n\n      this.triggerEvent(Event.HIDE)\n\n      if (this.options.showButton) {\n        const buttonElement = this.options.element.querySelector('button')\n        this.unregisterElement({ target: buttonElement, event: 'click' })\n      }\n\n      this.options.element.classList.remove('show')\n      this.options.element.classList.add('hide')\n\n      const onHidden = () => {\n        this.options.element.removeEventListener(Event.TRANSITION_END, onHidden)\n        this.options.element.classList.remove('hide')\n\n        this.triggerEvent(Event.HIDDEN)\n\n        if (this.dynamicElement) {\n          document.body.removeChild(this.options.element)\n          this.options.element = null\n        }\n      }\n\n      this.options.element.addEventListener(Event.TRANSITION_END, onHidden)\n\n      return true\n    }\n\n    onElementEvent() {\n      this.hide()\n    }\n\n    static identifier() {\n      return NAME\n    }\n\n    static _DOMInterface(options) {\n      return super._DOMInterface(Notification, options)\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n  createJqueryPlugin($, NAME, Notification);\n\n\n  return Notification\n})(window.$ ? window.$ : null)\n\nexport default Notification\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Component from '../component'\nimport { getAttributesConfig } from '../componentManager'\nimport Event from '../../common/events'\nimport { findTargetByAttr } from '../../common/utils'\n\nconst Collapse = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'collapse'\n  const VERSION = '2.0.0'\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    toggle: false,\n  }\n  const DATA_ATTRS_PROPERTIES = [\n    'toggle',\n  ]\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Collapse extends Component {\n\n    constructor(options = {}) {\n      super(NAME, VERSION, DEFAULT_PROPERTIES, options, DATA_ATTRS_PROPERTIES, false, false)\n\n      this.onTransition = false\n\n      // toggle directly\n      if (this.options.toggle) {\n        this.show()\n      }\n    }\n\n    getHeight() {\n      return this.options.element.getBoundingClientRect(this.options.element).height\n    }\n\n    toggle() {\n      if (this.options.element.classList.contains('show')) {\n        return this.hide()\n      }\n\n      return this.show()\n    }\n\n    show() {\n      if (this.onTransition) {\n        return false\n      }\n\n      if (this.options.element.classList.contains('show')) {\n        return false\n      }\n\n      this.onTransition = true\n\n      const onCollapsed = () => {\n        this.options.element.classList.add('show')\n        this.options.element.classList.remove('collapsing')\n        this.options.element.removeEventListener(Event.TRANSITION_END, onCollapsed)\n\n        this.options.element.setAttribute('aria-expanded', true)\n\n        this.onTransition = false\n      }\n\n      if (!this.options.element.classList.contains('collapsing')) {\n        this.options.element.classList.add('collapsing')\n      }\n\n      this.options.element.addEventListener(Event.TRANSITION_END, onCollapsed)\n\n      const height = this.getHeight()\n\n      this.options.element.style.height = '0px'\n\n      setTimeout(() => {\n        this.options.element.style.height = `${height}px`\n      }, 20)\n\n      return true\n    }\n\n    hide() {\n      if (this.onTransition) {\n        return false\n      }\n\n      if (!this.options.element.classList.contains('show')) {\n        return false\n      }\n\n      this.onTransition = true\n\n      const onCollapsed = () => {\n        this.options.element.classList.remove('collapsing')\n        this.options.element.style.height = 'auto'\n        this.options.element.removeEventListener(Event.TRANSITION_END, onCollapsed)\n\n        this.options.element.setAttribute('aria-expanded', false)\n\n        this.onTransition = false\n      }\n\n      this.options.element.style.height = '0px'\n\n      if (!this.options.element.classList.contains('collapsing')) {\n        this.options.element.classList.add('collapsing')\n      }\n\n      this.options.element.addEventListener(Event.TRANSITION_END, onCollapsed)\n\n      this.options.element.classList.remove('show')\n\n      return true\n    }\n\n    static identifier() {\n      return NAME\n    }\n\n    static _DOMInterface(options) {\n      return super._DOMInterface(Collapse, options)\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * DOM Api implementation\n   * ------------------------------------------------------------------------\n   */\n  const components = []\n\n  const collapses = document.querySelectorAll(`.${NAME}`)\n  if (collapses) {\n    collapses.forEach((element) => {\n      // const config = {}\n      const config = getAttributesConfig(element, DEFAULT_PROPERTIES, DATA_ATTRS_PROPERTIES)\n      config.element = element\n\n      components.push(Collapse._DOMInterface(config))\n    })\n  }\n\n  document.addEventListener('click', (event) => {\n    const target = findTargetByAttr(event.target, 'data-toggle')\n    if (!target) {\n      return\n    }\n\n    const dataToggleAttr = target.getAttribute('data-toggle')\n\n    if (dataToggleAttr && dataToggleAttr === NAME) {\n      let id = target.getAttribute('data-target') || target.getAttribute('href')\n      id = id.replace('#', '')\n\n      const component = components.find(c => c.getElement().getAttribute('id') === id)\n\n      if (!component) {\n        return\n      }\n\n      component.toggle()\n    }\n  })\n\n  return Collapse\n})(window.$ ? window.$ : null)\n\nexport default Collapse\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Component from '../component'\nimport Collapse from '../collapse'\nimport { getAttributesConfig } from '../componentManager'\nimport { findTargetByClass, createJqueryPlugin } from '../../common/utils'\n\nconst Accordion = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'accordion'\n  const VERSION = '2.0.0'\n  const DEFAULT_PROPERTIES = {\n    element: null,\n  }\n  const DATA_ATTRS_PROPERTIES = [\n  ]\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Accordion extends Component {\n\n    constructor(options = {}) {\n      super(NAME, VERSION, DEFAULT_PROPERTIES, options, DATA_ATTRS_PROPERTIES, false, false)\n\n      this.collapses = []\n\n      const toggles = this.options.element.querySelectorAll(`[data-toggle=\"${NAME}\"]`)\n      Array.from(toggles).forEach((toggle) => {\n        const collapseId = toggle.getAttribute('href')\n        const collapse = document.querySelector(collapseId)\n\n        if (collapse) {\n          this.addCollapse(collapse)\n        }\n      })\n    }\n\n    onElementEvent(event) {\n      const id = event.target.getAttribute('href')\n      const element = document.querySelector(id)\n\n      this.setCollapses(element)\n    }\n\n    addCollapse(element) {\n      const collapse = new Collapse({\n        element,\n      })\n      this.collapses.push(collapse)\n\n      return collapse\n    }\n\n    getCollapse(element) {\n      let collapse = this.collapses.find(c => c.options.element.getAttribute('id') === element.getAttribute('id'))\n\n      if (!collapse) {\n        // create a new collapse\n        collapse = this.addCollapse()\n      }\n\n      return collapse\n    }\n\n    getCollapses() {\n      return this.collapses\n    }\n\n    setCollapses(showCollapse) {\n      const collapse = this.getCollapse(showCollapse)\n      this.collapses.forEach((c) => {\n        if (c.options.element.getAttribute('id') !== showCollapse.getAttribute('id')) {\n          c.hide()\n        } else {\n          collapse.toggle()\n        }\n      })\n    }\n\n    show(collapseEl) {\n      let collapse = collapseEl\n      if (typeof collapseEl === 'string') {\n        collapse = document.querySelector(collapseEl)\n      }\n\n      if (!collapse) {\n        throw new Error(`${NAME}. The collapsible ${collapseEl} is an invalid HTMLElement.`)\n      }\n\n      this.setCollapses(collapse)\n\n      return true\n    }\n\n    hide(collapseEl) {\n      let collapse = collapseEl\n      if (typeof collapseEl === 'string') {\n        collapse = document.querySelector(collapseEl)\n      }\n\n      if (!collapse) {\n        throw new Error(`${NAME}. The collapsible ${collapseEl} is an invalid HTMLElement.`)\n      }\n\n      const collapseObj = this.getCollapse(collapse)\n      return collapseObj.hide()\n    }\n\n    static identifier() {\n      return NAME\n    }\n\n    static _DOMInterface(options) {\n      return super._DOMInterface(Accordion, options)\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n  createJqueryPlugin($, NAME, Accordion);\n\n  /**\n   * ------------------------------------------------------------------------\n   * DOM Api implementation\n   * ------------------------------------------------------------------------\n   */\n  const components = []\n\n  const accordions = document.querySelectorAll(`.${NAME}`)\n  if (accordions) {\n    Array.from(accordions).forEach((element) => {\n      const config = getAttributesConfig(element, DEFAULT_PROPERTIES, DATA_ATTRS_PROPERTIES)\n      config.element = element\n\n      components.push(Accordion._DOMInterface(config))\n    })\n  }\n\n  document.addEventListener('click', (event) => {\n    const dataToggleAttr = event.target.getAttribute('data-toggle')\n    if (dataToggleAttr && dataToggleAttr === NAME) {\n      const collapseId = event.target.getAttribute('data-target') || event.target.getAttribute('href')\n      const collapseEl = document.querySelector(collapseId)\n\n      const accordion = findTargetByClass(event.target, 'accordion')\n\n      if (accordion === null) {\n        return\n      }\n\n      const accordionId = accordion.getAttribute('id')\n      const component = components.find(c => c.getElement().getAttribute('id') === accordionId)\n\n      if (!component) {\n        return\n      }\n\n      // if the collapse has been added programmatically, we add it\n      const targetCollapse = component.getCollapses().find(c => c.getElement() === collapseEl)\n      if (!targetCollapse) {\n        component.addCollapse(collapseEl)\n      }\n\n      component.show(collapseId)\n    }\n  })\n\n  return Accordion\n})(window.$ ? window.$ : null)\n\nexport default Accordion\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Component from '../component'\nimport { getAttributesConfig } from '../componentManager'\nimport Event from '../../common/events'\nimport { findTargetByClass, createJqueryPlugin } from '../../common/utils'\n\nconst Tab = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'tab'\n  const VERSION = '2.0.0'\n  const DEFAULT_PROPERTIES = {\n\n  }\n  const DATA_ATTRS_PROPERTIES = [\n  ]\n  const TAB_CONTENT_SELECTOR = '.tab-pane'\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Tab extends Component {\n\n    constructor(options = {}) {\n      super(NAME, VERSION, DEFAULT_PROPERTIES, options, DATA_ATTRS_PROPERTIES, false, false)\n    }\n\n    show() {\n      if (this.options.element.classList.contains('active')) {\n        return false\n      }\n\n      const id = this.options.element.getAttribute('href')\n      const nav = findTargetByClass(this.options.element, 'nav')\n      const navTabs = nav ? nav.querySelectorAll(`[data-toggle=\"${NAME}\"]`) : null\n\n      if (navTabs) {\n        Array.from(navTabs).forEach((tab) => {\n          if (tab.classList.contains('active')) {\n            tab.classList.remove('active')\n          }\n          tab.setAttribute('aria-selected', false)\n        })\n      }\n\n      this.options.element.classList.add('active')\n      this.options.element.setAttribute('aria-selected', true)\n\n      const tabContent = document.querySelector(id)\n      const tabContents = tabContent.parentNode.querySelectorAll(TAB_CONTENT_SELECTOR)\n\n      if (tabContents) {\n        Array.from(tabContents).forEach((tab) => {\n          if (tab.classList.contains('active')) {\n            tab.classList.remove('active')\n          }\n        })\n      }\n\n      tabContent.classList.add('showing')\n\n      setTimeout(() => {\n        const onShowed = () => {\n          tabContent.classList.remove('animate')\n          tabContent.classList.add('active')\n          tabContent.classList.remove('showing')\n          tabContent.removeEventListener(Event.TRANSITION_END, onShowed)\n        }\n\n        tabContent.addEventListener(Event.TRANSITION_END, onShowed)\n\n        tabContent.classList.add('animate')\n      }, 20)\n\n      return true\n    }\n\n    hide() {\n      if (!this.options.element.classList.contains('active')) {\n        return false\n      }\n\n      if (this.options.element.classList.contains('active')) {\n        this.options.element.classList.remove('active')\n      }\n\n      this.options.element.setAttribute('aria-selected', false)\n\n      const id = this.options.element.getAttribute('href')\n      const tabContent = document.querySelector(id)\n\n      if (tabContent.classList.contains('active')) {\n        tabContent.classList.remove('active')\n      }\n\n      return true\n    }\n\n    static identifier() {\n      return NAME\n    }\n\n    static _DOMInterface(options) {\n      return super._DOMInterface(Tab, options)\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n  createJqueryPlugin($, NAME, Tab);\n\n  /**\n   * ------------------------------------------------------------------------\n   * DOM Api implementation\n   * ------------------------------------------------------------------------\n   */\n  const components = []\n\n  const tabs = document.querySelectorAll(`[data-toggle=\"${NAME}\"]`)\n  if (tabs) {\n    Array.from(tabs).forEach((element) => {\n      // const config = {}\n      const config = getAttributesConfig(element, DEFAULT_PROPERTIES, DATA_ATTRS_PROPERTIES)\n      config.element = element\n\n      components.push(Tab._DOMInterface(config))\n    })\n  }\n\n  document.addEventListener('click', (event) => {\n    const dataToggleAttr = event.target.getAttribute('data-toggle')\n    if (dataToggleAttr && dataToggleAttr === NAME) {\n      const id = event.target.getAttribute('href')\n\n      const component = components.find(c => c.getElement().getAttribute('href') === id)\n\n      if (!component) {\n        return\n      }\n\n      component.show()\n    }\n  })\n\n  return Tab\n})(window.$ ? window.$ : null)\n\nexport default Tab\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Component from '../component'\nimport Event from '../../common/events'\nimport { createJqueryPlugin } from '../../common/utils'\n\nconst Progress = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'progress'\n  const VERSION = '2.0.0'\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    height: 5,\n    min: 0,\n    max: 100,\n    label: false,\n    striped: false,\n    background: null,\n  }\n  const DATA_ATTRS_PROPERTIES = [\n    'height',\n    'min',\n    'max',\n    'label',\n    'striped',\n    'background',\n  ]\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Progress extends Component {\n\n    constructor(options = {}) {\n      super(NAME, VERSION, DEFAULT_PROPERTIES, options, DATA_ATTRS_PROPERTIES, false, false)\n\n      // set the wanted height\n      this.options.element.style.height = `${this.options.height}px`\n\n      // set min and max values\n      const progressBar = this.getProgressBar()\n      progressBar.setAttribute('aria-valuemin', `${this.options.min}`)\n      progressBar.setAttribute('aria-valuemax', `${this.options.max}`)\n\n      // set striped\n      if (this.options.striped\n        && !progressBar.classList.contains('progress-bar-striped')) {\n        progressBar.classList.add('progress-bar-striped')\n      }\n\n      // set background\n      if (typeof this.options.background === 'string'\n        && !progressBar.classList.contains(`bg-${this.options.background}`)) {\n        progressBar.classList.add(`bg-${this.options.background}`)\n      }\n    }\n\n    getProgressBar() {\n      return this.options.element.querySelector('.progress-bar')\n    }\n\n    set(value = 0) {\n      const progressBar = this.getProgressBar()\n      const progress = Math.round((value / (this.options.min + this.options.max)) * 100)\n\n      if (value < this.options.min) {\n        console.error(`${NAME}. Warning, ${value} is under min value.`)\n        return false\n      }\n\n      if (value > this.options.max) {\n        console.error(`${NAME}. Warning, ${value} is above max value.`)\n        return false\n      }\n\n      progressBar.setAttribute('aria-valuenow', `${value}`)\n\n      // set label\n      if (this.options.label) {\n        progressBar.innerHTML = `${progress}%`\n      }\n\n      // set percentage\n      progressBar.style.width = `${progress}%`\n\n      return true\n    }\n\n    animate(startAnimation = true) {\n      if (!this.options.striped) {\n        console.error(`${NAME}. Animation works only with striped progress.`)\n        return false\n      }\n\n      const progressBar = this.getProgressBar()\n\n      if (startAnimation\n        && !progressBar.classList.contains('progress-bar-animated')) {\n        progressBar.classList.add('progress-bar-animated')\n      }\n\n      if (!startAnimation\n        && progressBar.classList.contains('progress-bar-animated')) {\n        progressBar.classList.remove('progress-bar-animated')\n      }\n\n      return true\n    }\n\n    show() {\n      this.options.element.style.height = `${this.options.height}px`\n      this.triggerEvent(Event.SHOW)\n      this.triggerEvent(Event.SHOWN)\n\n      return true\n    }\n\n    hide() {\n      this.options.element.style.height = '0px'\n      this.triggerEvent(Event.HIDE)\n      this.triggerEvent(Event.HIDDEN)\n\n      return true\n    }\n\n    static identifier() {\n      return NAME\n    }\n\n    static _DOMInterface(options) {\n      return super._DOMInterface(Progress, options)\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n  createJqueryPlugin($, NAME, Progress);\n\n  return Progress\n})(window.$ ? window.$ : null)\n\nexport default Progress\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Event from '../../common/events'\nimport Component from '../component'\nimport { getAttributesConfig } from '../componentManager'\nimport { findTargetByAttr, createJqueryPlugin } from '../../common/utils'\n\nconst OffCanvas = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'offCanvas'\n  const VERSION = '2.0.0'\n  const BACKDROP_SELECTOR = 'off-canvas-backdrop'\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    aside: {\n      md: false,\n      lg: false,\n      xl: false,\n    },\n  }\n  const DATA_ATTRS_PROPERTIES = [\n    'aside',\n  ]\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class OffCanvas extends Component {\n\n    constructor(options = {}) {\n      super(NAME, VERSION, DEFAULT_PROPERTIES, options, DATA_ATTRS_PROPERTIES, false, true)\n\n      this.useBackdrop = true\n      this.currentWidth = null\n      this.animate = true\n\n      this.directions = ['left', 'right']\n\n      const sm = { name: 'sm', media: window.matchMedia('(min-width: 1px)') }\n      const md = { name: 'md', media: window.matchMedia('(min-width: 768px)') }\n      const lg = { name: 'lg', media: window.matchMedia('(min-width: 992px)') }\n      const xl = { name: 'xl', media: window.matchMedia('(min-width: 1200px)') }\n\n      this.sizes = [sm, md, lg, xl].reverse()\n\n      this.checkDirection()\n      this.checkWidth()\n\n      window.addEventListener('resize', () => this.checkWidth(), false)\n    }\n\n    checkDirection() {\n      this.directions.every((direction) => {\n        if (this.options.element.classList.contains(`off-canvas-${direction}`)) {\n          this.direction = direction\n          return false\n        }\n        return true\n      })\n    }\n\n    checkWidth() {\n      if (!('matchMedia' in window)) {\n        return\n      }\n\n      this.sizes.every((size) => {\n        const match = size.media.media.match(/[a-z]?-width:\\s?([0-9]+)/)\n\n        if (match) {\n          if (size.media.matches) {\n            if (this.currentWidth !== size.name) {\n              this.setAside(size.name)\n            }\n            this.currentWidth = size.name\n            return false\n          }\n        }\n\n        return true\n      })\n    }\n\n    preventClosable() {\n      return super.preventClosable() || this.options.aside[this.currentWidth] === true\n    }\n\n    setAside(name) {\n      const content = document.body\n\n      if (this.options.aside[name] === true) {\n        if (!content.classList.contains(`off-canvas-aside-${this.direction}`)) {\n          content.classList.add(`off-canvas-aside-${this.direction}`)\n        }\n\n        this.useBackdrop = false\n\n        // avoid animation by setting animate to false\n        this.animate = false\n        this.show()\n        // remove previous backdrop\n        this.removeBackdrop()\n      } else {\n        if (content.classList.contains(`off-canvas-aside-${this.direction}`)) {\n          content.classList.remove(`off-canvas-aside-${this.direction}`)\n        }\n\n        this.hide()\n        this.useBackdrop = true\n        this.animate = true\n      }\n    }\n\n    onElementEvent(event) {\n      if (event.type === 'keyup' && event.keyCode !== 27 && event.keyCode !== 13) {\n        return\n      }\n\n      // hide the off-canvas\n      this.hide()\n    }\n\n    show() {\n      if (this.options.element.classList.contains('show')) {\n        return false\n      }\n\n      // add a timeout so that the CSS animation works\n      setTimeout(() => {\n        this.triggerEvent(Event.SHOW)\n\n        const onShown = () => {\n          this.triggerEvent(Event.SHOWN)\n\n          if (this.animate) {\n            this.options.element.removeEventListener(Event.TRANSITION_END, onShown)\n            this.options.element.classList.remove('animate')\n          }\n        }\n\n        if (this.useBackdrop) {\n          this.createBackdrop()\n        }\n\n\n        if (this.animate) {\n          this.options.element.addEventListener(Event.TRANSITION_END, onShown)\n          this.options.element.classList.add('animate')\n        } else {\n          // directly trigger the onShown\n          onShown()\n        }\n\n        this.options.element.classList.add('show')\n\n        // attach event\n        this.attachEvents()\n      }, 1)\n\n      return true\n    }\n\n    hide() {\n      if (!this.options.element.classList.contains('show')) {\n        return false\n      }\n\n      this.triggerEvent(Event.HIDE)\n\n      this.detachEvents()\n\n      if (this.animate) {\n        this.options.element.classList.add('animate')\n      }\n\n      this.options.element.classList.remove('show')\n\n      if (this.useBackdrop) {\n        const backdrop = this.getBackdrop()\n\n        const onHidden = () => {\n          if (this.animate) {\n            this.options.element.classList.remove('animate')\n          }\n\n          backdrop.removeEventListener(Event.TRANSITION_END, onHidden)\n          this.triggerEvent(Event.HIDDEN)\n          this.removeBackdrop()\n        }\n\n        backdrop.addEventListener(Event.TRANSITION_END, onHidden)\n        backdrop.classList.add('fadeout')\n      }\n\n      return true\n    }\n\n    createBackdrop() {\n      const backdrop = document.createElement('div')\n      backdrop.setAttribute('data-id', this.id)\n      backdrop.classList.add(BACKDROP_SELECTOR)\n\n      document.body.appendChild(backdrop)\n    }\n\n    getBackdrop() {\n      return document.querySelector(`.${BACKDROP_SELECTOR}[data-id=\"${this.id}\"]`)\n    }\n\n    removeBackdrop() {\n      const backdrop = this.getBackdrop()\n      if (backdrop) {\n        document.body.removeChild(backdrop)\n      }\n    }\n\n    attachEvents() {\n      const dismissButtons = this.options.element.querySelectorAll('[data-dismiss]')\n\n      if (dismissButtons) {\n        Array.from(dismissButtons).forEach(button => this.registerElement({ target: button, event: 'click' }))\n      }\n\n      if (this.useBackdrop) {\n        const backdrop = this.getBackdrop()\n        this.registerElement({ target: backdrop, event: Event.START })\n      }\n\n      this.registerElement({ target: document, event: 'keyup' })\n    }\n\n    detachEvents() {\n      const dismissButtons = this.options.element.querySelectorAll('[data-dismiss]')\n\n      if (dismissButtons) {\n        Array.from(dismissButtons).forEach(button => this.unregisterElement({ target: button, event: 'click' }))\n      }\n\n      if (this.useBackdrop) {\n        const backdrop = this.getBackdrop()\n        this.unregisterElement({ target: backdrop, event: Event.START })\n      }\n\n      this.unregisterElement({ target: document, event: 'keyup' })\n    }\n\n    static identifier() {\n      return NAME\n    }\n\n    static _DOMInterface(options) {\n      return super._DOMInterface(OffCanvas, options)\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n  createJqueryPlugin($, NAME, OffCanvas);\n\n  /**\n   * ------------------------------------------------------------------------\n   * DOM Api implementation\n   * ------------------------------------------------------------------------\n   */\n  const components = []\n\n  const offCanvas = document.querySelectorAll(`.${NAME}`)\n  if (offCanvas) {\n    Array.from(offCanvas).forEach((element) => {\n      const config = getAttributesConfig(element, DEFAULT_PROPERTIES, DATA_ATTRS_PROPERTIES)\n      config.element = element\n\n      components.push({ element, offCanvas: new OffCanvas(config) })\n    })\n  }\n\n  document.addEventListener('click', (event) => {\n    const target = findTargetByAttr(event.target, 'data-toggle')\n    if (!target) {\n      return\n    }\n\n    const dataToggleAttr = target.getAttribute('data-toggle')\n    if (dataToggleAttr && dataToggleAttr === NAME) {\n      const id = target.getAttribute('data-target')\n      const element = document.querySelector(id)\n\n      const component = components.find(c => c.element === element)\n\n      if (!component) {\n        return\n      }\n\n      target.blur()\n\n      component.offCanvas.show()\n    }\n  })\n\n  return OffCanvas\n})(window.$ ? window.$ : null)\n\nexport default OffCanvas\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Component from '../component'\nimport Event from '../../common/events'\nimport { findTargetByClass } from '../../common/utils'\nimport { getAttributesConfig } from '../componentManager'\n\nconst Dropdown = (() => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'dropdown'\n  const VERSION = '2.0.0'\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    default: true,\n    search: false,\n  }\n  const DATA_ATTRS_PROPERTIES = [\n    'default',\n    'search',\n  ]\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Dropdown extends Component {\n\n    constructor(options = {}) {\n      super(NAME, VERSION, DEFAULT_PROPERTIES, options, DATA_ATTRS_PROPERTIES, false, false)\n\n      const selected = this.options.element.querySelector('[data-selected]')\n      const item = this.getItemData(selected)\n\n      this.setSelected(item.value, item.text, false)\n    }\n\n    setSelected(value = '', text = null, checkExists = true) {\n      if (!this.options.default) {\n        return false\n      }\n\n      let textDisplay = text\n      this.options.element.querySelector('.default-text').innerHTML = text\n      this.options.element.querySelector('input[type=\"hidden\"]').value = value\n\n      const items = this.options.element.querySelectorAll('.item') || []\n      let itemFound = false\n\n      Array.from(items).forEach((item) => {\n        if (item.classList.contains('selected')) {\n          item.classList.remove('selected')\n        }\n\n        const data = this.getItemData(item)\n\n        if (value === data.value) {\n          if (!item.classList.contains('selected')) {\n            item.classList.add('selected')\n          }\n\n          textDisplay = data.text\n          itemFound = true\n        }\n      })\n\n      if (checkExists && itemFound) {\n        this.options.element.querySelector('.default-text').innerHTML = textDisplay\n      } else if (checkExists && !itemFound) {\n        throw new Error(`${NAME}. The value \"${value}\" does not exist in the list of items.`)\n      }\n\n      return true\n    }\n\n    getSelected() {\n      return this.options.element.querySelector('input[type=\"hidden\"]').value\n    }\n\n    getItemData(item = null) {\n      let text = ''\n      let value = ''\n\n      if (item) {\n        text = item.getAttribute('data-text') || item.innerHTML\n\n        const selectedTextNode = item.querySelector('.text')\n        if (selectedTextNode) {\n          text = selectedTextNode.innerHTML\n        }\n\n        value = item.getAttribute('data-value') || ''\n      }\n\n      return { text, value }\n    }\n\n    onElementEvent(event) {\n      if (event.type === Event.START) {\n        const dropdown = findTargetByClass(event.target, 'dropdown')\n\n        /*\n         * hide the current dropdown only if the event concerns another dropdown\n         * hide also if the user clicks outside a dropdown\n         */\n        if (!dropdown || dropdown !== this.getElement()) {\n          this.hide()\n        }\n      } else if (event.type === 'click') {\n        const item = findTargetByClass(event.target, 'item')\n\n        if (item) {\n          if (item.classList.contains('disabled')) {\n            return\n          }\n\n          const itemInfo = this.getItemData(item)\n\n          if (this.getSelected() !== itemInfo.value) {\n            // the user selected another value, we dispatch the event\n            this.setSelected(itemInfo.value, itemInfo.text, false)\n            const detail = { item, text: itemInfo.text, value: itemInfo.value }\n            this.triggerEvent(Event.ITEM_SELECTED, detail)\n          }\n\n          this.hide()\n          return\n        }\n\n        // don't toggle the dropdown if the event concerns headers, dividers\n        const dropdownMenu = findTargetByClass(event.target, 'dropdown-menu')\n        if (dropdownMenu) {\n          return\n        }\n\n        this.toggle()\n      }\n    }\n\n    toggle() {\n      if (this.options.element.classList.contains('active')) {\n        return this.hide()\n      }\n\n      return this.show()\n    }\n\n    show() {\n      if (this.options.element.classList.contains('active')) {\n        return false\n      }\n\n      this.options.element.classList.add('active')\n\n      const dropdownMenu = this.options.element.querySelector('.dropdown-menu')\n\n      // scroll to top\n      dropdownMenu.scrollTop = 0\n\n      this.triggerEvent(Event.SHOW)\n      this.triggerEvent(Event.SHOWN)\n\n      this.registerElement({ target: dropdownMenu, event: 'click' })\n      this.registerElement({ target: document.body, event: Event.START })\n\n      return true\n    }\n\n    hide() {\n      if (!this.options.element.classList.contains('active')) {\n        return false\n      }\n\n      this.options.element.classList.remove('active')\n\n      this.triggerEvent(Event.HIDE)\n      this.triggerEvent(Event.HIDDEN)\n\n      this.unregisterElement({ target: this.options.element.querySelector('.dropdown-menu'), event: 'click' })\n      this.unregisterElement({ target: document.body, event: Event.START })\n\n      return true\n    }\n\n    static identifier() {\n      return NAME\n    }\n\n    static _DOMInterface(options) {\n      return super._DOMInterface(Dropdown, options)\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * DOM Api implementation\n   * ------------------------------------------------------------------------\n   */\n  const components = []\n\n  const dropdowns = document.querySelectorAll(`.${NAME}`)\n  if (dropdowns) {\n    Array.from(dropdowns).forEach((element) => {\n      const config = getAttributesConfig(element, DEFAULT_PROPERTIES, DATA_ATTRS_PROPERTIES)\n      config.element = element\n\n      if (!config.search) {\n        components.push(new Dropdown(config))\n      }\n    })\n  }\n\n  document.addEventListener('click', (event) => {\n    const dropdownMenu = findTargetByClass(event.target, 'dropdown-menu')\n    if (dropdownMenu) {\n      return\n    }\n\n    const dropdown = findTargetByClass(event.target, 'dropdown')\n\n    if (dropdown) {\n      const dataToggleAttr = dropdown.getAttribute('data-toggle')\n      if (dataToggleAttr && dataToggleAttr === NAME && dropdown) {\n        const component = components.find(c => c.getElement() === dropdown)\n\n        if (!component) {\n          return\n        }\n\n        component.toggle()\n      }\n    }\n  })\n\n  return Dropdown\n})()\n\nexport default Dropdown\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Dropdown from './index'\nimport { findTargetByClass } from '../../common/utils'\nimport { getAttributesConfig } from '../componentManager'\n\nconst DropdownSearch = (() => {\n\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = Dropdown.identifier()\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    default: true,\n    search: true,\n  }\n  const DATA_ATTRS_PROPERTIES = [\n    'default',\n    'search',\n  ]\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class DropdownSearch extends Dropdown {\n\n    constructor(options = {}) {\n      super(options)\n\n      this.filterItemsHandler = (event) => {\n        const search = event.target.value\n\n        if (search === '') {\n          this.showItems()\n          return\n        }\n\n\n        this.getItems().forEach((item) => {\n          const fn = typeof this.options.filterItem === 'function' ? this.options.filterItem : this.filterItem\n\n          if (fn(search, item)) {\n            item.element.style.display = 'block'\n          } else {\n            item.element.style.display = 'none'\n          }\n        })\n      }\n\n      this.getSearchInput().addEventListener('keyup', this.filterItemsHandler)\n    }\n\n    filterItem(search = '', item = {}) {\n      if (item.value.indexOf(search) > -1\n        || item.text.indexOf(search) > -1) {\n        return true\n      }\n\n      return false\n    }\n\n    getItems() {\n      let items = Array.from(this.options.element.querySelectorAll('.item') || [])\n      items = items.map((item) => {\n        const info = this.getItemData(item)\n        return { text: info.text, value: info.value, element: item }\n      })\n\n      return items\n    }\n\n    showItems() {\n      this.getItems().forEach((item) => {\n        const i = item\n        i.element.style.display = 'block'\n      })\n    }\n\n    getSearchInput() {\n      return this.options.element.querySelector('.dropdown-menu input')\n    }\n\n    hide() {\n      if (super.hide()) {\n        // reset the value\n        this.getSearchInput().value = ''\n        // show all items\n        this.showItems()\n      }\n    }\n\n    static _DOMInterface(options) {\n      return new DropdownSearch(options)\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * DOM Api implementation\n   * ------------------------------------------------------------------------\n   */\n  const components = []\n  const dropdowns = document.querySelectorAll(`.${NAME}`)\n\n  if (dropdowns) {\n    Array.from(dropdowns).forEach((element) => {\n      const config = getAttributesConfig(element, DEFAULT_PROPERTIES, DATA_ATTRS_PROPERTIES)\n      config.element = element\n\n      if (config.search) {\n        // search\n        components.push(new DropdownSearch(config))\n      }\n    })\n  }\n\n  if (dropdowns) {\n    document.addEventListener('click', (event) => {\n      const dropdownMenu = findTargetByClass(event.target, 'dropdown-menu')\n      if (dropdownMenu) {\n        return\n      }\n\n      const dropdown = findTargetByClass(event.target, 'dropdown')\n\n      if (dropdown) {\n        const dataToggleAttr = dropdown.getAttribute('data-toggle')\n        if (dataToggleAttr && dataToggleAttr === NAME && dropdown) {\n          const component = components.find(c => c.getElement() === dropdown)\n\n          if (!component) {\n            return\n          }\n\n          component.toggle()\n        }\n      }\n    })\n  }\n\n  return DropdownSearch\n})()\n\nexport default DropdownSearch\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport Pager from './hybrid-apps/pager/index'\nimport Intl from './hybrid-apps/intl'\nimport Network from './common/network'\n\n// components\nimport Dialog from './components/dialog'\nimport Prompt from './components/dialog/prompt'\nimport Confirm from './components/dialog/confirm'\nimport DialogLoader from './components/dialog/loader'\nimport Notification from './components/notification'\nimport Collapse from './components/collapse'\nimport Accordion from './components/accordion'\nimport Tab from './components/tab'\nimport Progress from './components/progress'\nimport Loader from './components/loader'\nimport OffCanvas from './components/off-canvas'\nimport Dropdown from './components/dropdown'\nimport DropdownSearch from './components/dropdown/search'\n\nconst api = {}\n\n/**\n * ------------------------------------------------------------------------\n * Pager\n * ------------------------------------------------------------------------\n */\napi.pager = (options) => {\n  if (typeof api._pager === 'undefined') {\n    api._pager = Pager._DOMInterface(options)\n  }\n  return api._pager\n}\n\n/**\n * ------------------------------------------------------------------------\n * Intl\n * ------------------------------------------------------------------------\n */\napi.intl = Intl._DOMInterface\n\n/**\n * ------------------------------------------------------------------------\n * Network\n * ------------------------------------------------------------------------\n */\napi.network = Network._DOMInterface\n\n/**\n * ------------------------------------------------------------------------\n * Notification\n * ------------------------------------------------------------------------\n */\napi.notification = Notification._DOMInterface\n\n/**\n * ------------------------------------------------------------------------\n * Dialog\n * ------------------------------------------------------------------------\n */\n\n// generic\napi.dialog = Dialog._DOMInterface\n\n// prompt dialog\napi.prompt = Prompt._DOMInterface\n// confirm dialog\napi.confirm = Confirm._DOMInterface\n// loader dialog\napi.dialogLoader = DialogLoader._DOMInterface\n\n/**\n * ------------------------------------------------------------------------\n * Collapse\n * ------------------------------------------------------------------------\n */\napi.collapse = Collapse._DOMInterface\n\n/**\n * ------------------------------------------------------------------------\n * Accordion\n * ------------------------------------------------------------------------\n */\napi.accordion = Accordion._DOMInterface\n\n\n/**\n * ------------------------------------------------------------------------\n * Tab\n * ------------------------------------------------------------------------\n */\napi.tab = Tab._DOMInterface\n\n/**\n * ------------------------------------------------------------------------\n * Progress\n * ------------------------------------------------------------------------\n */\napi.progress = Progress._DOMInterface\n\n/**\n * ------------------------------------------------------------------------\n * Loader\n * ------------------------------------------------------------------------\n */\napi.loader = Loader._DOMInterface\n\n/**\n * ------------------------------------------------------------------------\n * Off canvas\n * ------------------------------------------------------------------------\n */\napi.offCanvas = OffCanvas._DOMInterface\n\n/**\n * ------------------------------------------------------------------------\n * Dropdown\n * ------------------------------------------------------------------------\n */\napi.dropdown = (options) => {\n  if (options.search) {\n    // search dropdown\n    return DropdownSearch._DOMInterface(options)\n  }\n\n  // generic dropdown\n  return Dropdown._DOMInterface(options)\n}\n\n// Make the API live\nwindow.phonon = api\n\nexport default api\n"],"names":["dispatchWinDocEvent","eventName","moduleName","detail","fullEventName","window","dispatchEvent","CustomEvent","document","dispatchElementEvent","domElement","dispatchPageEvent","pageName","Page","NAME","VERSION","TEMPLATE_SELECTOR","constructor","name","events","templatePath","renderFunction","version","getEvents","getTemplate","template","getRenderFunction","renderTemplate","pageElement","querySelector","render","DOMPage","elements","Array","from","forEach","el","innerHTML","querySelectorAll","addEventCallback","callbackFn","push","setTemplate","Error","triggerScopes","eventParams","eventNameAlias","charAt","toUpperCase","slice","scope","scopeEvent","scopeEventAlias","apply","addEventListener","console","error","availableEvents","touchScreen","DocumentTouch","navigator","pointerEnabled","msPointerEnabled","createElement","transitions","start","end","animations","transitionStart","find","t","style","undefined","transitionEnd","animationStart","animationEnd","TOUCH_SCREEN","NETWORK_ONLINE","NETWORK_OFFLINE","NETWORK_RECONNECTING","NETWORK_RECONNECTING_SUCCESS","NETWORK_RECONNECTING_FAILURE","SHOW","SHOWN","HIDE","HIDDEN","HASH","START","MOVE","END","CANCEL","TRANSITION_START","TRANSITION_END","ANIMATION_START","ANIMATION_END","ITEM_SELECTED","Pager","DEFAULT_PROPERTIES","hashPrefix","useHash","defaultPage","animatePages","currentPage","options","Object","assign","pages","started","addPagerEvents","onDOMLoaded","_","selector","getHash","location","hash","split","getPageFromHash","re","RegExp","matches","exec","setHash","isPageOf","pageName1","pageName2","page1","getPageModel","page2","event","onClick","onBackHistory","onHashChange","showPage","addToHistory","back","oldPage","oldPageName","getAttribute","classList","remove","history","replaceState","page","href","triggerPageEvent","Event","newPage","add","pageModel","previousPageName","onPageAnimationEnd","contains","removeEventListener","addUniquePageModel","getPagesModel","pageNames","filter","indexOf","selectorToArray","str","map","item","trim","addEvents","callback","cachePageSelector","pageModels","target","pushPage","state","params","p","length","shift","navPage","nodeName","select","addPageModel","forceDefaultPage","cordova","_DOMInterface","Binder","element","data","isElement","log","setNodes","setNode","Node","NodeList","setText","text","innerText","textContent","setHtml","setAttribute","attr","r","m","key","value","replace","intlValue","methodName","Intl","fallbackLocale","locale","bind","setLocale","getLocale","getFallbackLocale","updateHtml","getLanguages","keys","insertValues","injectableValues","match","translate","keyName","inject","isArray","filteredData","dataMap","generateId","Math","random","toString","substr","findTargetByClass","parentClass","parentNode","findTargetByAttr","createJqueryPlugin","$","obj","mainFn","opts","fn","Constructor","noConflict","first","second","setAttributesConfig","attrs","keyStart","getAttributesConfig","newObj","type","attrValue","isNaN","parseInt","stack","component","index","findIndex","c","is","splice","closable","Component","defaultOptions","optionAttrs","supportDynamicElement","addToStack","prop","id","checkElement","dynamicElement","registeredElements","assignJsConfig","getAttributes","setAttributes","elementListener","onBeforeElementEvent","attrConfig","getVersion","getElement","getId","registerElements","registerElement","unregisterElements","unregisterElement","registeredElementIndex","triggerEvent","objectEventOnly","ComponentManager","eventNameObject","reduce","acc","current","preventClosable","onElementEvent","identifier","ComponentClass","Network","initialDelay","delay","DATA_ATTRS_PROPERTIES","xhr","checkInterval","setStatus","setTimeout","startCheck","getStatus","status","startRequest","XMLHttpRequest","offline","url","Date","getTime","date","open","timeout","ontimeout","abort","onload","onUp","onerror","onDown","send","e","stopCheck","setInterval","clearInterval","Dialog","BACKDROP_SELECTOR","title","message","cancelable","cancelableKeyCodes","buttons","dismiss","class","build","builder","firstChild","removeTextBody","button","appendChild","buildButton","removeFooter","body","buttonInfo","buildBackdrop","backdrop","getBackdrop","removeChild","footer","center","computedStyle","getComputedStyle","height","top","innerHeight","show","attachEvents","onShown","k","keyCode","hide","detachEvents","onHidden","components","dialogs","config","dialog","dataToggleAttr","blur","Prompt","attachInputEvent","detachInputEvent","getInput","setInputValue","getInputValue","Confirm","Loader","color","size","loaderSpinner","getSpinner","customSize","getClientSize","getBoundingClientRect","width","animate","startAnimation","spinner","Spinner","Notification","showButton","background","timeoutCallback","display","removeAttribute","buttonElement","activeNotifications","pushDistance","notification","offsetHeight","marginBottom","transform","Number","isInteger","clearTimeout","Collapse","toggle","onTransition","getHeight","onCollapsed","collapses","Accordion","toggles","collapseId","collapse","addCollapse","setCollapses","getCollapse","getCollapses","showCollapse","collapseEl","collapseObj","accordions","accordion","accordionId","targetCollapse","Tab","TAB_CONTENT_SELECTOR","nav","navTabs","tab","tabContent","tabContents","onShowed","tabs","Progress","min","max","label","striped","progressBar","getProgressBar","set","progress","round","OffCanvas","aside","md","lg","xl","useBackdrop","currentWidth","directions","sm","media","matchMedia","sizes","reverse","checkDirection","checkWidth","every","direction","setAside","content","removeBackdrop","createBackdrop","dismissButtons","offCanvas","Dropdown","default","search","selected","getItemData","setSelected","checkExists","textDisplay","items","itemFound","getSelected","selectedTextNode","dropdown","itemInfo","dropdownMenu","scrollTop","dropdowns","DropdownSearch","filterItemsHandler","showItems","getItems","filterItem","getSearchInput","info","i","api","pager","_pager","intl","network","prompt","confirm","dialogLoader","DialogLoader","loader","phonon"],"mappings":"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"}