{"version":3,"file":"phonon.js","sources":["../../src/js/common/events/dispatch.js","../../src/js/hybrid-apps/pager/page.js","../../src/js/common/events/index.js","../../src/js/hybrid-apps/pager/index.js","../../src/js/hybrid-apps/i18n/binder.js","../../src/js/hybrid-apps/i18n/index.js","../../src/js/common/utils/index.js","../../src/js/components/componentManager.js","../../src/js/components/component.js","../../src/js/common/network/index.js","../../src/js/components/alert/index.js","../../src/js/components/modal/index.js","../../src/js/components/modal/prompt.js","../../src/js/components/modal/confirm.js","../../src/js/components/loader/index.js","../../src/js/components/modal/loader.js","../../src/js/components/notification/index.js","../../src/js/components/collapse/index.js","../../src/js/components/accordion/index.js","../../src/js/components/tab/index.js","../../src/js/components/progress/index.js","../../src/js/components/off-canvas/index.js","../../src/js/components/dropdown/index.js","../../src/js/components/dropdown/search.js","../../src/js/index.js"],"sourcesContent":["export function dispatchWinDocEvent(eventName, moduleName, detail = {}) {\n  const fullEventName = `${eventName}.ph.${moduleName}`\n  window.dispatchEvent(new CustomEvent(fullEventName, { detail }))\n  document.dispatchEvent(new CustomEvent(fullEventName, { detail }))\n}\n\nexport function dispatchElementEvent(domElement, eventName, moduleName, detail = {}) {\n  const fullEventName = `${eventName}.ph.${moduleName}`\n  domElement.dispatchEvent(new CustomEvent(fullEventName, { detail }))\n}\n\nexport function dispatchPageEvent(eventName, pageName, detail = {}) {\n  const fullEventName = `${pageName}.${eventName}`\n  window.dispatchEvent(new CustomEvent(fullEventName, { detail }))\n  document.dispatchEvent(new CustomEvent(fullEventName, { detail }))\n}\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport { dispatchPageEvent } from '../../common/events/dispatch'\n\nconst Page = (() => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'page'\n  const VERSION = '2.0.0'\n\n  const TEMPLATE_SELECTOR = '[data-template]'\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Page {\n    /**\n     * Creates an instance of Page.\n     * @param {string} pageName\n     */\n    constructor(pageName) {\n      this.name = pageName\n      this.events = []\n      this.templatePath = null\n      this.renderFunction = null\n    }\n\n    // getters\n\n    static get version() {\n      return `${NAME}.${VERSION}`\n    }\n\n    /**\n     * Get events\n     * @returns {Function[]}\n     */\n    getEvents() {\n      return this.events\n    }\n\n    /**\n     * Get template\n     * @returns {string}\n     */\n    getTemplate() {\n      return this.template\n    }\n\n    /**\n     * Get render function\n     * @returns {Function}\n     */\n    getRenderFunction() {\n      return this.renderFunction\n    }\n\n    async renderTemplate() {\n      const pageElement = document.querySelector(`[data-page=\"${this.name}\"]`)\n\n      let render = async function (DOMPage, template, elements) {\n        if (elements) {\n          Array.from(elements).forEach((el) => {\n            el.innerHTML = template\n          })\n        } else {\n          DOMPage.innerHTML = template\n        }\n      }\n\n      if (this.getRenderFunction()) {\n        render = this.getRenderFunction()\n      }\n\n      await render(pageElement, this.getTemplate(), Array.from(pageElement.querySelectorAll(TEMPLATE_SELECTOR) || []))\n    }\n\n    // public\n\n    /**\n     *\n     * @param {*} callbackFn\n     */\n    addEventCallback(callbackFn) {\n      this.events.push(callbackFn)\n    }\n\n    /**\n     * Use the given template\n     *\n     * @param {string} template\n     * @param {Function} renderFunction\n     */\n    setTemplate(template = null, renderFunction = null) {\n      if (typeof template !== 'string') {\n        throw new Error('The template path must be a string. ' + typeof template + ' is given')\n      }\n\n      this.template = template\n\n      if (typeof renderFunction === 'function') {\n        this.renderFunction = renderFunction\n      }\n    }\n\n    /**\n     * Add a transition handler\n     *\n     * @param {Function} fn\n     */\n    setPreventTransition(fn) {\n      if (typeof fn !== 'function') {\n        throw new Error(`${NAME}: invalid function to handle page transitions`);\n      }\n      this.preventTransitionFn = fn;\n    }\n\n    getPreventTransition() {\n      return this.preventTransitionFn;\n    }\n\n    /**\n     * Trigger scopes\n     * @param {string} eventName\n     * @param {{}} [eventParams={}]\n     */\n    triggerScopes(eventName, eventParams = {}) {\n      const eventNameAlias = `on${eventName.charAt(0).toUpperCase()}${eventName.slice(1)}`\n\n      this.events.forEach((scope) => {\n        const scopeEvent = scope[eventName]\n        const scopeEventAlias = scope[eventNameAlias]\n        if (typeof scopeEvent === 'function') {\n          scopeEvent.apply(this, eventParams)\n        }\n\n        // trigger the event alias\n        if (typeof scopeEventAlias === 'function') {\n          scopeEventAlias.apply(this, eventParams)\n        }\n      })\n\n      dispatchPageEvent(eventName, this.name, eventParams)\n    }\n  }\n\n  return Page\n})()\n\nexport default Page\n","// @todo keep ?\nif (typeof window !== 'undefined') {\n  window.addEventListener('error', () => {\n    console.error('An error has occured! You can pen an issue here: https://github.com/quark-dev/Phonon-Framework/issues')\n  })\n}\n\n// Use available events\nlet availableEvents = ['mousedown', 'mousemove', 'mouseup']\nlet touchScreen = false\n\nif (typeof window !== 'undefined') {\n  if (('ontouchstart' in window) || window.DocumentTouch && document instanceof DocumentTouch) {\n    touchScreen = true\n    availableEvents = ['touchstart', 'touchmove', 'touchend', 'touchcancel']\n  }\n\n  if (window.navigator.pointerEnabled) {\n    availableEvents = ['pointerdown', 'pointermove', 'pointerup', 'pointercancel']\n  } else if (window.navigator.msPointerEnabled) {\n    availableEvents = ['MSPointerDown', 'MSPointerMove', 'MSPointerUp', 'MSPointerCancel']\n  }\n}\n\nconst el = document.createElement('div')\nconst transitions = [\n  { name: 'transition', start: 'transitionstart', end: 'transitionend' },\n  { name: 'MozTransition', start: 'transitionstart', end: 'transitionend' },\n  { name: 'msTransition', start: 'msTransitionStart', end: 'msTransitionEnd' },\n  { name: 'WebkitTransition', start: 'webkitTransitionStart', end: 'webkitTransitionEnd' },\n]\nconst animations = [\n  { name: 'animation', start: 'animationstart', end: 'animationend' },\n  { name: 'MozAnimation', start: 'animationstart', end: 'animationend' },\n  { name: 'msAnimation', start: 'msAnimationStart', end: 'msAnimationEnd' },\n  { name: 'WebkitAnimation', start: 'webkitAnimationStart', end: 'webkitAnimationEnd' },\n]\n\nconst transitionStart = transitions.find(t => el.style[t.name] !== undefined).start\nconst transitionEnd = transitions.find(t => el.style[t.name] !== undefined).end\nconst animationStart = animations.find(t => el.style[t.name] !== undefined).start\nconst animationEnd = animations.find(t => el.style[t.name] !== undefined).end\n\nexport default {\n  // touch screen support\n  TOUCH_SCREEN: touchScreen,\n\n  // network\n  NETWORK_ONLINE: 'online',\n  NETWORK_OFFLINE: 'offline',\n  NETWORK_RECONNECTING: 'reconnecting',\n  NETWORK_RECONNECTING_SUCCESS: 'reconnect.success',\n  NETWORK_RECONNECTING_FAILURE: 'reconnect.failure',\n\n  // user interface states\n  SHOW: 'show',\n  SHOWN: 'shown',\n  HIDE: 'hide',\n  HIDDEN: 'hidden',\n\n  // hash\n  HASH: 'hash',\n\n  // touch, mouse and pointer events polyfill\n  START: availableEvents[0],\n  MOVE: availableEvents[1],\n  END: availableEvents[2],\n  CANCEL: typeof availableEvents[3] === 'undefined' ? null : availableEvents[3],\n\n  // click\n  CLICK: 'click',\n\n  // transitions\n  TRANSITION_START: transitionStart,\n  TRANSITION_END: transitionEnd,\n\n  // animations\n  ANIMATION_START: animationStart,\n  ANIMATION_END: animationEnd,\n\n  // dropdown\n  ITEM_SELECTED: 'itemSelected',\n}\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport Page from './page'\nimport Event from '../../common/events'\n\nconst Pager = (() => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'pager'\n  const VERSION = '2.0.0'\n  const DEFAULT_PROPERTIES = {\n    hashPrefix: '#!',\n    useHash: true,\n    defaultPage: null,\n    animatePages: true,\n  }\n\n  let currentPage\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Pager {\n    /**\n     * @constructor\n     *\n     * @param options {Object}\n     */\n    constructor(options = {}) {\n      this.options = Object.assign(DEFAULT_PROPERTIES, options)\n\n      this.pages = []\n      this.started = false\n\n      // add global listeners such ash hash change, navigation, etc.\n      this.addPagerEvents()\n\n      // faster way to init pages before the DOM is ready\n      this.onDOMLoaded()\n    }\n\n    // private\n    _(selector) {\n      return document.querySelector(selector)\n    }\n\n    getHash() {\n      return window.location.hash.split(this.options.hashPrefix)[1]\n    }\n\n    getPageFromHash() {\n      const hash = this.getHash()\n      const re = new RegExp('[?\\/]([^\\/]*)')\n      const matches = re.exec(hash)\n\n      if (matches && matches[1]) {\n        return matches[1]\n      }\n\n      return null\n    }\n\n    setHash(pageName, params = null) {\n      const hash = `${this.options.hashPrefix}/${pageName}`;\n      window.location.hash = Array.isArray(params) ? `${hash}/${params.join('/')}` : hash;\n    }\n\n    isPageOf(pageName1, pageName2) {\n      const page1 = this.getPageModel(pageName1)\n      const page2 = this.getPageModel(pageName2)\n      return page1 && page2 && page1.name === page2.name\n    }\n\n    /**\n     * Attaches the main events for tracking hash changes,\n     * click on navigation buttons and links and back history\n     */\n    addPagerEvents() {\n      document.addEventListener('click', event => this.onClick(event))\n      window.addEventListener('popstate', event => this.onBackHistory(event))\n      window.addEventListener('hashchange', event => this.onHashChange(event))\n      document.addEventListener('DOMContentLoaded', event => this.onDOMLoaded(event))\n    }\n\n    // getters\n\n    static get version() {\n      return `${NAME}.${VERSION}`\n    }\n\n    // public\n\n    async showPage(pageName, params = null, back = false, from = Event.CLICK) {\n      /*\n       * If we he use the hash as trigger,\n       * we change it dynamically so that the hashchange event is called\n       * Otherwise, we show the page\n       */\n      if (this.options.useHash && this.getPageFromHash() !== pageName) {\n        this.setHash(pageName, params);\n        return;\n      }\n\n      const oldPage = this._('.current');\n      let oldPageName = null;\n\n      if (oldPage) {\n        oldPageName = oldPage.getAttribute('data-page');\n        const oldPageModel = this.getPageModel(oldPageName);\n        const preventFn = oldPageModel.getPreventTransition();\n\n        if (typeof preventFn === 'function') {\n          if (await preventFn(oldPageName, pageName, params)) {\n            if (from === Event.HASH) {\n              window.history.back();\n            }\n            return;\n          }\n        }\n\n        if (this.isPageOf(pageName, oldPageName)) {\n          return\n        }\n\n        oldPage.classList.remove('current')\n\n        // history\n        window.history.replaceState({ page: pageName }, oldPageName)\n\n        this.triggerPageEvent(oldPageName, Event.HIDE)\n      }\n\n      this.triggerPageEvent(pageName, Event.SHOW)\n\n      currentPage = pageName\n\n      // new page\n      const newPage = this._(`[data-page=\"${pageName}\"]`)\n\n      newPage.classList.add('current')\n\n      // render template\n      const pageModel = this.getPageModel(pageName)\n\n      if (pageModel && pageModel.getTemplate()) {\n        await pageModel.renderTemplate()\n      }\n\n      if (oldPage) {\n        // use of prototype-oriented language\n        oldPage.back = back\n        oldPage.previousPageName = oldPageName\n\n        const onPageAnimationEnd = () => {\n          if (oldPage.classList.contains('animate')) {\n            oldPage.classList.remove('animate')\n          }\n\n          oldPage.classList.remove(oldPage.back ? 'pop-page' : 'push-page')\n\n          this.triggerPageEvent(currentPage, Event.SHOWN)\n          this.triggerPageEvent(oldPage.previousPageName, Event.HIDDEN)\n\n          oldPage.removeEventListener(Event.ANIMATION_END, onPageAnimationEnd)\n        }\n\n        if (this.options.animatePages) {\n          oldPage.addEventListener(Event.ANIMATION_END, onPageAnimationEnd)\n          oldPage.classList.add('animate')\n        } else {\n          onPageAnimationEnd()\n        }\n\n        oldPage.classList.add(back ? 'pop-page' : 'push-page')\n      }\n    }\n\n    addUniquePageModel(pageName) {\n      if (!this.getPageModel(pageName)) {\n        this.pages.push(new Page(pageName))\n      }\n    }\n\n    getPageModel(pageName) {\n      return this.pages.find(page => page.name === pageName)\n    }\n\n    getPagesModel(pageNames) {\n      return this.pages.filter(page => pageNames.indexOf(page.name) > -1)\n    }\n\n    selectorToArray(str) {\n      return str.split(',').map(item => item.trim())\n    }\n\n    addEvents(callback) {\n      if (this.cachePageSelector === '*') {\n        // add to all page models\n        this.pages.forEach((page) => {\n          page.addEventCallback(callback)\n        })\n        return\n      }\n\n      const pageModels = this.getPagesModel(this.selectorToArray(this.cachePageSelector), true)\n      pageModels.forEach((page) => {\n        page.addEventCallback(callback)\n      })\n      this.cachePageSelector = null\n    }\n\n    preventTransition(preventFn) {\n      if (this.cachePageSelector === '*') {\n        this.pages.forEach((page) => {\n          page.setPreventTransition(preventFn);\n        });\n        return;\n      }\n\n      const pageModels = this.getPagesModel(this.selectorToArray(this.cachePageSelector), true);\n      pageModels.forEach((page) => {\n        page.setPreventTransition(preventFn);\n      });\n\n      this.cachePageSelector = null;\n    }\n\n    setTemplate(templatePath, renderFunction = null) {\n      const pageModels = this.getPagesModel(this.selectorToArray(this.cachePageSelector), true)\n      pageModels.forEach((page) => {\n        page.setTemplate(templatePath, renderFunction)\n      })\n      this.cachePageSelector = null\n    }\n\n    triggerPageEvent(pageName, eventName, eventParams = null) {\n      const pageModel = this.getPageModel(pageName)\n      if (pageModel) {\n        pageModel.triggerScopes(eventName, eventParams)\n      }\n    }\n\n    onClick(event) {\n      const pageName = event.target.getAttribute('data-navigate')\n      const backNavigation = event.target.getAttribute('data-pop-page') === 'true'\n\n      if (pageName) {\n        if (pageName === '$back') {\n          // the popstate event will be triggered\n          window.history.back()\n          return\n        }\n\n        this.showPage(pageName, null, backNavigation);\n      }\n    }\n\n    onBackHistory(event = {}) {\n      const pageName = event.state ? event.state.page : null\n      if (!pageName) {\n        return\n      }\n\n      this.showPage(pageName, null, true);\n    }\n\n    onHashChange() {\n      const params = (this.getHash() ? this.getHash().split('/') : []).filter(p => p.length > 0)\n      if (params.length > 0) {\n        // remove first value which is the page name\n        params.shift()\n      }\n\n      this.triggerPageEvent(currentPage, Event.HASH, params)\n\n      const navPage = this.getPageFromHash()\n      if (navPage) {\n        this.showPage(navPage, null, false, params, Event.HASH);\n      }\n    }\n\n    /**\n     * Queries the page nodes in the DOM\n     */\n    onDOMLoaded() {\n      const pages = document.querySelectorAll('[data-page]')\n\n      if (!pages) {\n        return\n      }\n\n      pages.forEach((page) => {\n        /*\n         * the page name can be given with the attribute data-page\n         * or with its node name\n         */\n        const pageName = page.getAttribute('data-page') || page.nodeName;\n\n        this.addUniquePageModel(pageName);\n      })\n    }\n\n    select(pageName, addPageModel = true) {\n      this.cachePageSelector = pageName\n\n      if (addPageModel && pageName !== '*') {\n        this.addUniquePageModel(pageName)\n      }\n\n      return this\n    }\n\n    start(forceDefaultPage = false) {\n      // check if the app has been already started\n      if (this.started) {\n        throw new Error(`${NAME}. The app has been already started.`)\n      }\n\n      this.started = true\n\n      // force default page on Cordova\n      if (window.cordova) {\n        forceDefaultPage = true\n      }\n\n      let pageName = this.getPageFromHash();\n\n      if (!this.getPageModel(pageName)) {\n        pageName = this.options.defaultPage\n      }\n\n      if (forceDefaultPage && !this.options.defaultPage) {\n        throw new Error(`${NAME}. The default page must exist for forcing its launch!`)\n      }\n\n      /*\n       * if the app is configurated to use hash tracking\n       * we add the page dynamically in the url\n       */\n      if (this.options.useHash) {\n        this.setHash(pageName, null);\n      }\n\n      this.showPage(forceDefaultPage ? this.options.defaultPage : pageName);\n    }\n\n    // static\n    static DOMInterface(options) {\n      return new Pager(options)\n    }\n  }\n\n  return Pager\n})()\n\nexport default Pager\n","/**\n* --------------------------------------------------------------------------\n* Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n* --------------------------------------------------------------------------\n*/\n\nconst Binder = (() => {\n  /**\n  * ------------------------------------------------------------------------\n  * Constants\n  * ------------------------------------------------------------------------\n  */\n\n  const NAME = 'i18n-binder'\n  const VERSION = '2.0.0'\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Binder {\n\n    /**\n     * @param {HTMLElement} element\n     * @param {Object} data\n     */\n    constructor(element, data) {\n      this.element = element\n      this.data = data\n\n      if (!this.isElement(this.element)) {\n        console.log('Warning, an element is invalid');\n        return\n      }\n\n      // array of HTMLElement\n      if (this.element.length && this.element.length > 0) {\n        this.setNodes(this.element)\n      } else {\n        // single HTMLElement\n        this.setNode(this.element)\n      }\n    }\n\n    // getters\n\n    static get version() {\n      return `${NAME}.${VERSION}`\n    }\n\n    /**\n     * Checks if the given argument is a DOM element\n     * @param {HTMLElement} the argument to test\n     * @return {boolean} true if the object is a DOM element, false otherwise\n     */\n    isElement(element) {\n      if (element === null) {\n        return false\n      }\n\n      return element instanceof Node || element instanceof NodeList\n    }\n\n    /**\n    * Binds some text to the given DOM element\n    * @param {HTMLElement} element\n    * @param {String} text\n    */\n    setText(element, text) {\n      if (!('textContent' in element)) {\n        element.innerText = text\n      } else {\n        element.textContent = text\n      }\n    }\n\n    /**\n     * Binds some html to the given DOM element\n     * @param {HTMLElement} element\n     * @param {String} text\n     */\n    setHtml(element, text) {\n      element.innerHTML = text\n    }\n\n    /**\n     * Binds custom attributes to the given DOM element\n     * @param {HTMLElement} element\n     * @param {String} attr\n     * @param {String} text\n     */\n    setAttribute(element, attr, text) {\n      element.setAttribute(attr, text)\n    }\n\n    /**\n     * Binds DOM elements\n     * @param {HTMLElement} element\n     */\n    setNode(element) {\n      let attr = element.getAttribute('data-t')\n      if (!attr) {\n        return\n      }\n\n      attr = attr.trim()\n\n      const r = /(?:\\s|^)([A-Za-z-_0-9]+):\\s*(.*?)(?=\\s+\\w+:|$)/g\n      let m\n\n      while (m = r.exec(attr)) {\n        const key = m[1].trim()\n        const value = m[2].trim().replace(',', '')\n        let i18nValue = this.data[value]\n\n        if (!this.data[value]) {\n          console.log(`${NAME}. Warning, ${value} does not exist.`)\n          i18nValue = value\n        }\n\n        const methodName = 'set' + key.charAt(0).toUpperCase() + key.slice(1)\n\n        if (this[methodName]) {\n          this[methodName](element, i18nValue)\n        } else {\n          this.setAttribute(element, key, i18nValue)\n        }\n      }\n    }\n\n    /**\n     * Binds DOM elements\n     * @param {HTMLElement} element\n     */\n    setNodes(element) {\n      Array.from(element).forEach(el => this.setNode(el))\n    }\n  }\n\n  return Binder\n})()\n\nexport default Binder\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Binder from './binder'\n\nconst I18n = (() => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'i18n'\n  const VERSION = '2.0.0'\n  const DEFAULT_PROPERTIES = {\n    fallbackLocale: 'en',\n    locale: 'en',\n    bind: false,\n    data: null,\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class I18n {\n    /**\n     * Creates an instance of I18n.\n     * @param {fallbackLocale: string, locale: string, bind: boolean, data: {[lang: string]: {[key: string]: string}}}\n     */\n    constructor(options = {}) {\n      this.options = Object.assign(DEFAULT_PROPERTIES, options)\n\n      if (typeof this.options.fallbackLocale !== 'string') {\n        throw new Error(`${NAME}. The fallback locale is mandatory and must be a string.`)\n      }\n\n      if (this.options.data === null) {\n        throw new Error(`${NAME}. There is no translation data.`)\n      }\n\n      if (typeof this.options.data[this.options.fallbackLocale] !== 'object') {\n        throw new Error(`${NAME}. The fallback locale must necessarily have translation data.`)\n      }\n\n      this.setLocale(this.options.locale, this.options.bind)\n    }\n\n    static get version() {\n      return `${NAME}.${VERSION}`\n    }\n\n    getLocale() {\n      return this.options.locale\n    }\n\n    getFallbackLocale() {\n      return this.options.fallbackLocale\n    }\n\n    /**\n     * Set default locale\n     * @param {string} locale\n     * @param {boolean} [bind=true]\n     */\n    setLocale(locale, bind = false) {\n      if (typeof this.options.data[locale] !== 'object') {\n        console.error(`${NAME}. ${locale} has no data, fallback in ${this.options.fallbackLocale}.`)\n      } else {\n        this.options.locale = locale\n      }\n\n      if (bind) {\n        this.updateHtml()\n      }\n    }\n\n    getLanguages() {\n      return Object.keys(this.options.data)\n    }\n\n    insertValues(value = null, injectableValues = {}) {\n      if (typeof value !== 'string') {\n        return undefined\n      }\n\n      const match = value.match(/:([a-zA-Z-_0-9]+)/)\n      if (match) {\n        value = value.replace(match[0], injectableValues[match[1]])\n      }\n\n      if (value.match(/:([a-zA-Z-_0-9]+)/)) {\n        return this.insertValues(value, injectableValues)\n      }\n\n      return value\n    }\n\n    translate(keyName = null, inject = {}) {\n      let data = this.options.data[this.options.locale]\n      if (!data) {\n        data = this.options.data[this.options.fallbackLocale]\n      }\n\n      if (keyName === null || keyName === '*' || Array.isArray(keyName)) {\n        if (Array.isArray(keyName)) {\n          const keys = Object.keys(data).filter(key => keyName.indexOf(key) > -1)\n          const filteredData = {}\n          keys.forEach(key => {\n            filteredData[key] = this.insertValues(data[key], inject)\n          })\n          data = filteredData\n        }\n\n        const dataMap = {}\n        for (const key in data) {\n          dataMap[key] = this.insertValues(data[key], inject)\n        }\n\n        return dataMap\n      }\n\n      return this.insertValues(data[keyName], inject)\n    }\n\n    // alias of t()\n    t(keyName = null, inject = {}) {\n      return this.translate(keyName, inject)\n    }\n\n    /**\n     * Updates the HTML views\n     * @param {HTMLElement} element\n     */\n    updateHtml(element = null) {\n      if (!element) {\n        element = document.querySelectorAll('[data-t]')\n      }\n\n      if (typeof element === 'string') {\n        element = document.querySelector(element)\n      }\n\n      new Binder(element, this.t())\n    }\n\n    // static\n    static DOMInterface(options) {\n      return new I18n(options)\n    }\n  }\n\n  return I18n\n})()\n\nexport default I18n\n","\nexport function generateId() {\n  return Math.random().toString(36).substr(2, 10)\n}\n\nexport function findTargetByClass(target, parentClass) {\n  for (; target && target !== document; target = target.parentNode) {\n    if (target.classList.contains(parentClass)) {\n      return target\n    }\n  }\n\n  return null\n}\n\nexport function findTargetById(target, parentId) {\n  for (; target && target !== document; target = target.parentNode) {\n    if (target.getAttribute('id') === parentId) {\n      return target\n    }\n  }\n\n  return null\n}\n\nexport function findTargetByAttr(target, attr) {\n  for (; target && target !== document; target = target.parentNode) {\n    if (target.getAttribute(attr) !== null) {\n      return target\n    }\n  }\n\n  return null\n}\n\nexport function createJqueryPlugin($ = null, name, obj) {\n  if (!$) {\n    return;\n  }\n\n  const mainFn = function (options = {}) {\n    const opts = options;\n    if (this[0]) {\n      opts.element = this[0];\n    }\n\n    return obj.DOMInterface(opts)\n  };\n\n  $.fn[name] = mainFn;\n  $.fn[name].Constructor = obj\n  $.fn[name].noConflict = mainFn;\n}\n","\nconst getAttribute = (first, second) => {\n  if (first === '') {\n    return `data-${second}`\n  }\n  return `data-${first}-${second}`\n}\n\nexport function setAttributesConfig(element, obj = {}, attrs, start = '') {\n  const keys = Object.keys(obj)\n\n  keys.forEach((key) => {\n    if (start === '' && attrs.indexOf(key) === -1) {\n      // continue with next iteration\n      return\n    }\n\n    if (typeof obj[key] === 'object' && obj[key] !== null) {\n      let keyStart = key\n      if (start !== '') {\n        keyStart = `${start}-${key}`\n      }\n\n      setAttributesConfig(element, obj[key], attrs, keyStart)\n      return\n    }\n\n    const attr = getAttribute(start, key)\n    element.setAttribute(attr, obj[key])\n  })\n}\n\nexport function getAttributesConfig(element, obj = {}, attrs, start = '') {\n  const newObj = Object.assign({}, obj)\n  const keys = Object.keys(obj)\n\n  keys.forEach((key) => {\n    if (start === '' && attrs.indexOf(key) === -1) {\n      // continue with next iteration\n      return\n    }\n\n    if (obj[key] !== null && obj[key].constructor === Object) {\n      let keyStart = key\n      if (start !== '') {\n        keyStart = `${start}-${key}`\n      }\n\n      newObj[key] = getAttributesConfig(element, obj[key], attrs, keyStart)\n      return\n    }\n\n    // update value\n    let value = obj[key] // default value\n    const type = typeof value\n    const attr = getAttribute(start, key)\n    const attrValue = element.getAttribute(attr)\n\n    if (attrValue !== null) {\n      if (type === 'boolean') {\n        // convert string to boolean\n        value = attrValue === 'true'\n      } else if (!isNaN(attrValue)) {\n        value = parseInt(attrValue, 10)\n      } else {\n        value = attrValue\n      }\n    }\n\n    newObj[key] = value\n  })\n\n  return newObj\n}\n\nconst stack = []\n\nexport default {\n  add(component) {\n    stack.push(component)\n  },\n  remove(component) {\n    const index = stack.findIndex(c => Object.is(component, c))\n    if (index > -1) {\n      stack.splice(index, 1)\n    }\n  },\n  closable(component) {\n    return stack.length === 0 || Object.is(stack[stack.length - 1], component)\n  },\n};\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport { dispatchElementEvent, dispatchWinDocEvent } from '../common/events/dispatch'\nimport { generateId } from '../common/utils/index'\nimport Event from '../common/events'\nimport ComponentManager, { setAttributesConfig, getAttributesConfig } from './componentManager'\n\n/**\n * ------------------------------------------------------------------------\n * Class Definition\n * ------------------------------------------------------------------------\n */\n\nexport default class Component {\n\n  constructor(name, version, defaultOptions = {}, options = {}, optionAttrs = [], supportDynamicElement = false, addToStack = false) {\n    this.name = name\n    this.version = version\n    this.options = options\n\n    Object.keys(defaultOptions).forEach((prop) => {\n      if (typeof this.options[prop] === 'undefined') {\n        this.options[prop] = defaultOptions[prop]\n      }\n    })\n\n    this.optionAttrs = optionAttrs\n    this.supportDynamicElement = supportDynamicElement\n    this.addToStack = addToStack\n    this.id = generateId()\n\n    const checkElement = !this.supportDynamicElement || this.options.element !== null\n\n    if (typeof this.options.element === 'string') {\n      this.options.element = document.querySelector(this.options.element)\n    }\n\n    if (checkElement && !this.options.element) {\n      throw new Error(`${this.name}. The element is not a HTMLElement.`)\n    }\n\n    this.dynamicElement = this.options.element === null\n    this.registeredElements = []\n\n    if (!this.dynamicElement) {\n      /**\n       * if the element exists, we read the data attributes config\n       * then we overwrite existing config keys defined in JavaScript, so that\n       * we keep the following order\n       * [1] default JavaScript configuration of the component\n       * [2] Data attributes configuration\n       * [3] JavaScript configuration\n       */\n      this.options = Object.assign(this.options, this.assignJsConfig(this.getAttributes(), this.options))\n\n      // then, set the new data attributes to the element\n      this.setAttributes()\n    }\n\n    this.elementListener = event => this.onBeforeElementEvent(event)\n  }\n\n  assignJsConfig(attrConfig, jsConfig) {\n    const config = attrConfig;\n    this.optionAttrs.forEach((key) => {\n      if (typeof jsConfig[key] !== 'undefined') {\n        config[key] = jsConfig[key]\n      }\n    })\n\n    return config\n  }\n\n  getVersion() {\n    return this.version\n  }\n\n  getElement() {\n    return this.options.element\n  }\n\n  getId() {\n    return this.id\n  }\n\n  registerElements(elements) {\n    elements.forEach(element => this.registerElement(element))\n  }\n\n  registerElement(element) {\n    element.target.addEventListener(element.event, this.elementListener)\n    this.registeredElements.push(element)\n  }\n\n  unregisterElements() {\n    this.registeredElements.forEach((element) => {\n      this.unregisterElement(element)\n    })\n  }\n\n  unregisterElement(element) {\n    const registeredElementIndex = this.registeredElements\n      .findIndex(el => el.target === element.target && el.event === element.event)\n\n    if (registeredElementIndex > -1) {\n      element.target.removeEventListener(element.event, this.elementListener)\n      this.registeredElements.splice(registeredElementIndex, 1)\n    } else {\n      console.error(`Warning! Unknown registered element: ${element.target} with event: ${element.event}.`)\n    }\n  }\n\n  triggerEvent(eventName, detail = {}, objectEventOnly = false) {\n    if (typeof eventName !== 'string') {\n      throw new Error('The event name is not valid.')\n    }\n\n    if (this.addToStack) {\n      if (eventName === Event.SHOW) {\n        ComponentManager.add(this)\n      } else if (eventName === Event.HIDE) {\n        ComponentManager.remove(this)\n      }\n    }\n\n    // event names can be with dot notation like reconnecting.success\n    const eventNameObject = eventName.split('.').reduce((acc, current, index) => {\n      if (index === 0) {\n        return current\n      }\n\n      return acc + current.charAt(0).toUpperCase() + current.slice(1)\n    })\n\n    const eventNameAlias = `on${eventNameObject.charAt(0).toUpperCase()}${eventNameObject.slice(1)}`\n\n    // object event\n    if (typeof this.options[eventNameObject] === 'function') {\n      this.options[eventNameObject].apply(this, [detail])\n    }\n\n    if (typeof this.options[eventNameAlias] === 'function') {\n      this.options[eventNameAlias].apply(this, [detail])\n    }\n\n    if (objectEventOnly) {\n      return\n    }\n\n    // dom event\n    if (this.options.element) {\n      dispatchElementEvent(this.options.element, eventName, this.name, detail)\n    } else {\n      dispatchWinDocEvent(eventName, this.name, detail)\n    }\n  }\n\n  setAttributes() {\n    if (this.optionAttrs.length > 0) {\n      setAttributesConfig(this.options.element, this.options, this.optionAttrs)\n    }\n  }\n\n  getAttributes() {\n    const options = Object.assign({}, this.options)\n    return getAttributesConfig(this.options.element, options, this.optionAttrs)\n  }\n\n  /**\n   * the preventClosable method manages concurrency between active components.\n   * For example, if there is a shown off-canvas and modal, the last\n   * shown component gains the processing priority\n   */\n  preventClosable() {\n    return this.addToStack && !ComponentManager.closable(this)\n  }\n\n  onBeforeElementEvent(event) {\n    if (this.preventClosable()) {\n      return\n    }\n\n    this.onElementEvent(event)\n  }\n\n  onElementEvent(event) {\n    //\n  }\n\n  static identifier() {\n    return this.name\n  }\n\n  static DOMInterface(ComponentClass, options) {\n    return new ComponentClass(options)\n  }\n}\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport Event from '../../common/events'\nimport Component from '../../components/component'\n\nconst Network = (() => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'network'\n  const VERSION = '2.0.0'\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    initialDelay: 3000,\n    delay: 5000,\n  }\n  const DATA_ATTRS_PROPERTIES = [\n  ]\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Network extends Component {\n    /**\n     * Creates an instance of Network.\n     * @param {{}} [options={}]\n     */\n    constructor(options = {}) {\n      super(NAME, VERSION, DEFAULT_PROPERTIES, options, DATA_ATTRS_PROPERTIES, true, false)\n\n      this.xhr = null\n      this.checkInterval = null\n\n      this.setStatus(Event.NETWORK_ONLINE)\n\n      setTimeout(() => {\n        this.startCheck()\n      }, this.options.initialDelay)\n    }\n\n    getStatus() {\n      return this.status\n    }\n\n    setStatus(status) {\n      this.status = status\n    }\n\n    startRequest() {\n      this.xhr = new XMLHttpRequest()\n      this.xhr.offline = false\n\n      const url = `/favicon.ico?_=${new Date().getTime()}`\n\n      this.triggerEvent(Event.NETWORK_RECONNECTING, { date: new Date() }, false)\n\n      this.xhr.open('HEAD', url, true)\n\n      this.xhr.timeout = this.options.delay - 1\n      this.xhr.ontimeout = () => {\n        this.xhr.abort()\n        this.xhr = null\n      }\n\n      this.xhr.onload = () => {\n        this.onUp()\n      }\n      this.xhr.onerror = () => {\n        this.onDown()\n      }\n\n      try {\n        this.xhr.send()\n      } catch (e) {\n        this.onDown()\n      }\n    }\n\n    onUp() {\n      this.triggerEvent(Event.NETWORK_RECONNECTING_SUCCESS, { date: new Date() }, false)\n\n      if (this.getStatus() !== Event.NETWORK_ONLINE) {\n        this.triggerEvent(Event.NETWORK_ONLINE, { date: new Date() }, false)\n      }\n\n      this.setStatus(Event.NETWORK_ONLINE)\n    }\n\n    onDown() {\n      this.triggerEvent(Event.NETWORK_RECONNECTING_FAILURE, { date: new Date() }, false)\n\n      if (this.getStatus() !== Event.NETWORK_OFFLINE) {\n        this.triggerEvent(Event.NETWORK_OFFLINE, { date: new Date() }, false)\n      }\n\n      this.setStatus(Event.NETWORK_OFFLINE)\n    }\n\n    startCheck() {\n      this.stopCheck()\n\n      this.startRequest()\n\n      this.checkInterval = setInterval(() => {\n        this.startRequest()\n      }, this.options.delay)\n    }\n\n    stopCheck() {\n      if (this.checkInterval !== null) {\n        clearInterval(this.checkInterval)\n        this.checkInterval = null\n      }\n    }\n\n    static DOMInterface(options) {\n      return super.DOMInterface(Network, options)\n    }\n  }\n\n  return Network\n})()\n\nexport default Network\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Component from '../component'\nimport { getAttributesConfig } from '../componentManager'\nimport Event from '../../common/events'\nimport { findTargetByAttr, findTargetByClass, createJqueryPlugin } from '../../common/utils'\n\nconst Alert = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'alert'\n  const VERSION = '2.0.0'\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    fade: true,\n  };\n  const DATA_ATTRS_PROPERTIES = [\n    'fade',\n  ];\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Alert extends Component {\n\n    constructor(options = {}) {\n      super(NAME, VERSION, DEFAULT_PROPERTIES, options, DATA_ATTRS_PROPERTIES, false, false);\n      this.onTransition = false;\n    }\n\n    show() {\n      if (this.onTransition) {\n        return false;\n      }\n\n      if (this.options.element.classList.contains('show') && this.getOpacity() !== 0) {\n        return false\n      }\n\n      this.onTransition = true;\n\n      this.triggerEvent(Event.SHOW)\n\n      const onShow = () => {\n        this.triggerEvent(Event.SHOWN)\n\n        if (this.options.element.classList.contains('fade')) {\n          this.options.element.classList.remove('fade');\n        }\n\n        this.options.element.removeEventListener(Event.TRANSITION_END, onShow);\n        this.onTransition = false;\n      }\n\n      if (this.options.fade && !this.options.element.classList.contains('fade')) {\n        this.options.element.classList.add('fade');\n      }\n\n      this.options.element.classList.add('show');\n\n      this.options.element.addEventListener(Event.TRANSITION_END, onShow);\n\n      if (this.options.element.classList.contains('hide')) {\n        this.options.element.classList.remove('hide');\n      }\n\n      if (!this.options.fade) {\n        onShow()\n      }\n    }\n\n    getOpacity() {\n      const { opacity } = window.getComputedStyle(this.options.element);\n      return parseFloat(opacity);\n    }\n\n    hide() {\n      if (this.onTransition) {\n        return false\n      }\n\n      if (this.getOpacity() === 0) {\n        return false\n      }\n\n      this.onTransition = true\n      this.triggerEvent(Event.HIDE)\n\n      const onHide = () => {\n        this.triggerEvent(Event.HIDDEN)\n        this.options.element.removeEventListener(Event.TRANSITION_END, onHide);\n        this.onTransition = false;\n      }\n\n      if (this.options.fade && !this.options.element.classList.contains('fade')) {\n        this.options.element.classList.add('fade');\n      }\n\n      this.options.element.addEventListener(Event.TRANSITION_END, onHide);\n\n      if (!this.options.element.classList.contains('hide')) {\n        this.options.element.classList.add('hide');\n      }\n\n      if (this.options.element.classList.contains('show')) {\n        this.options.element.classList.remove('show');\n      }\n\n      if (!this.options.fade) {\n        onHide()\n      }\n    }\n\n    static identifier() {\n      return NAME;\n    }\n\n    static DOMInterface(options) {\n      return super.DOMInterface(Alert, options);\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n  createJqueryPlugin($, NAME, Alert);\n\n  /**\n   * ------------------------------------------------------------------------\n   * DOM Api implementation\n   * ------------------------------------------------------------------------\n   */\n  const components = [];\n\n  const alerts = document.querySelectorAll(`.${NAME}`);\n\n  if (alerts) {\n    alerts.forEach((element) => {\n      const config = getAttributesConfig(element, DEFAULT_PROPERTIES, DATA_ATTRS_PROPERTIES);\n      config.element = element;\n\n      components.push(Alert.DOMInterface(config));\n    })\n  }\n\n  document.addEventListener('click', (event) => {\n    const target = findTargetByAttr(event.target, 'data-dismiss');\n    if (!target) {\n      return;\n    }\n\n    const dataToggleAttr = target.getAttribute('data-dismiss');\n\n    if (dataToggleAttr && dataToggleAttr === NAME) {\n      const alert = findTargetByClass(event.target, NAME);\n      const id = alert.getAttribute('id');\n      const component = components.find(c => c.getElement().getAttribute('id') === id);\n\n      if (!component) {\n        return;\n      }\n\n      component.hide();\n    }\n  });\n\n  return Alert;\n})(window.$ ? window.$ : null);\n\nexport default Alert;\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Event from '../../common/events'\nimport Component from '../component'\nimport { getAttributesConfig } from '../componentManager'\nimport { createJqueryPlugin } from '../../common/utils';\n\nconst Modal = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'modal'\n  const VERSION = '2.0.0'\n  const BACKDROP_SELECTOR = 'modal-backdrop'\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    title: null,\n    message: null,\n    cancelable: true,\n    type: null,\n    cancelableKeyCodes: [\n      27, // Escape\n      13, // Enter\n    ],\n    buttons: [\n      {\n        event: 'confirm',\n        text: 'Ok',\n        dismiss: true,\n        class: 'btn btn-primary',\n      },\n    ],\n  }\n  const DATA_ATTRS_PROPERTIES = [\n    'cancelable',\n  ]\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Modal extends Component {\n\n    constructor(options = {}, template = null) {\n      super(NAME, VERSION, DEFAULT_PROPERTIES, options, DATA_ATTRS_PROPERTIES, true, true)\n\n      this.template = template || '' +\n      '<div class=\"modal\" tabindex=\"-1\" role=\"modal\">' +\n        '<div class=\"modal-inner\" role=\"document\">' +\n          '<div class=\"modal-content\">' +\n            '<div class=\"modal-header\">' +\n              '<h5 class=\"modal-title\"></h5>' +\n            '</div>' +\n            '<div class=\"modal-body\">' +\n              '<p></p>' +\n            '</div>' +\n            '<div class=\"modal-footer\">' +\n            '</div>' +\n          '</div>' +\n        '</div>' +\n      '</div>'\n\n      if (this.dynamicElement) {\n        this.build()\n      }\n    }\n\n    build() {\n      const builder = document.createElement('div')\n\n      builder.innerHTML = this.template\n\n      this.options.element = builder.firstChild\n\n      // title\n      if (this.options.title !== null) {\n        this.options.element.querySelector('.modal-title').innerHTML = this.options.title\n      }\n\n      // message\n      if (this.options.message !== null) {\n        this.options.element.querySelector('.modal-body').firstChild.innerHTML = this.options.message\n      } else {\n        // remove paragraph node\n        this.removeTextBody()\n      }\n\n      // buttons\n      if (this.options.buttons !== null && Array.isArray(this.options.buttons)) {\n        if (this.options.buttons.length > 0) {\n          this.options.buttons.forEach((button) => {\n            this.options.element.querySelector('.modal-footer').appendChild(this.buildButton(button))\n          })\n        } else {\n          this.removeFooter()\n        }\n      } else {\n        this.removeFooter()\n      }\n\n      document.body.appendChild(this.options.element)\n\n      this.setAttributes()\n    }\n\n    buildButton(buttonInfo = {}) {\n      const button = document.createElement('button')\n      button.setAttribute('type', 'button')\n      button.setAttribute('class', buttonInfo.class || 'btn')\n      button.setAttribute('data-event', buttonInfo.event)\n      button.innerHTML = buttonInfo.text\n\n      if (buttonInfo.dismiss) {\n        button.setAttribute('data-dismiss', NAME)\n      }\n\n      return button\n    }\n\n    buildBackdrop() {\n      const backdrop = document.createElement('div')\n      backdrop.setAttribute('data-id', this.id)\n      backdrop.classList.add(BACKDROP_SELECTOR)\n\n      document.body.appendChild(backdrop)\n    }\n\n    getBackdrop() {\n      return document.querySelector(`.${BACKDROP_SELECTOR}[data-id=\"${this.id}\"]`)\n    }\n\n    removeTextBody() {\n      this.options.element.querySelector('.modal-body').removeChild(this.options.element.querySelector('.modal-body').firstChild)\n    }\n\n    removeFooter() {\n      const footer = this.options.element.querySelector('.modal-footer')\n      this.options.element.querySelector('.modal-content').removeChild(footer)\n    }\n\n    center() {\n      const computedStyle = window.getComputedStyle(this.options.element)\n      const height = computedStyle.height.slice(0, computedStyle.height.length - 2)\n\n      const top = (window.innerHeight / 2) - (height / 2)\n      this.options.element.style.top = `${top}px`\n    }\n\n    show() {\n      if (this.options.element === null) {\n        // build and insert a new DOM element\n        this.build()\n      }\n\n      if (this.options.element.classList.contains('show')) {\n        return false\n      }\n\n      // add a timeout so that the CSS animation works\n      setTimeout(() => {\n        this.triggerEvent(Event.SHOW)\n        this.buildBackdrop()\n\n        // attach event\n        this.attachEvents()\n\n        const onShown = () => {\n          this.triggerEvent(Event.SHOWN)\n          this.options.element.removeEventListener(Event.TRANSITION_END, onShown)\n        }\n\n        this.options.element.addEventListener(Event.TRANSITION_END, onShown)\n\n        this.options.element.classList.add('show')\n\n        this.center()\n      }, 10)\n\n      return true\n    }\n\n    onElementEvent(event) {\n      // keyboard event (escape and enter)\n      if (event.type === 'keyup') {\n        if (this.options.cancelableKeyCodes.find(k => k === event.keyCode)) {\n          this.hide()\n        }\n        return\n      }\n\n      // backdrop event\n      if (event.type === Event.START) {\n        // hide the modal\n        this.hide()\n        return\n      }\n\n      // button event\n      if (event.type === 'click') {\n        const eventName = event.target.getAttribute('data-event')\n\n        if (eventName) {\n          this.triggerEvent(eventName)\n        }\n\n        if (event.target.getAttribute('data-dismiss') === NAME) {\n          this.hide()\n        }\n      }\n    }\n\n    hide() {\n      if (!this.options.element.classList.contains('show')) {\n        return false\n      }\n\n      this.triggerEvent(Event.HIDE)\n\n      this.detachEvents()\n\n      this.options.element.classList.add('hide')\n      this.options.element.classList.remove('show')\n\n      const backdrop = this.getBackdrop()\n\n      const onHidden = () => {\n        document.body.removeChild(backdrop)\n\n        this.options.element.classList.remove('hide')\n\n        this.triggerEvent(Event.HIDDEN)\n\n        backdrop.removeEventListener(Event.TRANSITION_END, onHidden)\n\n        // remove generated modals from the DOM\n        if (this.dynamicElement) {\n          document.body.removeChild(this.options.element)\n          this.options.element = null\n        }\n      }\n\n      backdrop.addEventListener(Event.TRANSITION_END, onHidden)\n      backdrop.classList.add('fadeout')\n\n      return true\n    }\n\n    attachEvents() {\n      const buttons = this.options.element.querySelectorAll('[data-dismiss], .modal-footer button')\n      if (buttons) {\n        Array.from(buttons).forEach(button => this.registerElement({ target: button, event: 'click' }))\n      }\n\n      // add events if the modal is cancelable\n      // which means the user can hide the modal\n      // by pressing the ESC key or click on the backdrop\n      if (this.options.cancelable) {\n        const backdrop = this.getBackdrop()\n        this.registerElement({ target: backdrop, event: Event.START })\n        this.registerElement({ target: document, event: 'keyup' })\n      }\n    }\n\n    detachEvents() {\n      const buttons = this.options.element.querySelectorAll('[data-dismiss], .modal-footer button')\n      if (buttons) {\n        Array.from(buttons).forEach(button => this.unregisterElement({ target: button, event: 'click' }))\n      }\n\n      if (this.options.cancelable) {\n        const backdrop = this.getBackdrop()\n        this.unregisterElement({ target: backdrop, event: Event.START })\n        this.unregisterElement({ target: document, event: 'keyup' })\n      }\n    }\n\n    static identifier() {\n      return NAME\n    }\n\n    static DOMInterface(options) {\n      return super.DOMInterface(Modal, options)\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n  createJqueryPlugin($, NAME, Modal);\n\n  /**\n   * ------------------------------------------------------------------------\n   * DOM Api implementation\n   * ------------------------------------------------------------------------\n   */\n  const components = []\n\n  const modals = document.querySelectorAll(`.${NAME}`)\n  if (modals) {\n    Array.from(modals).forEach((element) => {\n      const config = getAttributesConfig(element, DEFAULT_PROPERTIES, DATA_ATTRS_PROPERTIES)\n      config.element = element\n\n      components.push({ element, modal: new Modal(config) })\n    })\n  }\n\n  document.addEventListener('click', (event) => {\n    const dataToggleAttr = event.target.getAttribute('data-toggle')\n    if (dataToggleAttr && dataToggleAttr === NAME) {\n      const id = event.target.getAttribute('data-target')\n      const element = document.querySelector(id)\n\n      const component = components.find(c => c.element === element)\n\n      if (!component) {\n        return\n      }\n\n      // remove the focus state of the trigger\n      event.target.blur()\n\n      component.modal.show()\n    }\n  })\n\n  return Modal\n})(window.$ ? window.$ : null)\n\nexport default Modal\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Modal from './index'\nimport { getAttributesConfig } from '../componentManager'\nimport { createJqueryPlugin } from '../../common/utils'\n\nconst Prompt = (($) => {\n\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'prompt'\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    title: null,\n    message: null,\n    cancelable: true,\n    type: NAME,\n    buttons: [\n      {\n        event: 'cancel',\n        text: 'Cancel',\n        dismiss: true,\n        class: 'btn btn-secondary',\n      },\n      {\n        event: 'confirm',\n        text: 'Ok',\n        dismiss: true,\n        class: 'btn btn-primary',\n      },\n    ],\n  }\n  const DATA_ATTRS_PROPERTIES = [\n    'cancelable',\n  ]\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Prompt extends Modal {\n\n    constructor(options = {}) {\n      const template = '' +\n      '<div class=\"modal\" tabindex=\"-1\" role=\"modal\">' +\n        '<div class=\"modal-inner\" role=\"document\">' +\n          '<div class=\"modal-content\">' +\n            '<div class=\"modal-header\">' +\n              '<h5 class=\"modal-title\"></h5>' +\n            '</div>' +\n            '<div class=\"modal-body\">' +\n              '<p></p>' +\n              '<input class=\"form-control\" type=\"text\" value=\"\">' +\n            '</div>' +\n            '<div class=\"modal-footer\">' +\n            '</div>' +\n          '</div>' +\n        '</div>' +\n      '</div>'\n\n      if (!Array.isArray(options.buttons)) {\n        options.buttons = DEFAULT_PROPERTIES.buttons\n      }\n\n      super(options, template)\n    }\n\n    show() {\n      super.show()\n      this.attachInputEvent()\n    }\n\n    hide() {\n      super.hide()\n      this.detachInputEvent()\n    }\n\n    getInput() {\n      return this.options.element.querySelector('.form-control')\n    }\n\n    attachInputEvent() {\n      this.registerElement({ target: this.getInput(), event: 'keyup' })\n    }\n\n    detachInputEvent() {\n      this.unregisterElement({ target: this.getInput(), event: 'keyup' })\n    }\n\n    onElementEvent(event) {\n      if (event.target === this.getInput()) {\n        return\n      }\n\n      super.onElementEvent(event)\n    }\n\n    setInputValue(value = '') {\n      this.getInput().value = value\n    }\n\n    getInputValue() {\n      return this.getInput().value\n    }\n\n    static identifier() {\n      return NAME\n    }\n\n    static DOMInterface(options) {\n      return new Prompt(options)\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n  createJqueryPlugin($, NAME, Prompt);\n\n  /**\n   * ------------------------------------------------------------------------\n   * DOM Api implementation\n   * ------------------------------------------------------------------------\n   */\n  const components = []\n  const modals = document.querySelectorAll(`.${Modal.identifier()}`)\n\n  if (modals) {\n    Array.from(modals).forEach((element) => {\n      const config = getAttributesConfig(element, DEFAULT_PROPERTIES, DATA_ATTRS_PROPERTIES)\n      config.element = element\n\n      if (config.type === NAME) {\n        // prompt\n        components.push(new Prompt(config))\n      }\n    })\n  }\n\n  document.addEventListener('click', (event) => {\n    const dataToggleAttr = event.target.getAttribute('data-toggle')\n    if (dataToggleAttr && dataToggleAttr === NAME) {\n      const id = event.target.getAttribute('data-target')\n      const element = document.querySelector(id)\n\n      const component = components.find(c => c.element === element)\n\n      if (!component) {\n        return\n      }\n\n      // remove the focus state of the trigger\n      event.target.blur()\n\n      component.modal.show()\n    }\n  })\n\n  return Prompt\n})(window.$ ? window.$ : null)\n\nexport default Prompt\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Modal from './index'\nimport { getAttributesConfig } from '../componentManager'\nimport { createJqueryPlugin } from '../../common/utils'\n\nconst Confirm = (($) => {\n\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'confirm'\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    title: null,\n    message: null,\n    cancelable: true,\n    type: NAME,\n    buttons: [\n      {\n        event: 'cancel',\n        text: 'Cancel',\n        dismiss: true,\n        class: 'btn btn-secondary',\n      },\n      {\n        event: 'confirm',\n        text: 'Ok',\n        dismiss: true,\n        class: 'btn btn-primary',\n      },\n    ],\n  }\n  const DATA_ATTRS_PROPERTIES = [\n    'cancelable',\n  ]\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Confirm extends Modal {\n\n    constructor(options = {}) {\n      const template = '' +\n      '<div class=\"modal\" tabindex=\"-1\" role=\"modal\">' +\n        '<div class=\"modal-inner\" role=\"document\">' +\n          '<div class=\"modal-content\">' +\n            '<div class=\"modal-header\">' +\n              '<h5 class=\"modal-title\"></h5>' +\n            '</div>' +\n            '<div class=\"modal-body\">' +\n              '<p></p>' +\n            '</div>' +\n            '<div class=\"modal-footer\">' +\n            '</div>' +\n          '</div>' +\n        '</div>' +\n      '</div>'\n\n      if (!Array.isArray(options.buttons)) {\n        options.buttons = DEFAULT_PROPERTIES.buttons\n      }\n\n      super(options, template)\n    }\n\n    static identifier() {\n      return NAME\n    }\n\n    static DOMInterface(options) {\n      return new Confirm(options)\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n  createJqueryPlugin($, NAME, Confirm);\n\n  /**\n   * ------------------------------------------------------------------------\n   * DOM Api implementation\n   * ------------------------------------------------------------------------\n   */\n  const components = []\n  const modals = document.querySelectorAll(`.${Modal.identifier()}`)\n\n  if (modals) {\n    Array.from(modals).forEach((element) => {\n      const config = getAttributesConfig(element, DEFAULT_PROPERTIES, DATA_ATTRS_PROPERTIES)\n      config.element = element\n\n      if (config.type === NAME) {\n        // confirm\n        components.push(new Confirm(config))\n      }\n    })\n  }\n\n  document.addEventListener('click', (event) => {\n    const dataToggleAttr = event.target.getAttribute('data-toggle')\n    if (dataToggleAttr && dataToggleAttr === NAME) {\n      const id = event.target.getAttribute('data-target')\n      const element = document.querySelector(id)\n\n      const component = components.find(c => c.element === element)\n\n      if (!component) {\n        return\n      }\n\n      // remove the focus state of the trigger\n      event.target.blur()\n\n      component.modal.show()\n    }\n  })\n\n  return Confirm\n})(window.$ ? window.$ : null)\n\nexport default Confirm\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Component from '../component'\nimport { createJqueryPlugin } from '../../common/utils'\n\nconst Loader = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'loader'\n  const VERSION = '2.0.0'\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    color: null,\n    size: null,\n  }\n  const DATA_ATTRS_PROPERTIES = []\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Loader extends Component {\n\n    constructor(options = {}) {\n      super(NAME, VERSION, DEFAULT_PROPERTIES, options, DATA_ATTRS_PROPERTIES, false, false)\n\n      // set color\n      const loaderSpinner = this.getSpinner()\n      if (typeof this.options.color === 'string'\n        && !loaderSpinner.classList.contains(`color-${this.options.color}`)) {\n        loaderSpinner.classList.add(`color-${this.options.color}`)\n      }\n\n      this.customSize = this.options.size !== null\n    }\n\n    getClientSize() {\n      if (!this.customSize) {\n        const size = this.options.element.getBoundingClientRect()\n        return size.height\n      }\n\n      return this.options.size\n    }\n\n    getSpinner() {\n      return this.options.element.querySelector('.loader-spinner')\n    }\n\n    show() {\n      if (this.options.element.classList.contains('hide')) {\n        this.options.element.classList.remove('hide')\n      }\n\n      const size = this.getClientSize()\n      this.options.size = size\n\n      if (this.customSize) {\n        this.options.element.style.width = `${this.options.size}px`\n        this.options.element.style.height = `${this.options.size}px`\n\n        const loaderSpinner = this.getSpinner()\n        loaderSpinner.style.width = `${this.options.size}px`\n        loaderSpinner.style.height = `${this.options.size}px`\n      }\n\n      return true\n    }\n\n    animate(startAnimation = true) {\n      if (startAnimation) {\n        this.show()\n      } else {\n        this.hide()\n      }\n\n      const loaderSpinner = this.getSpinner()\n\n      if (startAnimation &&\n        !loaderSpinner.classList.contains('loader-spinner-animated')) {\n        loaderSpinner.classList.add('loader-spinner-animated')\n        return true\n      }\n\n      if (!startAnimation &&\n        loaderSpinner.classList.contains('loader-spinner-animated')) {\n        loaderSpinner.classList.remove('loader-spinner-animated')\n      }\n\n      return true\n    }\n\n    hide() {\n      if (!this.options.element.classList.contains('hide')) {\n        this.options.element.classList.add('hide')\n      }\n\n      return true\n    }\n\n    static identifier() {\n      return NAME\n    }\n\n    static DOMInterface(options) {\n      return super.DOMInterface(Loader, options)\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n  createJqueryPlugin($, NAME, Loader);\n\n  return Loader\n})(window.$ ? window.$ : null)\n\nexport default Loader\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Modal from './index'\nimport Spinner from '../loader/index'\nimport { getAttributesConfig } from '../componentManager'\nimport { createJqueryPlugin } from '../../common/utils'\n\nconst Loader = (($) => {\n\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'loader'\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    title: null,\n    message: null,\n    cancelable: true,\n    type: NAME,\n    buttons: [],\n  }\n  const DATA_ATTRS_PROPERTIES = [\n    'cancelable',\n  ]\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Loader extends Modal {\n\n    constructor(options = {}) {\n      const template = '' +\n      '<div class=\"modal\" tabindex=\"-1\" role=\"modal\">' +\n        '<div class=\"modal-inner\" role=\"document\">' +\n          '<div class=\"modal-content\">' +\n            '<div class=\"modal-header\">' +\n              '<h5 class=\"modal-title\"></h5>' +\n            '</div>' +\n            '<div class=\"modal-body\">' +\n              '<p></p>' +\n              '<div class=\"mx-auto text-center\">' +\n                '<div class=\"loader mx-auto d-block\">' +\n                  '<div class=\"loader-spinner\"></div>' +\n                '</div>' +\n              '</div>' +\n            '</div>' +\n            '<div class=\"modal-footer\">' +\n            '</div>' +\n          '</div>' +\n        '</div>' +\n      '</div>'\n\n      if (!Array.isArray(options.buttons)) {\n        options.buttons = options.cancelable ? DEFAULT_PROPERTIES.buttons : []\n      }\n\n      super(options, template)\n\n      this.spinner = null\n    }\n\n    show() {\n      super.show()\n\n      this.spinner = new Spinner({element: this.getElement().querySelector('.loader')})\n      this.spinner.animate(true)\n    }\n\n    hide() {\n      super.hide()\n\n      this.spinner.animate(false)\n      this.spinner = null\n    }\n\n    static identifier() {\n      return NAME\n    }\n\n    static DOMInterface(options) {\n      return new Loader(options)\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n  createJqueryPlugin($, NAME, Loader);\n\n  /**\n   * ------------------------------------------------------------------------\n   * DOM Api implementation\n   * ------------------------------------------------------------------------\n   */\n  const components = []\n  const modals = document.querySelectorAll(`.${Modal.identifier()}`)\n\n  if (modals) {\n    Array.from(modals).forEach((element) => {\n      const config = getAttributesConfig(element, DEFAULT_PROPERTIES, DATA_ATTRS_PROPERTIES)\n      config.element = element\n\n      if (config.type === NAME) {\n        // loader\n        components.push(new Loader(config))\n      }\n    })\n  }\n\n  document.addEventListener('click', (event) => {\n    const dataToggleAttr = event.target.getAttribute('data-toggle')\n    if (dataToggleAttr && dataToggleAttr === NAME) {\n      const id = event.target.getAttribute('data-target')\n      const element = document.querySelector(id)\n\n      const component = components.find(c => c.element === element)\n\n      if (!component) {\n        return\n      }\n\n      // remove the focus state of the trigger\n      event.target.blur()\n\n      component.modal.show()\n    }\n  })\n\n  return Loader\n})(window.$ ? window.$ : null)\n\nexport default Loader\n","/**\n* --------------------------------------------------------------------------\n* Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n* --------------------------------------------------------------------------\n*/\nimport Event from '../../common/events'\nimport Component from '../component'\nimport { createJqueryPlugin } from '../../common/utils';\n\nconst Notification = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n  * Constants\n  * ------------------------------------------------------------------------\n  */\n\n  const NAME = 'notification'\n  const VERSION = '2.0.0'\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    message: '',\n    showButton: true,\n    timeout: null,\n    background: 'primary',\n  }\n  const DATA_ATTRS_PROPERTIES = [\n    'timeout',\n  ]\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Notification extends Component {\n\n    constructor(options = {}) {\n      super(NAME, VERSION, DEFAULT_PROPERTIES, options, DATA_ATTRS_PROPERTIES, true, false)\n\n      this.template = '' +\n      '<div class=\"notification\">' +\n        '<div class=\"notification-inner\">' +\n          '<div class=\"message\"></div>' +\n          '<button type=\"button\" class=\"close\" data-dismiss=\"notification\" aria-label=\"Close\">' +\n            '<span aria-hidden=\"true\">&times;</span>' +\n          '</button>' +\n        '</div>' +\n      '</div>'\n\n      if (this.dynamicElement) {\n        this.build()\n      }\n\n      this.timeoutCallback = null\n    }\n\n    build() {\n      const builder = document.createElement('div')\n\n      builder.innerHTML = this.template\n\n      this.options.element = builder.firstChild\n\n      // text message\n      this.options.element.querySelector('.message').innerHTML = this.options.message\n\n      if (!this.options.showButton) {\n        this.options.element.querySelector('button').style.display = 'none'\n      }\n\n      document.body.appendChild(this.options.element)\n\n      this.setAttributes()\n    }\n\n    show() {\n      if (this.options.element === null) {\n        // build and insert a new DOM element\n        this.build()\n      }\n\n      if (this.options.element.classList.contains('show')) {\n        return false\n      }\n\n      // reset color\n      if (this.options.background) {\n        this.options.element.removeAttribute('class')\n        this.options.element.setAttribute('class', 'notification')\n\n        this.options.element.classList.add(`bg-${this.options.background}`)\n        this.options.element.querySelector('button').classList.add(`btn-${this.options.background}`)\n      }\n\n      if (this.options.showButton) {\n        // attach the button handler\n        const buttonElement = this.options.element.querySelector('button')\n        this.registerElement({ target: buttonElement, event: 'click' })\n      }\n\n      setTimeout(() => {\n        this.options.element.classList.add('show')\n\n        // set position\n        const activeNotifications = document.querySelectorAll('.notification.show') || []\n        let pushDistance = 0\n        activeNotifications.forEach((notification) => {\n          if (this.options.element !== notification) {\n            const style = getComputedStyle(notification)\n            pushDistance += notification.offsetHeight + parseInt(style.marginBottom, 10)\n          }\n        })\n\n        this.options.element.style.transform = `translateY(${pushDistance}px)`\n\n        this.triggerEvent(Event.SHOW)\n\n        const onShown = () => {\n          this.triggerEvent(Event.SHOWN)\n          this.options.element.removeEventListener(Event.TRANSITION_END, onShown)\n        }\n\n        this.options.element.addEventListener(Event.TRANSITION_END, onShown)\n\n      }, 1)\n\n      if (Number.isInteger(this.options.timeout) && this.options.timeout > 0) {\n        // if there is a timeout, auto hide the notification\n        this.timeoutCallback = setTimeout(() => {\n          this.hide()\n        }, this.options.timeout + 1)\n      }\n\n      return true\n    }\n\n    hide() {\n      /*\n       * prevent to close a notification with a timeout\n       * if the user has already clicked on the button\n       */\n      if (this.timeoutCallback) {\n        clearTimeout(this.timeoutCallback)\n        this.timeoutCallback = null\n      }\n\n      if (!this.options.element.classList.contains('show')) {\n        return false\n      }\n\n      this.triggerEvent(Event.HIDE)\n\n      if (this.options.showButton) {\n        const buttonElement = this.options.element.querySelector('button')\n        this.unregisterElement({ target: buttonElement, event: 'click' })\n      }\n\n      this.options.element.classList.remove('show')\n      this.options.element.classList.add('hide')\n\n      const onHidden = () => {\n        this.options.element.removeEventListener(Event.TRANSITION_END, onHidden)\n        this.options.element.classList.remove('hide')\n\n        this.triggerEvent(Event.HIDDEN)\n\n        if (this.dynamicElement) {\n          document.body.removeChild(this.options.element)\n          this.options.element = null\n        }\n      }\n\n      this.options.element.addEventListener(Event.TRANSITION_END, onHidden)\n\n      return true\n    }\n\n    onElementEvent() {\n      this.hide()\n    }\n\n    static identifier() {\n      return NAME\n    }\n\n    static DOMInterface(options) {\n      return super.DOMInterface(Notification, options)\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n  createJqueryPlugin($, NAME, Notification);\n\n\n  return Notification\n})(window.$ ? window.$ : null)\n\nexport default Notification\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Component from '../component'\nimport { getAttributesConfig } from '../componentManager'\nimport Event from '../../common/events'\nimport { findTargetByAttr, createJqueryPlugin } from '../../common/utils'\n\nconst Collapse = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'collapse'\n  const VERSION = '2.0.0'\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    toggle: false,\n  }\n  const DATA_ATTRS_PROPERTIES = [\n  ]\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Collapse extends Component {\n\n    constructor(options = {}) {\n      super(NAME, VERSION, DEFAULT_PROPERTIES, options, DATA_ATTRS_PROPERTIES, false, false)\n\n      this.onTransition = false\n\n      // toggle directly\n      if (this.options.toggle) {\n        this.show()\n      }\n    }\n\n    getHeight() {\n      return this.options.element.getBoundingClientRect(this.options.element).height\n    }\n\n    toggle() {\n      if (this.options.element.classList.contains('show')) {\n        return this.hide()\n      }\n\n      return this.show()\n    }\n\n    show() {\n      if (this.onTransition) {\n        return false\n      }\n\n      if (this.options.element.classList.contains('show')) {\n        return false\n      }\n\n      this.onTransition = true\n\n      this.triggerEvent(Event.SHOW);\n\n      const onCollapsed = () => {\n        this.triggerEvent(Event.SHOWN);\n\n        this.options.element.classList.add('show')\n        this.options.element.classList.remove('collapsing')\n        this.options.element.removeEventListener(Event.TRANSITION_END, onCollapsed)\n\n        this.options.element.setAttribute('aria-expanded', true)\n\n        this.onTransition = false\n      }\n\n      if (!this.options.element.classList.contains('collapsing')) {\n        this.options.element.classList.add('collapsing')\n      }\n\n      this.options.element.addEventListener(Event.TRANSITION_END, onCollapsed)\n\n      const height = this.getHeight()\n\n      this.options.element.style.height = '0px'\n\n      setTimeout(() => {\n        this.options.element.style.height = `${height}px`\n      }, 20)\n\n      return true\n    }\n\n    hide() {\n      if (this.onTransition) {\n        return false\n      }\n\n      if (!this.options.element.classList.contains('show')) {\n        return false\n      }\n\n      this.onTransition = true\n\n      this.triggerEvent(Event.HIDE);\n\n      const onCollapsed = () => {\n        this.triggerEvent(Event.HIDDEN);\n\n        this.options.element.classList.remove('collapsing')\n        this.options.element.style.height = 'auto'\n        this.options.element.removeEventListener(Event.TRANSITION_END, onCollapsed)\n\n        this.options.element.setAttribute('aria-expanded', false)\n\n        this.onTransition = false\n      }\n\n      this.options.element.style.height = '0px'\n\n      if (!this.options.element.classList.contains('collapsing')) {\n        this.options.element.classList.add('collapsing')\n      }\n\n      this.options.element.addEventListener(Event.TRANSITION_END, onCollapsed)\n\n      this.options.element.classList.remove('show')\n\n      return true\n    }\n\n    static identifier() {\n      return NAME\n    }\n\n    static DOMInterface(options) {\n      return super.DOMInterface(Collapse, options)\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n  createJqueryPlugin($, NAME, Collapse);\n\n  /**\n   * ------------------------------------------------------------------------\n   * DOM Api implementation\n   * ------------------------------------------------------------------------\n   */\n  const components = []\n\n  const collapses = document.querySelectorAll(`.${NAME}`)\n  if (collapses) {\n    collapses.forEach((element) => {\n      // const config = {}\n      const config = getAttributesConfig(element, DEFAULT_PROPERTIES, DATA_ATTRS_PROPERTIES)\n      config.element = element\n\n      components.push(Collapse.DOMInterface(config))\n    })\n  }\n\n  document.addEventListener(Event.CLICK, (event) => {\n    const target = findTargetByAttr(event.target, 'data-toggle')\n    if (!target) {\n      return\n    }\n\n    const dataToggleAttr = target.getAttribute('data-toggle')\n\n    if (dataToggleAttr && dataToggleAttr === NAME) {\n      let id = target.getAttribute('data-target') || target.getAttribute('href')\n      id = id.replace('#', '')\n\n      const component = components.find(c => c.getElement().getAttribute('id') === id)\n\n      if (!component) {\n        return\n      }\n\n      component.toggle()\n    }\n  })\n\n  return Collapse\n})(window.$ ? window.$ : null)\n\nexport default Collapse\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Component from '../component'\nimport Collapse from '../collapse'\nimport { getAttributesConfig } from '../componentManager'\nimport { findTargetByClass, createJqueryPlugin } from '../../common/utils'\n\nconst Accordion = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'accordion'\n  const VERSION = '2.0.0'\n  const DEFAULT_PROPERTIES = {\n    element: null,\n  }\n  const DATA_ATTRS_PROPERTIES = [\n  ]\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Accordion extends Component {\n\n    constructor(options = {}) {\n      super(NAME, VERSION, DEFAULT_PROPERTIES, options, DATA_ATTRS_PROPERTIES, false, false)\n\n      this.collapses = []\n\n      const toggles = this.options.element.querySelectorAll(`[data-toggle=\"${NAME}\"]`)\n      Array.from(toggles).forEach((toggle) => {\n        const collapseId = toggle.getAttribute('href')\n        const collapse = document.querySelector(collapseId)\n\n        if (collapse) {\n          this.addCollapse(collapse)\n        }\n      })\n    }\n\n    onElementEvent(event) {\n      const id = event.target.getAttribute('href')\n      const element = document.querySelector(id)\n\n      this.setCollapses(element)\n    }\n\n    addCollapse(element) {\n      const collapse = new Collapse({\n        element,\n      })\n      this.collapses.push(collapse)\n\n      return collapse\n    }\n\n    getCollapse(element) {\n      let collapse = this.collapses.find(c => c.options.element.getAttribute('id') === element.getAttribute('id'))\n\n      if (!collapse) {\n        // create a new collapse\n        collapse = this.addCollapse()\n      }\n\n      return collapse\n    }\n\n    getCollapses() {\n      return this.collapses\n    }\n\n    setCollapses(showCollapse) {\n      const collapse = this.getCollapse(showCollapse)\n      this.collapses.forEach((c) => {\n        if (c.options.element.getAttribute('id') !== showCollapse.getAttribute('id')) {\n          c.hide()\n        } else {\n          collapse.toggle()\n        }\n      })\n    }\n\n    show(collapseEl) {\n      let collapse = collapseEl\n      if (typeof collapseEl === 'string') {\n        collapse = document.querySelector(collapseEl)\n      }\n\n      if (!collapse) {\n        throw new Error(`${NAME}. The collapsible ${collapseEl} is an invalid HTMLElement.`)\n      }\n\n      this.setCollapses(collapse)\n\n      return true\n    }\n\n    hide(collapseEl) {\n      let collapse = collapseEl\n      if (typeof collapseEl === 'string') {\n        collapse = document.querySelector(collapseEl)\n      }\n\n      if (!collapse) {\n        throw new Error(`${NAME}. The collapsible ${collapseEl} is an invalid HTMLElement.`)\n      }\n\n      const collapseObj = this.getCollapse(collapse)\n      return collapseObj.hide()\n    }\n\n    static identifier() {\n      return NAME\n    }\n\n    static DOMInterface(options) {\n      return super.DOMInterface(Accordion, options)\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n  createJqueryPlugin($, NAME, Accordion);\n\n  /**\n   * ------------------------------------------------------------------------\n   * DOM Api implementation\n   * ------------------------------------------------------------------------\n   */\n  const components = []\n\n  const accordions = document.querySelectorAll(`.${NAME}`)\n  if (accordions) {\n    Array.from(accordions).forEach((element) => {\n      const config = getAttributesConfig(element, DEFAULT_PROPERTIES, DATA_ATTRS_PROPERTIES)\n      config.element = element\n\n      components.push(Accordion.DOMInterface(config))\n    })\n  }\n\n  document.addEventListener('click', (event) => {\n    const dataToggleAttr = event.target.getAttribute('data-toggle')\n    if (dataToggleAttr && dataToggleAttr === NAME) {\n      const collapseId = event.target.getAttribute('data-target') || event.target.getAttribute('href')\n      const collapseEl = document.querySelector(collapseId)\n\n      const accordion = findTargetByClass(event.target, 'accordion')\n\n      if (accordion === null) {\n        return\n      }\n\n      const accordionId = accordion.getAttribute('id')\n      const component = components.find(c => c.getElement().getAttribute('id') === accordionId)\n\n      if (!component) {\n        return\n      }\n\n      // if the collapse has been added programmatically, we add it\n      const targetCollapse = component.getCollapses().find(c => c.getElement() === collapseEl)\n      if (!targetCollapse) {\n        component.addCollapse(collapseEl)\n      }\n\n      component.show(collapseId)\n    }\n  })\n\n  return Accordion\n})(window.$ ? window.$ : null)\n\nexport default Accordion\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Component from '../component'\nimport { getAttributesConfig } from '../componentManager'\nimport Event from '../../common/events'\nimport { findTargetByClass, createJqueryPlugin } from '../../common/utils'\n\nconst Tab = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'tab'\n  const VERSION = '2.0.0'\n  const DEFAULT_PROPERTIES = {\n\n  }\n  const DATA_ATTRS_PROPERTIES = [\n  ]\n  const TAB_CONTENT_SELECTOR = '.tab-pane'\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Tab extends Component {\n\n    constructor(options = {}) {\n      super(NAME, VERSION, DEFAULT_PROPERTIES, options, DATA_ATTRS_PROPERTIES, false, false)\n    }\n\n    show() {\n      if (this.options.element.classList.contains('active')) {\n        return false\n      }\n\n      const id = this.options.element.getAttribute('href')\n      const nav = findTargetByClass(this.options.element, 'nav')\n      const navTabs = nav ? nav.querySelectorAll(`[data-toggle=\"${NAME}\"]`) : null\n\n      if (navTabs) {\n        Array.from(navTabs).forEach((tab) => {\n          if (tab.classList.contains('active')) {\n            tab.classList.remove('active')\n          }\n          tab.setAttribute('aria-selected', false)\n        })\n      }\n\n      this.options.element.classList.add('active')\n      this.options.element.setAttribute('aria-selected', true)\n\n      const tabContent = document.querySelector(id)\n      const tabContents = tabContent.parentNode.querySelectorAll(TAB_CONTENT_SELECTOR)\n\n      if (tabContents) {\n        Array.from(tabContents).forEach((tab) => {\n          if (tab.classList.contains('active')) {\n            tab.classList.remove('active')\n          }\n        })\n      }\n\n      tabContent.classList.add('showing')\n\n      setTimeout(() => {\n        const onShowed = () => {\n          tabContent.classList.remove('animate')\n          tabContent.classList.add('active')\n          tabContent.classList.remove('showing')\n          tabContent.removeEventListener(Event.TRANSITION_END, onShowed)\n        }\n\n        tabContent.addEventListener(Event.TRANSITION_END, onShowed)\n\n        tabContent.classList.add('animate')\n      }, 20)\n\n      return true\n    }\n\n    hide() {\n      if (!this.options.element.classList.contains('active')) {\n        return false\n      }\n\n      if (this.options.element.classList.contains('active')) {\n        this.options.element.classList.remove('active')\n      }\n\n      this.options.element.setAttribute('aria-selected', false)\n\n      const id = this.options.element.getAttribute('href')\n      const tabContent = document.querySelector(id)\n\n      if (tabContent.classList.contains('active')) {\n        tabContent.classList.remove('active')\n      }\n\n      return true\n    }\n\n    static identifier() {\n      return NAME\n    }\n\n    static DOMInterface(options) {\n      return super.DOMInterface(Tab, options)\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n  createJqueryPlugin($, NAME, Tab);\n\n  /**\n   * ------------------------------------------------------------------------\n   * DOM Api implementation\n   * ------------------------------------------------------------------------\n   */\n  const components = []\n\n  const tabs = document.querySelectorAll(`[data-toggle=\"${NAME}\"]`)\n  if (tabs) {\n    Array.from(tabs).forEach((element) => {\n      // const config = {}\n      const config = getAttributesConfig(element, DEFAULT_PROPERTIES, DATA_ATTRS_PROPERTIES)\n      config.element = element\n\n      components.push(Tab.DOMInterface(config))\n    })\n  }\n\n  document.addEventListener('click', (event) => {\n    const dataToggleAttr = event.target.getAttribute('data-toggle')\n    if (dataToggleAttr && dataToggleAttr === NAME) {\n      const id = event.target.getAttribute('href')\n\n      const component = components.find(c => c.getElement().getAttribute('href') === id)\n\n      if (!component) {\n        return\n      }\n\n      component.show()\n    }\n  })\n\n  return Tab\n})(window.$ ? window.$ : null)\n\nexport default Tab\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Component from '../component'\nimport Event from '../../common/events'\nimport { createJqueryPlugin } from '../../common/utils'\n\nconst Progress = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'progress'\n  const VERSION = '2.0.0'\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    height: 5,\n    min: 0,\n    max: 100,\n    label: false,\n    striped: false,\n    background: null,\n  }\n  const DATA_ATTRS_PROPERTIES = [\n    'height',\n    'min',\n    'max',\n    'label',\n    'striped',\n    'background',\n  ]\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Progress extends Component {\n\n    constructor(options = {}) {\n      super(NAME, VERSION, DEFAULT_PROPERTIES, options, DATA_ATTRS_PROPERTIES, false, false)\n\n      // set the wanted height\n      this.options.element.style.height = `${this.options.height}px`\n\n      // set min and max values\n      const progressBar = this.getProgressBar()\n      progressBar.setAttribute('aria-valuemin', `${this.options.min}`)\n      progressBar.setAttribute('aria-valuemax', `${this.options.max}`)\n\n      // set striped\n      if (this.options.striped\n        && !progressBar.classList.contains('progress-bar-striped')) {\n        progressBar.classList.add('progress-bar-striped')\n      }\n\n      // set background\n      if (typeof this.options.background === 'string'\n        && !progressBar.classList.contains(`bg-${this.options.background}`)) {\n        progressBar.classList.add(`bg-${this.options.background}`)\n      }\n    }\n\n    getProgressBar() {\n      return this.options.element.querySelector('.progress-bar')\n    }\n\n    set(value = 0) {\n      const progressBar = this.getProgressBar()\n      const progress = Math.round((value / (this.options.min + this.options.max)) * 100)\n\n      if (value < this.options.min) {\n        console.error(`${NAME}. Warning, ${value} is under min value.`)\n        return false\n      }\n\n      if (value > this.options.max) {\n        console.error(`${NAME}. Warning, ${value} is above max value.`)\n        return false\n      }\n\n      progressBar.setAttribute('aria-valuenow', `${value}`)\n\n      // set label\n      if (this.options.label) {\n        progressBar.innerHTML = `${progress}%`\n      }\n\n      // set percentage\n      progressBar.style.width = `${progress}%`\n\n      return true\n    }\n\n    animate(startAnimation = true) {\n      if (!this.options.striped) {\n        console.error(`${NAME}. Animation works only with striped progress.`)\n        return false\n      }\n\n      const progressBar = this.getProgressBar()\n\n      if (startAnimation\n        && !progressBar.classList.contains('progress-bar-animated')) {\n        progressBar.classList.add('progress-bar-animated')\n      }\n\n      if (!startAnimation\n        && progressBar.classList.contains('progress-bar-animated')) {\n        progressBar.classList.remove('progress-bar-animated')\n      }\n\n      return true\n    }\n\n    show() {\n      this.options.element.style.height = `${this.options.height}px`\n      this.triggerEvent(Event.SHOW)\n      this.triggerEvent(Event.SHOWN)\n\n      return true\n    }\n\n    hide() {\n      this.options.element.style.height = '0px'\n      this.triggerEvent(Event.HIDE)\n      this.triggerEvent(Event.HIDDEN)\n\n      return true\n    }\n\n    static identifier() {\n      return NAME\n    }\n\n    static DOMInterface(options) {\n      return super.DOMInterface(Progress, options)\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n  createJqueryPlugin($, NAME, Progress);\n\n  return Progress\n})(window.$ ? window.$ : null)\n\nexport default Progress\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Event from '../../common/events'\nimport Component from '../component'\nimport { getAttributesConfig } from '../componentManager'\nimport { findTargetByAttr, createJqueryPlugin } from '../../common/utils'\n\nconst OffCanvas = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'offCanvas'\n  const VERSION = '2.0.0'\n  const BACKDROP_SELECTOR = 'off-canvas-backdrop'\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    aside: {\n      md: false,\n      lg: false,\n      xl: false,\n    },\n  }\n  const DATA_ATTRS_PROPERTIES = [\n    'aside',\n  ]\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class OffCanvas extends Component {\n\n    constructor(options = {}) {\n      super(NAME, VERSION, DEFAULT_PROPERTIES, options, DATA_ATTRS_PROPERTIES, false, true)\n\n      this.useBackdrop = true\n      this.currentWidth = null\n      this.animate = true\n\n      this.directions = ['left', 'right']\n\n      const sm = { name: 'sm', media: window.matchMedia('(min-width: 1px)') }\n      const md = { name: 'md', media: window.matchMedia('(min-width: 768px)') }\n      const lg = { name: 'lg', media: window.matchMedia('(min-width: 992px)') }\n      const xl = { name: 'xl', media: window.matchMedia('(min-width: 1200px)') }\n\n      this.sizes = [sm, md, lg, xl].reverse()\n\n      this.checkDirection()\n      this.checkWidth()\n\n      window.addEventListener('resize', () => this.checkWidth(), false)\n    }\n\n    checkDirection() {\n      this.directions.every((direction) => {\n        if (this.options.element.classList.contains(`off-canvas-${direction}`)) {\n          this.direction = direction\n          return false\n        }\n        return true\n      })\n    }\n\n    checkWidth() {\n      if (!('matchMedia' in window)) {\n        return\n      }\n\n      this.sizes.every((size) => {\n        const match = size.media.media.match(/[a-z]?-width:\\s?([0-9]+)/)\n\n        if (match) {\n          if (size.media.matches) {\n            if (this.currentWidth !== size.name) {\n              this.setAside(size.name)\n            }\n            this.currentWidth = size.name\n            return false\n          }\n        }\n\n        return true\n      })\n    }\n\n    preventClosable() {\n      return super.preventClosable() || this.options.aside[this.currentWidth] === true\n    }\n\n    setAside(name) {\n      const content = document.body\n\n      if (this.options.aside[name] === true) {\n        if (!content.classList.contains(`off-canvas-aside-${this.direction}`)) {\n          content.classList.add(`off-canvas-aside-${this.direction}`)\n        }\n\n        this.useBackdrop = false\n\n        // avoid animation by setting animate to false\n        this.animate = false\n        this.show()\n        // remove previous backdrop\n        this.removeBackdrop()\n      } else {\n        if (content.classList.contains(`off-canvas-aside-${this.direction}`)) {\n          content.classList.remove(`off-canvas-aside-${this.direction}`)\n        }\n\n        this.hide()\n        this.useBackdrop = true\n        this.animate = true\n      }\n    }\n\n    onElementEvent(event) {\n      if (event.type === 'keyup' && event.keyCode !== 27 && event.keyCode !== 13) {\n        return\n      }\n\n      // hide the off-canvas\n      this.hide()\n    }\n\n    show() {\n      if (this.options.element.classList.contains('show')) {\n        return false\n      }\n\n      // add a timeout so that the CSS animation works\n      setTimeout(() => {\n        this.triggerEvent(Event.SHOW)\n\n        const onShown = () => {\n          this.triggerEvent(Event.SHOWN)\n\n          if (this.animate) {\n            this.options.element.removeEventListener(Event.TRANSITION_END, onShown)\n            this.options.element.classList.remove('animate')\n          }\n        }\n\n        if (this.useBackdrop) {\n          this.createBackdrop()\n        }\n\n\n        if (this.animate) {\n          this.options.element.addEventListener(Event.TRANSITION_END, onShown)\n          this.options.element.classList.add('animate')\n        } else {\n          // directly trigger the onShown\n          onShown()\n        }\n\n        this.options.element.classList.add('show')\n\n        // attach event\n        this.attachEvents()\n      }, 1)\n\n      return true\n    }\n\n    hide() {\n      if (!this.options.element.classList.contains('show')) {\n        return false\n      }\n\n      this.triggerEvent(Event.HIDE)\n\n      this.detachEvents()\n\n      if (this.animate) {\n        this.options.element.classList.add('animate')\n      }\n\n      this.options.element.classList.remove('show')\n\n      if (this.useBackdrop) {\n        const backdrop = this.getBackdrop()\n\n        const onHidden = () => {\n          if (this.animate) {\n            this.options.element.classList.remove('animate')\n          }\n\n          backdrop.removeEventListener(Event.TRANSITION_END, onHidden)\n          this.triggerEvent(Event.HIDDEN)\n          this.removeBackdrop()\n        }\n\n        backdrop.addEventListener(Event.TRANSITION_END, onHidden)\n        backdrop.classList.add('fadeout')\n      }\n\n      return true\n    }\n\n    createBackdrop() {\n      const backdrop = document.createElement('div')\n      backdrop.setAttribute('data-id', this.id)\n      backdrop.classList.add(BACKDROP_SELECTOR)\n\n      document.body.appendChild(backdrop)\n    }\n\n    getBackdrop() {\n      return document.querySelector(`.${BACKDROP_SELECTOR}[data-id=\"${this.id}\"]`)\n    }\n\n    removeBackdrop() {\n      const backdrop = this.getBackdrop()\n      if (backdrop) {\n        document.body.removeChild(backdrop)\n      }\n    }\n\n    attachEvents() {\n      const dismissButtons = this.options.element.querySelectorAll('[data-dismiss]')\n\n      if (dismissButtons) {\n        Array.from(dismissButtons).forEach(button => this.registerElement({ target: button, event: 'click' }))\n      }\n\n      if (this.useBackdrop) {\n        const backdrop = this.getBackdrop()\n        this.registerElement({ target: backdrop, event: Event.START })\n      }\n\n      this.registerElement({ target: document, event: 'keyup' })\n    }\n\n    detachEvents() {\n      const dismissButtons = this.options.element.querySelectorAll('[data-dismiss]')\n\n      if (dismissButtons) {\n        Array.from(dismissButtons).forEach(button => this.unregisterElement({ target: button, event: 'click' }))\n      }\n\n      if (this.useBackdrop) {\n        const backdrop = this.getBackdrop()\n        this.unregisterElement({ target: backdrop, event: Event.START })\n      }\n\n      this.unregisterElement({ target: document, event: 'keyup' })\n    }\n\n    static identifier() {\n      return NAME\n    }\n\n    static DOMInterface(options) {\n      return super.DOMInterface(OffCanvas, options)\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n  createJqueryPlugin($, NAME, OffCanvas);\n\n  /**\n   * ------------------------------------------------------------------------\n   * DOM Api implementation\n   * ------------------------------------------------------------------------\n   */\n  const components = []\n\n  const offCanvas = document.querySelectorAll(`.${NAME}`)\n  if (offCanvas) {\n    Array.from(offCanvas).forEach((element) => {\n      const config = getAttributesConfig(element, DEFAULT_PROPERTIES, DATA_ATTRS_PROPERTIES)\n      config.element = element\n\n      components.push({ element, offCanvas: new OffCanvas(config) })\n    })\n  }\n\n  document.addEventListener('click', (event) => {\n    const target = findTargetByAttr(event.target, 'data-toggle')\n    if (!target) {\n      return\n    }\n\n    const dataToggleAttr = target.getAttribute('data-toggle')\n    if (dataToggleAttr && dataToggleAttr === NAME) {\n      const id = target.getAttribute('data-target')\n      const element = document.querySelector(id)\n\n      const component = components.find(c => c.element === element)\n\n      if (!component) {\n        return\n      }\n\n      target.blur()\n\n      component.offCanvas.show()\n    }\n  })\n\n  return OffCanvas\n})(window.$ ? window.$ : null)\n\nexport default OffCanvas\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Component from '../component'\nimport Event from '../../common/events'\nimport { findTargetByClass } from '../../common/utils'\nimport { getAttributesConfig } from '../componentManager'\n\nconst Dropdown = (() => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'dropdown'\n  const VERSION = '2.0.0'\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    default: true,\n    search: false,\n  }\n  const DATA_ATTRS_PROPERTIES = [\n    'default',\n    'search',\n  ]\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Dropdown extends Component {\n\n    constructor(options = {}) {\n      super(NAME, VERSION, DEFAULT_PROPERTIES, options, DATA_ATTRS_PROPERTIES, false, false)\n\n      const selected = this.options.element.querySelector('[data-selected]')\n      const item = this.getItemData(selected)\n\n      this.setSelected(item.value, item.text, false)\n    }\n\n    setSelected(value = '', text = null, checkExists = true) {\n      if (!this.options.default) {\n        return false\n      }\n\n      let textDisplay = text\n      this.options.element.querySelector('.default-text').innerHTML = text\n      this.options.element.querySelector('input[type=\"hidden\"]').value = value\n\n      const items = this.options.element.querySelectorAll('.item') || []\n      let itemFound = false\n\n      Array.from(items).forEach((item) => {\n        if (item.classList.contains('selected')) {\n          item.classList.remove('selected')\n        }\n\n        const data = this.getItemData(item)\n\n        if (value === data.value) {\n          if (!item.classList.contains('selected')) {\n            item.classList.add('selected')\n          }\n\n          textDisplay = data.text\n          itemFound = true\n        }\n      })\n\n      if (checkExists && itemFound) {\n        this.options.element.querySelector('.default-text').innerHTML = textDisplay\n      } else if (checkExists && !itemFound) {\n        throw new Error(`${NAME}. The value \"${value}\" does not exist in the list of items.`)\n      }\n\n      return true\n    }\n\n    getSelected() {\n      return this.options.element.querySelector('input[type=\"hidden\"]').value\n    }\n\n    getItemData(item = null) {\n      let text = ''\n      let value = ''\n\n      if (item) {\n        text = item.getAttribute('data-text') || item.innerHTML\n\n        const selectedTextNode = item.querySelector('.text')\n        if (selectedTextNode) {\n          text = selectedTextNode.innerHTML\n        }\n\n        value = item.getAttribute('data-value') || ''\n      }\n\n      return { text, value }\n    }\n\n    onElementEvent(event) {\n      if (event.type === Event.START) {\n        const dropdown = findTargetByClass(event.target, 'dropdown')\n\n        /*\n         * hide the current dropdown only if the event concerns another dropdown\n         * hide also if the user clicks outside a dropdown\n         */\n        if (!dropdown || dropdown !== this.getElement()) {\n          this.hide()\n        }\n      } else if (event.type === 'click') {\n        const item = findTargetByClass(event.target, 'item')\n\n        if (item) {\n          if (item.classList.contains('disabled')) {\n            return\n          }\n\n          const itemInfo = this.getItemData(item)\n\n          if (this.getSelected() !== itemInfo.value) {\n            // the user selected another value, we dispatch the event\n            this.setSelected(itemInfo.value, itemInfo.text, false)\n            const detail = { item, text: itemInfo.text, value: itemInfo.value }\n            this.triggerEvent(Event.ITEM_SELECTED, detail)\n          }\n\n          this.hide()\n          return\n        }\n\n        // don't toggle the dropdown if the event concerns headers, dividers\n        const dropdownMenu = findTargetByClass(event.target, 'dropdown-menu')\n        if (dropdownMenu) {\n          return\n        }\n\n        this.toggle()\n      }\n    }\n\n    toggle() {\n      if (this.options.element.classList.contains('active')) {\n        return this.hide()\n      }\n\n      return this.show()\n    }\n\n    show() {\n      if (this.options.element.classList.contains('active')) {\n        return false\n      }\n\n      this.options.element.classList.add('active')\n\n      const dropdownMenu = this.options.element.querySelector('.dropdown-menu')\n\n      // scroll to top\n      dropdownMenu.scrollTop = 0\n\n      this.triggerEvent(Event.SHOW)\n      this.triggerEvent(Event.SHOWN)\n\n      this.registerElement({ target: dropdownMenu, event: 'click' })\n      this.registerElement({ target: document.body, event: Event.START })\n\n      return true\n    }\n\n    hide() {\n      if (!this.options.element.classList.contains('active')) {\n        return false\n      }\n\n      this.options.element.classList.remove('active')\n\n      this.triggerEvent(Event.HIDE)\n      this.triggerEvent(Event.HIDDEN)\n\n      this.unregisterElement({ target: this.options.element.querySelector('.dropdown-menu'), event: 'click' })\n      this.unregisterElement({ target: document.body, event: Event.START })\n\n      return true\n    }\n\n    static identifier() {\n      return NAME\n    }\n\n    static DOMInterface(options) {\n      return super.DOMInterface(Dropdown, options)\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * DOM Api implementation\n   * ------------------------------------------------------------------------\n   */\n  const components = []\n\n  const dropdowns = document.querySelectorAll(`.${NAME}`)\n  if (dropdowns) {\n    Array.from(dropdowns).forEach((element) => {\n      const config = getAttributesConfig(element, DEFAULT_PROPERTIES, DATA_ATTRS_PROPERTIES)\n      config.element = element\n\n      if (!config.search) {\n        components.push(new Dropdown(config))\n      }\n    })\n  }\n\n  document.addEventListener('click', (event) => {\n    const dropdownMenu = findTargetByClass(event.target, 'dropdown-menu')\n    if (dropdownMenu) {\n      return\n    }\n\n    const dropdown = findTargetByClass(event.target, 'dropdown')\n\n    if (dropdown) {\n      const dataToggleAttr = dropdown.getAttribute('data-toggle')\n      if (dataToggleAttr && dataToggleAttr === NAME && dropdown) {\n        const component = components.find(c => c.getElement() === dropdown)\n\n        if (!component) {\n          return\n        }\n\n        component.toggle()\n      }\n    }\n  })\n\n  return Dropdown\n})()\n\nexport default Dropdown\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Dropdown from './index'\nimport { findTargetByClass, createJqueryPlugin } from '../../common/utils'\nimport { getAttributesConfig } from '../componentManager'\n\nconst DropdownSearch = (($) => {\n\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = Dropdown.identifier()\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    default: true,\n    search: true,\n  }\n  const DATA_ATTRS_PROPERTIES = [\n    'default',\n    'search',\n  ]\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class DropdownSearch extends Dropdown {\n\n    constructor(options = {}) {\n      super(options)\n\n      this.filterItemsHandler = (event) => {\n        const search = event.target.value\n\n        if (search === '') {\n          this.showItems()\n          return\n        }\n\n\n        this.getItems().forEach((item) => {\n          const fn = typeof this.options.filterItem === 'function' ? this.options.filterItem : this.filterItem\n\n          if (fn(search, item)) {\n            item.element.style.display = 'block'\n          } else {\n            item.element.style.display = 'none'\n          }\n        })\n      }\n\n      this.getSearchInput().addEventListener('keyup', this.filterItemsHandler)\n    }\n\n    filterItem(search = '', item = {}) {\n      if (item.value.indexOf(search) > -1\n        || item.text.indexOf(search) > -1) {\n        return true\n      }\n\n      return false\n    }\n\n    getItems() {\n      let items = Array.from(this.options.element.querySelectorAll('.item') || [])\n      items = items.map((item) => {\n        const info = this.getItemData(item)\n        return { text: info.text, value: info.value, element: item }\n      })\n\n      return items\n    }\n\n    showItems() {\n      this.getItems().forEach((item) => {\n        const i = item\n        i.element.style.display = 'block'\n      })\n    }\n\n    getSearchInput() {\n      return this.options.element.querySelector('.dropdown-menu input')\n    }\n\n    hide() {\n      if (super.hide()) {\n        // reset the value\n        this.getSearchInput().value = ''\n        // show all items\n        this.showItems()\n      }\n    }\n\n    static DOMInterface(options) {\n      return new DropdownSearch(options)\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n  createJqueryPlugin($, NAME, DropdownSearch);\n\n  /**\n   * ------------------------------------------------------------------------\n   * DOM Api implementation\n   * ------------------------------------------------------------------------\n   */\n  const components = []\n  const dropdowns = document.querySelectorAll(`.${NAME}`)\n\n  if (dropdowns) {\n    Array.from(dropdowns).forEach((element) => {\n      const config = getAttributesConfig(element, DEFAULT_PROPERTIES, DATA_ATTRS_PROPERTIES)\n      config.element = element\n\n      if (config.search) {\n        // search\n        components.push(new DropdownSearch(config))\n      }\n    })\n  }\n\n  if (dropdowns) {\n    document.addEventListener('click', (event) => {\n      const dropdownMenu = findTargetByClass(event.target, 'dropdown-menu')\n      if (dropdownMenu) {\n        return\n      }\n\n      const dropdown = findTargetByClass(event.target, 'dropdown')\n\n      if (dropdown) {\n        const dataToggleAttr = dropdown.getAttribute('data-toggle')\n        if (dataToggleAttr && dataToggleAttr === NAME && dropdown) {\n          const component = components.find(c => c.getElement() === dropdown)\n\n          if (!component) {\n            return\n          }\n\n          component.toggle()\n        }\n      }\n    })\n  }\n\n  return DropdownSearch\n})(window.$ ? window.$ : null)\n\nexport default DropdownSearch\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport Pager from './hybrid-apps/pager/index'\nimport I18n from './hybrid-apps/i18n'\nimport Network from './common/network'\n\n// components\nimport Alert from './components/alert'\nimport Modal from './components/modal'\nimport ModalPrompt from './components/modal/prompt'\nimport ModalConfirm from './components/modal/confirm'\nimport ModalLoader from './components/modal/loader'\nimport Notification from './components/notification'\nimport Collapse from './components/collapse'\nimport Accordion from './components/accordion'\nimport Tab from './components/tab'\nimport Progress from './components/progress'\nimport Loader from './components/loader'\nimport OffCanvas from './components/off-canvas'\nimport Dropdown from './components/dropdown'\nimport DropdownSearch from './components/dropdown/search'\n\nconst api = {}\n\n/**\n * ------------------------------------------------------------------------\n * Pager\n * ------------------------------------------------------------------------\n */\napi.pager = (options) => {\n  if (typeof api._pager === 'undefined') {\n    api._pager = Pager.DOMInterface(options)\n  }\n  return api._pager\n}\n\n/**\n * ------------------------------------------------------------------------\n * i18n\n * ------------------------------------------------------------------------\n */\napi.i18n = I18n.DOMInterface\n\n/**\n * ------------------------------------------------------------------------\n * Network\n * ------------------------------------------------------------------------\n */\napi.network = Network.DOMInterface\n\n/**\n * ------------------------------------------------------------------------\n * Notification\n * ------------------------------------------------------------------------\n */\napi.notification = Notification.DOMInterface\n\n/**\n * ------------------------------------------------------------------------\n * Modal\n * ------------------------------------------------------------------------\n */\n\n// generic\napi.modal = Modal.DOMInterface\n\n// prompt modal\napi.prompt = ModalPrompt.DOMInterface\n// confirm modal\napi.confirm = ModalConfirm.DOMInterface\n// loader modal\napi.modalLoader = ModalLoader.DOMInterface\n\n/**\n * ------------------------------------------------------------------------\n * Collapse\n * ------------------------------------------------------------------------\n */\napi.collapse = Collapse.DOMInterface\n\n/**\n * ------------------------------------------------------------------------\n * Collapse\n * ------------------------------------------------------------------------\n */\napi.alert = Alert.DOMInterface\n\n/**\n * ------------------------------------------------------------------------\n * Accordion\n * ------------------------------------------------------------------------\n */\napi.accordion = Accordion.DOMInterface\n\n\n/**\n * ------------------------------------------------------------------------\n * Tab\n * ------------------------------------------------------------------------\n */\napi.tab = Tab.DOMInterface\n\n/**\n * ------------------------------------------------------------------------\n * Progress\n * ------------------------------------------------------------------------\n */\napi.progress = Progress.DOMInterface\n\n/**\n * ------------------------------------------------------------------------\n * Loader\n * ------------------------------------------------------------------------\n */\napi.loader = Loader.DOMInterface\n\n/**\n * ------------------------------------------------------------------------\n * Off canvas\n * ------------------------------------------------------------------------\n */\napi.offCanvas = OffCanvas.DOMInterface\n\n/**\n * ------------------------------------------------------------------------\n * Dropdown\n * ------------------------------------------------------------------------\n */\napi.dropdown = (options) => {\n  if (options.search) {\n    // search dropdown\n    return DropdownSearch.DOMInterface(options)\n  }\n\n  // generic dropdown\n  return Dropdown.DOMInterface(options)\n}\n\n// Make the API live\nwindow.phonon = api\n\nexport default api\n"],"names":["dispatchWinDocEvent","eventName","moduleName","detail","fullEventName","window","dispatchEvent","CustomEvent","document","dispatchElementEvent","domElement","dispatchPageEvent","pageName","Page","NAME","VERSION","TEMPLATE_SELECTOR","constructor","name","events","templatePath","renderFunction","version","getEvents","getTemplate","template","getRenderFunction","renderTemplate","pageElement","querySelector","render","DOMPage","elements","Array","from","forEach","el","innerHTML","querySelectorAll","addEventCallback","callbackFn","push","setTemplate","Error","setPreventTransition","fn","preventTransitionFn","getPreventTransition","triggerScopes","eventParams","eventNameAlias","charAt","toUpperCase","slice","scope","scopeEvent","scopeEventAlias","apply","addEventListener","console","error","availableEvents","touchScreen","DocumentTouch","navigator","pointerEnabled","msPointerEnabled","createElement","transitions","start","end","animations","transitionStart","find","t","style","undefined","transitionEnd","animationStart","animationEnd","TOUCH_SCREEN","NETWORK_ONLINE","NETWORK_OFFLINE","NETWORK_RECONNECTING","NETWORK_RECONNECTING_SUCCESS","NETWORK_RECONNECTING_FAILURE","SHOW","SHOWN","HIDE","HIDDEN","HASH","START","MOVE","END","CANCEL","CLICK","TRANSITION_START","TRANSITION_END","ANIMATION_START","ANIMATION_END","ITEM_SELECTED","Pager","DEFAULT_PROPERTIES","hashPrefix","useHash","defaultPage","animatePages","currentPage","options","Object","assign","pages","started","addPagerEvents","onDOMLoaded","_","selector","getHash","location","hash","split","getPageFromHash","re","RegExp","matches","exec","setHash","params","isArray","join","isPageOf","pageName1","pageName2","page1","getPageModel","page2","event","onClick","onBackHistory","onHashChange","showPage","back","Event","oldPage","oldPageName","getAttribute","oldPageModel","preventFn","history","classList","remove","replaceState","page","triggerPageEvent","newPage","add","pageModel","previousPageName","onPageAnimationEnd","contains","removeEventListener","addUniquePageModel","getPagesModel","pageNames","filter","indexOf","selectorToArray","str","map","item","trim","addEvents","callback","cachePageSelector","pageModels","preventTransition","target","backNavigation","state","p","length","shift","navPage","nodeName","select","addPageModel","forceDefaultPage","cordova","DOMInterface","Binder","element","data","isElement","log","setNodes","setNode","Node","NodeList","setText","text","innerText","textContent","setHtml","setAttribute","attr","r","m","key","value","replace","i18nValue","methodName","I18n","fallbackLocale","locale","bind","setLocale","getLocale","getFallbackLocale","updateHtml","getLanguages","keys","insertValues","injectableValues","match","translate","keyName","inject","filteredData","dataMap","generateId","Math","random","toString","substr","findTargetByClass","parentClass","parentNode","findTargetByAttr","createJqueryPlugin","$","obj","mainFn","opts","Constructor","noConflict","first","second","setAttributesConfig","attrs","keyStart","getAttributesConfig","newObj","type","attrValue","isNaN","parseInt","stack","component","index","findIndex","c","is","splice","closable","Component","defaultOptions","optionAttrs","supportDynamicElement","addToStack","prop","id","checkElement","dynamicElement","registeredElements","assignJsConfig","getAttributes","setAttributes","elementListener","onBeforeElementEvent","attrConfig","jsConfig","config","getVersion","getElement","getId","registerElements","registerElement","unregisterElements","unregisterElement","registeredElementIndex","triggerEvent","objectEventOnly","ComponentManager","eventNameObject","reduce","acc","current","preventClosable","onElementEvent","identifier","ComponentClass","Network","initialDelay","delay","DATA_ATTRS_PROPERTIES","xhr","checkInterval","setStatus","setTimeout","startCheck","getStatus","status","startRequest","XMLHttpRequest","offline","url","Date","getTime","date","open","timeout","ontimeout","abort","onload","onUp","onerror","onDown","send","e","stopCheck","setInterval","clearInterval","Alert","fade","onTransition","show","getOpacity","onShow","getComputedStyle","opacity","parseFloat","hide","onHide","components","alerts","dataToggleAttr","alert","Modal","BACKDROP_SELECTOR","title","message","cancelable","cancelableKeyCodes","buttons","dismiss","class","build","builder","firstChild","removeTextBody","button","appendChild","buildButton","removeFooter","body","buttonInfo","buildBackdrop","backdrop","getBackdrop","removeChild","footer","center","computedStyle","height","top","innerHeight","attachEvents","onShown","k","keyCode","detachEvents","onHidden","modals","modal","blur","Prompt","attachInputEvent","detachInputEvent","getInput","setInputValue","getInputValue","Confirm","Loader","color","size","loaderSpinner","getSpinner","customSize","getClientSize","getBoundingClientRect","width","animate","startAnimation","spinner","Spinner","Notification","showButton","background","timeoutCallback","display","removeAttribute","buttonElement","activeNotifications","pushDistance","notification","offsetHeight","marginBottom","transform","Number","isInteger","clearTimeout","Collapse","toggle","getHeight","onCollapsed","collapses","Accordion","toggles","collapseId","collapse","addCollapse","setCollapses","getCollapse","getCollapses","showCollapse","collapseEl","collapseObj","accordions","accordion","accordionId","targetCollapse","Tab","TAB_CONTENT_SELECTOR","nav","navTabs","tab","tabContent","tabContents","onShowed","tabs","Progress","min","max","label","striped","progressBar","getProgressBar","set","progress","round","OffCanvas","aside","md","lg","xl","useBackdrop","currentWidth","directions","sm","media","matchMedia","sizes","reverse","checkDirection","checkWidth","every","direction","setAside","content","removeBackdrop","createBackdrop","dismissButtons","offCanvas","Dropdown","default","search","selected","getItemData","setSelected","checkExists","textDisplay","items","itemFound","getSelected","selectedTextNode","dropdown","itemInfo","dropdownMenu","scrollTop","dropdowns","DropdownSearch","filterItemsHandler","showItems","getItems","filterItem","getSearchInput","info","i","api","pager","_pager","i18n","network","prompt","ModalPrompt","confirm","ModalConfirm","modalLoader","ModalLoader","loader","phonon"],"mappings":";;;;;;;;;;;EAAO,SAASA,mBAAT,CAA6BC,SAA7B,EAAwCC,UAAxC,EAAoDC,MAAM,GAAG,EAA7D,EAAiE;EACtE,QAAMC,aAAa,GAAI,GAAEH,SAAU,OAAMC,UAAW,EAApD;EACAG,EAAAA,MAAM,CAACC,aAAP,CAAqB,IAAIC,WAAJ,CAAgBH,aAAhB,EAA+B;EAAED,IAAAA;EAAF,GAA/B,CAArB;EACAK,EAAAA,QAAQ,CAACF,aAAT,CAAuB,IAAIC,WAAJ,CAAgBH,aAAhB,EAA+B;EAAED,IAAAA;EAAF,GAA/B,CAAvB;EACD;AAED,EAAO,SAASM,oBAAT,CAA8BC,UAA9B,EAA0CT,SAA1C,EAAqDC,UAArD,EAAiEC,MAAM,GAAG,EAA1E,EAA8E;EACnF,QAAMC,aAAa,GAAI,GAAEH,SAAU,OAAMC,UAAW,EAApD;EACAQ,EAAAA,UAAU,CAACJ,aAAX,CAAyB,IAAIC,WAAJ,CAAgBH,aAAhB,EAA+B;EAAED,IAAAA;EAAF,GAA/B,CAAzB;EACD;AAED,EAAO,SAASQ,iBAAT,CAA2BV,SAA3B,EAAsCW,QAAtC,EAAgDT,MAAM,GAAG,EAAzD,EAA6D;EAClE,QAAMC,aAAa,GAAI,GAAEQ,QAAS,IAAGX,SAAU,EAA/C;EACAI,EAAAA,MAAM,CAACC,aAAP,CAAqB,IAAIC,WAAJ,CAAgBH,aAAhB,EAA+B;EAAED,IAAAA;EAAF,GAA/B,CAArB;EACAK,EAAAA,QAAQ,CAACF,aAAT,CAAuB,IAAIC,WAAJ,CAAgBH,aAAhB,EAA+B;EAAED,IAAAA;EAAF,GAA/B,CAAvB;EACD;;ECfD;;;;;AAMA;EAEA,MAAMU,IAAI,GAAG,CAAC,MAAM;EAClB;;;;;EAMA,QAAMC,IAAI,GAAG,MAAb;EACA,QAAMC,OAAO,GAAG,OAAhB;EAEA,QAAMC,iBAAiB,GAAG,iBAA1B;EAEA;;;;;;EAMA,QAAMH,IAAN,CAAW;EACT;;;;EAIAI,IAAAA,WAAW,CAACL,QAAD,EAAW;EACpB,WAAKM,IAAL,GAAYN,QAAZ;EACA,WAAKO,MAAL,GAAc,EAAd;EACA,WAAKC,YAAL,GAAoB,IAApB;EACA,WAAKC,cAAL,GAAsB,IAAtB;EACD,KAVQ;;;EAcT,eAAWC,OAAX,GAAqB;EACnB,aAAQ,GAAER,IAAK,IAAGC,OAAQ,EAA1B;EACD;EAED;;;;;;EAIAQ,IAAAA,SAAS,GAAG;EACV,aAAO,KAAKJ,MAAZ;EACD;EAED;;;;;;EAIAK,IAAAA,WAAW,GAAG;EACZ,aAAO,KAAKC,QAAZ;EACD;EAED;;;;;;EAIAC,IAAAA,iBAAiB,GAAG;EAClB,aAAO,KAAKL,cAAZ;EACD;;EAED,UAAMM,cAAN,GAAuB;EACrB,YAAMC,WAAW,GAAGpB,QAAQ,CAACqB,aAAT,CAAwB,eAAc,KAAKX,IAAK,IAAhD,CAApB;;EAEA,UAAIY,MAAM,GAAG,sBAAgBC,OAAhB,EAAyBN,QAAzB,EAAmCO,QAAnC,EAA6C;EACxD,YAAIA,QAAJ,EAAc;EACZC,UAAAA,KAAK,CAACC,IAAN,CAAWF,QAAX,EAAqBG,OAArB,CAA8BC,EAAD,IAAQ;EACnCA,YAAAA,EAAE,CAACC,SAAH,GAAeZ,QAAf;EACD,WAFD;EAGD,SAJD,MAIO;EACLM,UAAAA,OAAO,CAACM,SAAR,GAAoBZ,QAApB;EACD;EACF,OARD;;EAUA,UAAI,KAAKC,iBAAL,EAAJ,EAA8B;EAC5BI,QAAAA,MAAM,GAAG,KAAKJ,iBAAL,EAAT;EACD;;EAED,YAAMI,MAAM,CAACF,WAAD,EAAc,KAAKJ,WAAL,EAAd,EAAkCS,KAAK,CAACC,IAAN,CAAWN,WAAW,CAACU,gBAAZ,CAA6BtB,iBAA7B,KAAmD,EAA9D,CAAlC,CAAZ;EACD,KA5DQ;;EAgET;;;;;;EAIAuB,IAAAA,gBAAgB,CAACC,UAAD,EAAa;EAC3B,WAAKrB,MAAL,CAAYsB,IAAZ,CAAiBD,UAAjB;EACD;EAED;;;;;;;;EAMAE,IAAAA,WAAW,CAACjB,QAAQ,GAAG,IAAZ,EAAkBJ,cAAc,GAAG,IAAnC,EAAyC;EAClD,UAAI,OAAOI,QAAP,KAAoB,QAAxB,EAAkC;EAChC,cAAM,IAAIkB,KAAJ,CAAU,yCAAyC,OAAOlB,QAAhD,GAA2D,WAArE,CAAN;EACD;;EAED,WAAKA,QAAL,GAAgBA,QAAhB;;EAEA,UAAI,OAAOJ,cAAP,KAA0B,UAA9B,EAA0C;EACxC,aAAKA,cAAL,GAAsBA,cAAtB;EACD;EACF;EAED;;;;;;;EAKAuB,IAAAA,oBAAoB,CAACC,EAAD,EAAK;EACvB,UAAI,OAAOA,EAAP,KAAc,UAAlB,EAA8B;EAC5B,cAAM,IAAIF,KAAJ,CAAW,GAAE7B,IAAK,+CAAlB,CAAN;EACD;;EACD,WAAKgC,mBAAL,GAA2BD,EAA3B;EACD;;EAEDE,IAAAA,oBAAoB,GAAG;EACrB,aAAO,KAAKD,mBAAZ;EACD;EAED;;;;;;;EAKAE,IAAAA,aAAa,CAAC/C,SAAD,EAAYgD,WAAW,GAAG,EAA1B,EAA8B;EACzC,YAAMC,cAAc,GAAI,KAAIjD,SAAS,CAACkD,MAAV,CAAiB,CAAjB,EAAoBC,WAApB,EAAkC,GAAEnD,SAAS,CAACoD,KAAV,CAAgB,CAAhB,CAAmB,EAAnF;EAEA,WAAKlC,MAAL,CAAYgB,OAAZ,CAAqBmB,KAAD,IAAW;EAC7B,cAAMC,UAAU,GAAGD,KAAK,CAACrD,SAAD,CAAxB;EACA,cAAMuD,eAAe,GAAGF,KAAK,CAACJ,cAAD,CAA7B;;EACA,YAAI,OAAOK,UAAP,KAAsB,UAA1B,EAAsC;EACpCA,UAAAA,UAAU,CAACE,KAAX,CAAiB,IAAjB,EAAuBR,WAAvB;EACD,SAL4B;;;EAQ7B,YAAI,OAAOO,eAAP,KAA2B,UAA/B,EAA2C;EACzCA,UAAAA,eAAe,CAACC,KAAhB,CAAsB,IAAtB,EAA4BR,WAA5B;EACD;EACF,OAXD;EAaAtC,MAAAA,iBAAiB,CAACV,SAAD,EAAY,KAAKiB,IAAjB,EAAuB+B,WAAvB,CAAjB;EACD;;EAhIQ;;EAmIX,SAAOpC,IAAP;EACD,CAtJY,GAAb;;ECRA;EACA,IAAI,OAAOR,MAAP,KAAkB,WAAtB,EAAmC;EACjCA,EAAAA,MAAM,CAACqD,gBAAP,CAAwB,OAAxB,EAAiC,MAAM;EACrCC,IAAAA,OAAO,CAACC,KAAR,CAAc,uGAAd;EACD,GAFD;EAGD;;;EAGD,IAAIC,eAAe,GAAG,CAAC,WAAD,EAAc,WAAd,EAA2B,SAA3B,CAAtB;EACA,IAAIC,WAAW,GAAG,KAAlB;;EAEA,IAAI,OAAOzD,MAAP,KAAkB,WAAtB,EAAmC;EACjC,MAAK,kBAAkBA,MAAnB,IAA8BA,MAAM,CAAC0D,aAAP,IAAwBvD,QAAQ,YAAYuD,aAA9E,EAA6F;EAC3FD,IAAAA,WAAW,GAAG,IAAd;EACAD,IAAAA,eAAe,GAAG,CAAC,YAAD,EAAe,WAAf,EAA4B,UAA5B,EAAwC,aAAxC,CAAlB;EACD;;EAED,MAAIxD,MAAM,CAAC2D,SAAP,CAAiBC,cAArB,EAAqC;EACnCJ,IAAAA,eAAe,GAAG,CAAC,aAAD,EAAgB,aAAhB,EAA+B,WAA/B,EAA4C,eAA5C,CAAlB;EACD,GAFD,MAEO,IAAIxD,MAAM,CAAC2D,SAAP,CAAiBE,gBAArB,EAAuC;EAC5CL,IAAAA,eAAe,GAAG,CAAC,eAAD,EAAkB,eAAlB,EAAmC,aAAnC,EAAkD,iBAAlD,CAAlB;EACD;EACF;;EAED,MAAMzB,EAAE,GAAG5B,QAAQ,CAAC2D,aAAT,CAAuB,KAAvB,CAAX;EACA,MAAMC,WAAW,GAAG,CAClB;EAAElD,EAAAA,IAAI,EAAE,YAAR;EAAsBmD,EAAAA,KAAK,EAAE,iBAA7B;EAAgDC,EAAAA,GAAG,EAAE;EAArD,CADkB,EAElB;EAAEpD,EAAAA,IAAI,EAAE,eAAR;EAAyBmD,EAAAA,KAAK,EAAE,iBAAhC;EAAmDC,EAAAA,GAAG,EAAE;EAAxD,CAFkB,EAGlB;EAAEpD,EAAAA,IAAI,EAAE,cAAR;EAAwBmD,EAAAA,KAAK,EAAE,mBAA/B;EAAoDC,EAAAA,GAAG,EAAE;EAAzD,CAHkB,EAIlB;EAAEpD,EAAAA,IAAI,EAAE,kBAAR;EAA4BmD,EAAAA,KAAK,EAAE,uBAAnC;EAA4DC,EAAAA,GAAG,EAAE;EAAjE,CAJkB,CAApB;EAMA,MAAMC,UAAU,GAAG,CACjB;EAAErD,EAAAA,IAAI,EAAE,WAAR;EAAqBmD,EAAAA,KAAK,EAAE,gBAA5B;EAA8CC,EAAAA,GAAG,EAAE;EAAnD,CADiB,EAEjB;EAAEpD,EAAAA,IAAI,EAAE,cAAR;EAAwBmD,EAAAA,KAAK,EAAE,gBAA/B;EAAiDC,EAAAA,GAAG,EAAE;EAAtD,CAFiB,EAGjB;EAAEpD,EAAAA,IAAI,EAAE,aAAR;EAAuBmD,EAAAA,KAAK,EAAE,kBAA9B;EAAkDC,EAAAA,GAAG,EAAE;EAAvD,CAHiB,EAIjB;EAAEpD,EAAAA,IAAI,EAAE,iBAAR;EAA2BmD,EAAAA,KAAK,EAAE,sBAAlC;EAA0DC,EAAAA,GAAG,EAAE;EAA/D,CAJiB,CAAnB;EAOA,MAAME,eAAe,GAAGJ,WAAW,CAACK,IAAZ,CAAiBC,CAAC,IAAItC,EAAE,CAACuC,KAAH,CAASD,CAAC,CAACxD,IAAX,MAAqB0D,SAA3C,EAAsDP,KAA9E;EACA,MAAMQ,aAAa,GAAGT,WAAW,CAACK,IAAZ,CAAiBC,CAAC,IAAItC,EAAE,CAACuC,KAAH,CAASD,CAAC,CAACxD,IAAX,MAAqB0D,SAA3C,EAAsDN,GAA5E;EACA,MAAMQ,cAAc,GAAGP,UAAU,CAACE,IAAX,CAAgBC,CAAC,IAAItC,EAAE,CAACuC,KAAH,CAASD,CAAC,CAACxD,IAAX,MAAqB0D,SAA1C,EAAqDP,KAA5E;EACA,MAAMU,YAAY,GAAGR,UAAU,CAACE,IAAX,CAAgBC,CAAC,IAAItC,EAAE,CAACuC,KAAH,CAASD,CAAC,CAACxD,IAAX,MAAqB0D,SAA1C,EAAqDN,GAA1E;AAEA,cAAe;EACb;EACAU,EAAAA,YAAY,EAAElB,WAFD;EAIb;EACAmB,EAAAA,cAAc,EAAE,QALH;EAMbC,EAAAA,eAAe,EAAE,SANJ;EAObC,EAAAA,oBAAoB,EAAE,cAPT;EAQbC,EAAAA,4BAA4B,EAAE,mBARjB;EASbC,EAAAA,4BAA4B,EAAE,mBATjB;EAWb;EACAC,EAAAA,IAAI,EAAE,MAZO;EAabC,EAAAA,KAAK,EAAE,OAbM;EAcbC,EAAAA,IAAI,EAAE,MAdO;EAebC,EAAAA,MAAM,EAAE,QAfK;EAiBb;EACAC,EAAAA,IAAI,EAAE,MAlBO;EAoBb;EACAC,EAAAA,KAAK,EAAE9B,eAAe,CAAC,CAAD,CArBT;EAsBb+B,EAAAA,IAAI,EAAE/B,eAAe,CAAC,CAAD,CAtBR;EAuBbgC,EAAAA,GAAG,EAAEhC,eAAe,CAAC,CAAD,CAvBP;EAwBbiC,EAAAA,MAAM,EAAE,OAAOjC,eAAe,CAAC,CAAD,CAAtB,KAA8B,WAA9B,GAA4C,IAA5C,GAAmDA,eAAe,CAAC,CAAD,CAxB7D;EA0Bb;EACAkC,EAAAA,KAAK,EAAE,OA3BM;EA6Bb;EACAC,EAAAA,gBAAgB,EAAExB,eA9BL;EA+BbyB,EAAAA,cAAc,EAAEpB,aA/BH;EAiCb;EACAqB,EAAAA,eAAe,EAAEpB,cAlCJ;EAmCbqB,EAAAA,aAAa,EAAEpB,YAnCF;EAqCb;EACAqB,EAAAA,aAAa,EAAE;EAtCF,CAAf;;EC3CA;;;;;AAMA;EAGA,MAAMC,KAAK,GAAG,CAAC,MAAM;EACnB;;;;;EAMA,QAAMvF,IAAI,GAAG,OAAb;EACA,QAAMC,OAAO,GAAG,OAAhB;EACA,QAAMuF,kBAAkB,GAAG;EACzBC,IAAAA,UAAU,EAAE,IADa;EAEzBC,IAAAA,OAAO,EAAE,IAFgB;EAGzBC,IAAAA,WAAW,EAAE,IAHY;EAIzBC,IAAAA,YAAY,EAAE;EAJW,GAA3B;EAOA,MAAIC,WAAJ;EACA;;;;;;EAMA,QAAMN,KAAN,CAAY;EACV;;;;;EAKApF,IAAAA,WAAW,CAAC2F,OAAO,GAAG,EAAX,EAAe;EACxB,WAAKA,OAAL,GAAeC,MAAM,CAACC,MAAP,CAAcR,kBAAd,EAAkCM,OAAlC,CAAf;EAEA,WAAKG,KAAL,GAAa,EAAb;EACA,WAAKC,OAAL,GAAe,KAAf,CAJwB;;EAOxB,WAAKC,cAAL,GAPwB;;EAUxB,WAAKC,WAAL;EACD,KAjBS;;;EAoBVC,IAAAA,CAAC,CAACC,QAAD,EAAW;EACV,aAAO5G,QAAQ,CAACqB,aAAT,CAAuBuF,QAAvB,CAAP;EACD;;EAEDC,IAAAA,OAAO,GAAG;EACR,aAAOhH,MAAM,CAACiH,QAAP,CAAgBC,IAAhB,CAAqBC,KAArB,CAA2B,KAAKZ,OAAL,CAAaL,UAAxC,EAAoD,CAApD,CAAP;EACD;;EAEDkB,IAAAA,eAAe,GAAG;EAChB,YAAMF,IAAI,GAAG,KAAKF,OAAL,EAAb;EACA,YAAMK,EAAE,GAAG,IAAIC,MAAJ,CAAW,eAAX,CAAX;EACA,YAAMC,OAAO,GAAGF,EAAE,CAACG,IAAH,CAAQN,IAAR,CAAhB;;EAEA,UAAIK,OAAO,IAAIA,OAAO,CAAC,CAAD,CAAtB,EAA2B;EACzB,eAAOA,OAAO,CAAC,CAAD,CAAd;EACD;;EAED,aAAO,IAAP;EACD;;EAEDE,IAAAA,OAAO,CAAClH,QAAD,EAAWmH,MAAM,GAAG,IAApB,EAA0B;EAC/B,YAAMR,IAAI,GAAI,GAAE,KAAKX,OAAL,CAAaL,UAAW,IAAG3F,QAAS,EAApD;EACAP,MAAAA,MAAM,CAACiH,QAAP,CAAgBC,IAAhB,GAAuBtF,KAAK,CAAC+F,OAAN,CAAcD,MAAd,IAAyB,GAAER,IAAK,IAAGQ,MAAM,CAACE,IAAP,CAAY,GAAZ,CAAiB,EAApD,GAAwDV,IAA/E;EACD;;EAEDW,IAAAA,QAAQ,CAACC,SAAD,EAAYC,SAAZ,EAAuB;EAC7B,YAAMC,KAAK,GAAG,KAAKC,YAAL,CAAkBH,SAAlB,CAAd;EACA,YAAMI,KAAK,GAAG,KAAKD,YAAL,CAAkBF,SAAlB,CAAd;EACA,aAAOC,KAAK,IAAIE,KAAT,IAAkBF,KAAK,CAACnH,IAAN,KAAeqH,KAAK,CAACrH,IAA9C;EACD;EAED;;;;;;EAIA+F,IAAAA,cAAc,GAAG;EACfzG,MAAAA,QAAQ,CAACkD,gBAAT,CAA0B,OAA1B,EAAmC8E,KAAK,IAAI,KAAKC,OAAL,CAAaD,KAAb,CAA5C;EACAnI,MAAAA,MAAM,CAACqD,gBAAP,CAAwB,UAAxB,EAAoC8E,KAAK,IAAI,KAAKE,aAAL,CAAmBF,KAAnB,CAA7C;EACAnI,MAAAA,MAAM,CAACqD,gBAAP,CAAwB,YAAxB,EAAsC8E,KAAK,IAAI,KAAKG,YAAL,CAAkBH,KAAlB,CAA/C;EACAhI,MAAAA,QAAQ,CAACkD,gBAAT,CAA0B,kBAA1B,EAA8C8E,KAAK,IAAI,KAAKtB,WAAL,CAAiBsB,KAAjB,CAAvD;EACD,KA5DS;;;EAgEV,eAAWlH,OAAX,GAAqB;EACnB,aAAQ,GAAER,IAAK,IAAGC,OAAQ,EAA1B;EACD,KAlES;;;EAsEV,UAAM6H,QAAN,CAAehI,QAAf,EAAyBmH,MAAM,GAAG,IAAlC,EAAwCc,IAAI,GAAG,KAA/C,EAAsD3G,IAAI,GAAG4G,KAAK,CAAC/C,KAAnE,EAA0E;EACxE;;;;;EAKA,UAAI,KAAKa,OAAL,CAAaJ,OAAb,IAAwB,KAAKiB,eAAL,OAA2B7G,QAAvD,EAAiE;EAC/D,aAAKkH,OAAL,CAAalH,QAAb,EAAuBmH,MAAvB;EACA;EACD;;EAED,YAAMgB,OAAO,GAAG,KAAK5B,CAAL,CAAO,UAAP,CAAhB;;EACA,UAAI6B,WAAW,GAAG,IAAlB;;EAEA,UAAID,OAAJ,EAAa;EACXC,QAAAA,WAAW,GAAGD,OAAO,CAACE,YAAR,CAAqB,WAArB,CAAd;EACA,cAAMC,YAAY,GAAG,KAAKZ,YAAL,CAAkBU,WAAlB,CAArB;EACA,cAAMG,SAAS,GAAGD,YAAY,CAACnG,oBAAb,EAAlB;;EAEA,YAAI,OAAOoG,SAAP,KAAqB,UAAzB,EAAqC;EACnC,cAAI,MAAMA,SAAS,CAACH,WAAD,EAAcpI,QAAd,EAAwBmH,MAAxB,CAAnB,EAAoD;EAClD,gBAAI7F,IAAI,KAAK4G,KAAK,CAACpD,IAAnB,EAAyB;EACvBrF,cAAAA,MAAM,CAAC+I,OAAP,CAAeP,IAAf;EACD;;EACD;EACD;EACF;;EAED,YAAI,KAAKX,QAAL,CAActH,QAAd,EAAwBoI,WAAxB,CAAJ,EAA0C;EACxC;EACD;;EAEDD,QAAAA,OAAO,CAACM,SAAR,CAAkBC,MAAlB,CAAyB,SAAzB,EAlBW;;EAqBXjJ,QAAAA,MAAM,CAAC+I,OAAP,CAAeG,YAAf,CAA4B;EAAEC,UAAAA,IAAI,EAAE5I;EAAR,SAA5B,EAAgDoI,WAAhD;EAEA,aAAKS,gBAAL,CAAsBT,WAAtB,EAAmCF,KAAK,CAACtD,IAAzC;EACD;;EAED,WAAKiE,gBAAL,CAAsB7I,QAAtB,EAAgCkI,KAAK,CAACxD,IAAtC;EAEAqB,MAAAA,WAAW,GAAG/F,QAAd,CA1CwE;;EA6CxE,YAAM8I,OAAO,GAAG,KAAKvC,CAAL,CAAQ,eAAcvG,QAAS,IAA/B,CAAhB;;EAEA8I,MAAAA,OAAO,CAACL,SAAR,CAAkBM,GAAlB,CAAsB,SAAtB,EA/CwE;;EAkDxE,YAAMC,SAAS,GAAG,KAAKtB,YAAL,CAAkB1H,QAAlB,CAAlB;;EAEA,UAAIgJ,SAAS,IAAIA,SAAS,CAACpI,WAAV,EAAjB,EAA0C;EACxC,cAAMoI,SAAS,CAACjI,cAAV,EAAN;EACD;;EAED,UAAIoH,OAAJ,EAAa;EACX;EACAA,QAAAA,OAAO,CAACF,IAAR,GAAeA,IAAf;EACAE,QAAAA,OAAO,CAACc,gBAAR,GAA2Bb,WAA3B;;EAEA,cAAMc,kBAAkB,GAAG,MAAM;EAC/B,cAAIf,OAAO,CAACM,SAAR,CAAkBU,QAAlB,CAA2B,SAA3B,CAAJ,EAA2C;EACzChB,YAAAA,OAAO,CAACM,SAAR,CAAkBC,MAAlB,CAAyB,SAAzB;EACD;;EAEDP,UAAAA,OAAO,CAACM,SAAR,CAAkBC,MAAlB,CAAyBP,OAAO,CAACF,IAAR,GAAe,UAAf,GAA4B,WAArD;EAEA,eAAKY,gBAAL,CAAsB9C,WAAtB,EAAmCmC,KAAK,CAACvD,KAAzC;EACA,eAAKkE,gBAAL,CAAsBV,OAAO,CAACc,gBAA9B,EAAgDf,KAAK,CAACrD,MAAtD;EAEAsD,UAAAA,OAAO,CAACiB,mBAAR,CAA4BlB,KAAK,CAAC3C,aAAlC,EAAiD2D,kBAAjD;EACD,SAXD;;EAaA,YAAI,KAAKlD,OAAL,CAAaF,YAAjB,EAA+B;EAC7BqC,UAAAA,OAAO,CAACrF,gBAAR,CAAyBoF,KAAK,CAAC3C,aAA/B,EAA8C2D,kBAA9C;EACAf,UAAAA,OAAO,CAACM,SAAR,CAAkBM,GAAlB,CAAsB,SAAtB;EACD,SAHD,MAGO;EACLG,UAAAA,kBAAkB;EACnB;;EAEDf,QAAAA,OAAO,CAACM,SAAR,CAAkBM,GAAlB,CAAsBd,IAAI,GAAG,UAAH,GAAgB,WAA1C;EACD;EACF;;EAEDoB,IAAAA,kBAAkB,CAACrJ,QAAD,EAAW;EAC3B,UAAI,CAAC,KAAK0H,YAAL,CAAkB1H,QAAlB,CAAL,EAAkC;EAChC,aAAKmG,KAAL,CAAWtE,IAAX,CAAgB,IAAI5B,IAAJ,CAASD,QAAT,CAAhB;EACD;EACF;;EAED0H,IAAAA,YAAY,CAAC1H,QAAD,EAAW;EACrB,aAAO,KAAKmG,KAAL,CAAWtC,IAAX,CAAgB+E,IAAI,IAAIA,IAAI,CAACtI,IAAL,KAAcN,QAAtC,CAAP;EACD;;EAEDsJ,IAAAA,aAAa,CAACC,SAAD,EAAY;EACvB,aAAO,KAAKpD,KAAL,CAAWqD,MAAX,CAAkBZ,IAAI,IAAIW,SAAS,CAACE,OAAV,CAAkBb,IAAI,CAACtI,IAAvB,IAA+B,CAAC,CAA1D,CAAP;EACD;;EAEDoJ,IAAAA,eAAe,CAACC,GAAD,EAAM;EACnB,aAAOA,GAAG,CAAC/C,KAAJ,CAAU,GAAV,EAAegD,GAAf,CAAmBC,IAAI,IAAIA,IAAI,CAACC,IAAL,EAA3B,CAAP;EACD;;EAEDC,IAAAA,SAAS,CAACC,QAAD,EAAW;EAClB,UAAI,KAAKC,iBAAL,KAA2B,GAA/B,EAAoC;EAClC;EACA,aAAK9D,KAAL,CAAW5E,OAAX,CAAoBqH,IAAD,IAAU;EAC3BA,UAAAA,IAAI,CAACjH,gBAAL,CAAsBqI,QAAtB;EACD,SAFD;EAGA;EACD;;EAED,YAAME,UAAU,GAAG,KAAKZ,aAAL,CAAmB,KAAKI,eAAL,CAAqB,KAAKO,iBAA1B,CAAnB,EAAiE,IAAjE,CAAnB;EACAC,MAAAA,UAAU,CAAC3I,OAAX,CAAoBqH,IAAD,IAAU;EAC3BA,QAAAA,IAAI,CAACjH,gBAAL,CAAsBqI,QAAtB;EACD,OAFD;EAGA,WAAKC,iBAAL,GAAyB,IAAzB;EACD;;EAEDE,IAAAA,iBAAiB,CAAC5B,SAAD,EAAY;EAC3B,UAAI,KAAK0B,iBAAL,KAA2B,GAA/B,EAAoC;EAClC,aAAK9D,KAAL,CAAW5E,OAAX,CAAoBqH,IAAD,IAAU;EAC3BA,UAAAA,IAAI,CAAC5G,oBAAL,CAA0BuG,SAA1B;EACD,SAFD;EAGA;EACD;;EAED,YAAM2B,UAAU,GAAG,KAAKZ,aAAL,CAAmB,KAAKI,eAAL,CAAqB,KAAKO,iBAA1B,CAAnB,EAAiE,IAAjE,CAAnB;EACAC,MAAAA,UAAU,CAAC3I,OAAX,CAAoBqH,IAAD,IAAU;EAC3BA,QAAAA,IAAI,CAAC5G,oBAAL,CAA0BuG,SAA1B;EACD,OAFD;EAIA,WAAK0B,iBAAL,GAAyB,IAAzB;EACD;;EAEDnI,IAAAA,WAAW,CAACtB,YAAD,EAAeC,cAAc,GAAG,IAAhC,EAAsC;EAC/C,YAAMyJ,UAAU,GAAG,KAAKZ,aAAL,CAAmB,KAAKI,eAAL,CAAqB,KAAKO,iBAA1B,CAAnB,EAAiE,IAAjE,CAAnB;EACAC,MAAAA,UAAU,CAAC3I,OAAX,CAAoBqH,IAAD,IAAU;EAC3BA,QAAAA,IAAI,CAAC9G,WAAL,CAAiBtB,YAAjB,EAA+BC,cAA/B;EACD,OAFD;EAGA,WAAKwJ,iBAAL,GAAyB,IAAzB;EACD;;EAEDpB,IAAAA,gBAAgB,CAAC7I,QAAD,EAAWX,SAAX,EAAsBgD,WAAW,GAAG,IAApC,EAA0C;EACxD,YAAM2G,SAAS,GAAG,KAAKtB,YAAL,CAAkB1H,QAAlB,CAAlB;;EACA,UAAIgJ,SAAJ,EAAe;EACbA,QAAAA,SAAS,CAAC5G,aAAV,CAAwB/C,SAAxB,EAAmCgD,WAAnC;EACD;EACF;;EAEDwF,IAAAA,OAAO,CAACD,KAAD,EAAQ;EACb,YAAM5H,QAAQ,GAAG4H,KAAK,CAACwC,MAAN,CAAa/B,YAAb,CAA0B,eAA1B,CAAjB;EACA,YAAMgC,cAAc,GAAGzC,KAAK,CAACwC,MAAN,CAAa/B,YAAb,CAA0B,eAA1B,MAA+C,MAAtE;;EAEA,UAAIrI,QAAJ,EAAc;EACZ,YAAIA,QAAQ,KAAK,OAAjB,EAA0B;EACxB;EACAP,UAAAA,MAAM,CAAC+I,OAAP,CAAeP,IAAf;EACA;EACD;;EAED,aAAKD,QAAL,CAAchI,QAAd,EAAwB,IAAxB,EAA8BqK,cAA9B;EACD;EACF;;EAEDvC,IAAAA,aAAa,CAACF,KAAK,GAAG,EAAT,EAAa;EACxB,YAAM5H,QAAQ,GAAG4H,KAAK,CAAC0C,KAAN,GAAc1C,KAAK,CAAC0C,KAAN,CAAY1B,IAA1B,GAAiC,IAAlD;;EACA,UAAI,CAAC5I,QAAL,EAAe;EACb;EACD;;EAED,WAAKgI,QAAL,CAAchI,QAAd,EAAwB,IAAxB,EAA8B,IAA9B;EACD;;EAED+H,IAAAA,YAAY,GAAG;EACb,YAAMZ,MAAM,GAAG,CAAC,KAAKV,OAAL,KAAiB,KAAKA,OAAL,GAAeG,KAAf,CAAqB,GAArB,CAAjB,GAA6C,EAA9C,EAAkD4C,MAAlD,CAAyDe,CAAC,IAAIA,CAAC,CAACC,MAAF,GAAW,CAAzE,CAAf;;EACA,UAAIrD,MAAM,CAACqD,MAAP,GAAgB,CAApB,EAAuB;EACrB;EACArD,QAAAA,MAAM,CAACsD,KAAP;EACD;;EAED,WAAK5B,gBAAL,CAAsB9C,WAAtB,EAAmCmC,KAAK,CAACpD,IAAzC,EAA+CqC,MAA/C;EAEA,YAAMuD,OAAO,GAAG,KAAK7D,eAAL,EAAhB;;EACA,UAAI6D,OAAJ,EAAa;EACX,aAAK1C,QAAL,CAAc0C,OAAd,EAAuB,IAAvB,EAA6B,KAA7B,EAAoCvD,MAApC,EAA4Ce,KAAK,CAACpD,IAAlD;EACD;EACF;EAED;;;;;EAGAwB,IAAAA,WAAW,GAAG;EACZ,YAAMH,KAAK,GAAGvG,QAAQ,CAAC8B,gBAAT,CAA0B,aAA1B,CAAd;;EAEA,UAAI,CAACyE,KAAL,EAAY;EACV;EACD;;EAEDA,MAAAA,KAAK,CAAC5E,OAAN,CAAeqH,IAAD,IAAU;EACtB;;;;EAIA,cAAM5I,QAAQ,GAAG4I,IAAI,CAACP,YAAL,CAAkB,WAAlB,KAAkCO,IAAI,CAAC+B,QAAxD;EAEA,aAAKtB,kBAAL,CAAwBrJ,QAAxB;EACD,OARD;EASD;;EAED4K,IAAAA,MAAM,CAAC5K,QAAD,EAAW6K,YAAY,GAAG,IAA1B,EAAgC;EACpC,WAAKZ,iBAAL,GAAyBjK,QAAzB;;EAEA,UAAI6K,YAAY,IAAI7K,QAAQ,KAAK,GAAjC,EAAsC;EACpC,aAAKqJ,kBAAL,CAAwBrJ,QAAxB;EACD;;EAED,aAAO,IAAP;EACD;;EAEDyD,IAAAA,KAAK,CAACqH,gBAAgB,GAAG,KAApB,EAA2B;EAC9B;EACA,UAAI,KAAK1E,OAAT,EAAkB;EAChB,cAAM,IAAIrE,KAAJ,CAAW,GAAE7B,IAAK,qCAAlB,CAAN;EACD;;EAED,WAAKkG,OAAL,GAAe,IAAf,CAN8B;;EAS9B,UAAI3G,MAAM,CAACsL,OAAX,EAAoB;EAClBD,QAAAA,gBAAgB,GAAG,IAAnB;EACD;;EAED,UAAI9K,QAAQ,GAAG,KAAK6G,eAAL,EAAf;;EAEA,UAAI,CAAC,KAAKa,YAAL,CAAkB1H,QAAlB,CAAL,EAAkC;EAChCA,QAAAA,QAAQ,GAAG,KAAKgG,OAAL,CAAaH,WAAxB;EACD;;EAED,UAAIiF,gBAAgB,IAAI,CAAC,KAAK9E,OAAL,CAAaH,WAAtC,EAAmD;EACjD,cAAM,IAAI9D,KAAJ,CAAW,GAAE7B,IAAK,uDAAlB,CAAN;EACD;EAED;;;;;;EAIA,UAAI,KAAK8F,OAAL,CAAaJ,OAAjB,EAA0B;EACxB,aAAKsB,OAAL,CAAalH,QAAb,EAAuB,IAAvB;EACD;;EAED,WAAKgI,QAAL,CAAc8C,gBAAgB,GAAG,KAAK9E,OAAL,CAAaH,WAAhB,GAA8B7F,QAA5D;EACD,KAlUS;;;EAqUV,WAAOgL,YAAP,CAAoBhF,OAApB,EAA6B;EAC3B,aAAO,IAAIP,KAAJ,CAAUO,OAAV,CAAP;EACD;;EAvUS;;EA0UZ,SAAOP,KAAP;EACD,CAlWa,GAAd;;ECTA;;;;;EAMA,MAAMwF,MAAM,GAAG,CAAC,MAAM;EACpB;;;;;EAMA,QAAM/K,IAAI,GAAG,aAAb;EACA,QAAMC,OAAO,GAAG,OAAhB;EAEA;;;;;;EAMA,QAAM8K,MAAN,CAAa;EAEX;;;;EAIA5K,IAAAA,WAAW,CAAC6K,OAAD,EAAUC,IAAV,EAAgB;EACzB,WAAKD,OAAL,GAAeA,OAAf;EACA,WAAKC,IAAL,GAAYA,IAAZ;;EAEA,UAAI,CAAC,KAAKC,SAAL,CAAe,KAAKF,OAApB,CAAL,EAAmC;EACjCnI,QAAAA,OAAO,CAACsI,GAAR,CAAY,gCAAZ;EACA;EACD,OAPwB;;;EAUzB,UAAI,KAAKH,OAAL,CAAaV,MAAb,IAAuB,KAAKU,OAAL,CAAaV,MAAb,GAAsB,CAAjD,EAAoD;EAClD,aAAKc,QAAL,CAAc,KAAKJ,OAAnB;EACD,OAFD,MAEO;EACL;EACA,aAAKK,OAAL,CAAa,KAAKL,OAAlB;EACD;EACF,KAtBU;;;EA0BX,eAAWxK,OAAX,GAAqB;EACnB,aAAQ,GAAER,IAAK,IAAGC,OAAQ,EAA1B;EACD;EAED;;;;;;;EAKAiL,IAAAA,SAAS,CAACF,OAAD,EAAU;EACjB,UAAIA,OAAO,KAAK,IAAhB,EAAsB;EACpB,eAAO,KAAP;EACD;;EAED,aAAOA,OAAO,YAAYM,IAAnB,IAA2BN,OAAO,YAAYO,QAArD;EACD;EAED;;;;;;;EAKAC,IAAAA,OAAO,CAACR,OAAD,EAAUS,IAAV,EAAgB;EACrB,UAAI,EAAE,iBAAiBT,OAAnB,CAAJ,EAAiC;EAC/BA,QAAAA,OAAO,CAACU,SAAR,GAAoBD,IAApB;EACD,OAFD,MAEO;EACLT,QAAAA,OAAO,CAACW,WAAR,GAAsBF,IAAtB;EACD;EACF;EAED;;;;;;;EAKAG,IAAAA,OAAO,CAACZ,OAAD,EAAUS,IAAV,EAAgB;EACrBT,MAAAA,OAAO,CAACzJ,SAAR,GAAoBkK,IAApB;EACD;EAED;;;;;;;;EAMAI,IAAAA,YAAY,CAACb,OAAD,EAAUc,IAAV,EAAgBL,IAAhB,EAAsB;EAChCT,MAAAA,OAAO,CAACa,YAAR,CAAqBC,IAArB,EAA2BL,IAA3B;EACD;EAED;;;;;;EAIAJ,IAAAA,OAAO,CAACL,OAAD,EAAU;EACf,UAAIc,IAAI,GAAGd,OAAO,CAAC7C,YAAR,CAAqB,QAArB,CAAX;;EACA,UAAI,CAAC2D,IAAL,EAAW;EACT;EACD;;EAEDA,MAAAA,IAAI,GAAGA,IAAI,CAAClC,IAAL,EAAP;EAEA,YAAMmC,CAAC,GAAG,iDAAV;EACA,UAAIC,CAAJ;;EAEA,aAAOA,CAAC,GAAGD,CAAC,CAAChF,IAAF,CAAO+E,IAAP,CAAX,EAAyB;EACvB,cAAMG,GAAG,GAAGD,CAAC,CAAC,CAAD,CAAD,CAAKpC,IAAL,EAAZ;EACA,cAAMsC,KAAK,GAAGF,CAAC,CAAC,CAAD,CAAD,CAAKpC,IAAL,GAAYuC,OAAZ,CAAoB,GAApB,EAAyB,EAAzB,CAAd;EACA,YAAIC,SAAS,GAAG,KAAKnB,IAAL,CAAUiB,KAAV,CAAhB;;EAEA,YAAI,CAAC,KAAKjB,IAAL,CAAUiB,KAAV,CAAL,EAAuB;EACrBrJ,UAAAA,OAAO,CAACsI,GAAR,CAAa,GAAEnL,IAAK,cAAakM,KAAM,kBAAvC;EACAE,UAAAA,SAAS,GAAGF,KAAZ;EACD;;EAED,cAAMG,UAAU,GAAG,QAAQJ,GAAG,CAAC5J,MAAJ,CAAW,CAAX,EAAcC,WAAd,EAAR,GAAsC2J,GAAG,CAAC1J,KAAJ,CAAU,CAAV,CAAzD;;EAEA,YAAI,KAAK8J,UAAL,CAAJ,EAAsB;EACpB,eAAKA,UAAL,EAAiBrB,OAAjB,EAA0BoB,SAA1B;EACD,SAFD,MAEO;EACL,eAAKP,YAAL,CAAkBb,OAAlB,EAA2BiB,GAA3B,EAAgCG,SAAhC;EACD;EACF;EACF;EAED;;;;;;EAIAhB,IAAAA,QAAQ,CAACJ,OAAD,EAAU;EAChB7J,MAAAA,KAAK,CAACC,IAAN,CAAW4J,OAAX,EAAoB3J,OAApB,CAA4BC,EAAE,IAAI,KAAK+J,OAAL,CAAa/J,EAAb,CAAlC;EACD;;EApHU;;EAuHb,SAAOyJ,MAAP;EACD,CAxIc,GAAf;;ECNA;;;;;AAKA;EAEA,MAAMuB,IAAI,GAAG,CAAC,MAAM;EAClB;;;;;EAMA,QAAMtM,IAAI,GAAG,MAAb;EACA,QAAMC,OAAO,GAAG,OAAhB;EACA,QAAMuF,kBAAkB,GAAG;EACzB+G,IAAAA,cAAc,EAAE,IADS;EAEzBC,IAAAA,MAAM,EAAE,IAFiB;EAGzBC,IAAAA,IAAI,EAAE,KAHmB;EAIzBxB,IAAAA,IAAI,EAAE;EAGR;;;;;;EAP2B,GAA3B;;EAaA,QAAMqB,IAAN,CAAW;EACT;;;;EAIAnM,IAAAA,WAAW,CAAC2F,OAAO,GAAG,EAAX,EAAe;EACxB,WAAKA,OAAL,GAAeC,MAAM,CAACC,MAAP,CAAcR,kBAAd,EAAkCM,OAAlC,CAAf;;EAEA,UAAI,OAAO,KAAKA,OAAL,CAAayG,cAApB,KAAuC,QAA3C,EAAqD;EACnD,cAAM,IAAI1K,KAAJ,CAAW,GAAE7B,IAAK,0DAAlB,CAAN;EACD;;EAED,UAAI,KAAK8F,OAAL,CAAamF,IAAb,KAAsB,IAA1B,EAAgC;EAC9B,cAAM,IAAIpJ,KAAJ,CAAW,GAAE7B,IAAK,iCAAlB,CAAN;EACD;;EAED,UAAI,OAAO,KAAK8F,OAAL,CAAamF,IAAb,CAAkB,KAAKnF,OAAL,CAAayG,cAA/B,CAAP,KAA0D,QAA9D,EAAwE;EACtE,cAAM,IAAI1K,KAAJ,CAAW,GAAE7B,IAAK,+DAAlB,CAAN;EACD;;EAED,WAAK0M,SAAL,CAAe,KAAK5G,OAAL,CAAa0G,MAA5B,EAAoC,KAAK1G,OAAL,CAAa2G,IAAjD;EACD;;EAED,eAAWjM,OAAX,GAAqB;EACnB,aAAQ,GAAER,IAAK,IAAGC,OAAQ,EAA1B;EACD;;EAED0M,IAAAA,SAAS,GAAG;EACV,aAAO,KAAK7G,OAAL,CAAa0G,MAApB;EACD;;EAEDI,IAAAA,iBAAiB,GAAG;EAClB,aAAO,KAAK9G,OAAL,CAAayG,cAApB;EACD;EAED;;;;;;;EAKAG,IAAAA,SAAS,CAACF,MAAD,EAASC,IAAI,GAAG,KAAhB,EAAuB;EAC9B,UAAI,OAAO,KAAK3G,OAAL,CAAamF,IAAb,CAAkBuB,MAAlB,CAAP,KAAqC,QAAzC,EAAmD;EACjD3J,QAAAA,OAAO,CAACC,KAAR,CAAe,GAAE9C,IAAK,KAAIwM,MAAO,6BAA4B,KAAK1G,OAAL,CAAayG,cAAe,GAAzF;EACD,OAFD,MAEO;EACL,aAAKzG,OAAL,CAAa0G,MAAb,GAAsBA,MAAtB;EACD;;EAED,UAAIC,IAAJ,EAAU;EACR,aAAKI,UAAL;EACD;EACF;;EAEDC,IAAAA,YAAY,GAAG;EACb,aAAO/G,MAAM,CAACgH,IAAP,CAAY,KAAKjH,OAAL,CAAamF,IAAzB,CAAP;EACD;;EAED+B,IAAAA,YAAY,CAACd,KAAK,GAAG,IAAT,EAAee,gBAAgB,GAAG,EAAlC,EAAsC;EAChD,UAAI,OAAOf,KAAP,KAAiB,QAArB,EAA+B;EAC7B,eAAOpI,SAAP;EACD;;EAED,YAAMoJ,KAAK,GAAGhB,KAAK,CAACgB,KAAN,CAAY,mBAAZ,CAAd;;EACA,UAAIA,KAAJ,EAAW;EACThB,QAAAA,KAAK,GAAGA,KAAK,CAACC,OAAN,CAAce,KAAK,CAAC,CAAD,CAAnB,EAAwBD,gBAAgB,CAACC,KAAK,CAAC,CAAD,CAAN,CAAxC,CAAR;EACD;;EAED,UAAIhB,KAAK,CAACgB,KAAN,CAAY,mBAAZ,CAAJ,EAAsC;EACpC,eAAO,KAAKF,YAAL,CAAkBd,KAAlB,EAAyBe,gBAAzB,CAAP;EACD;;EAED,aAAOf,KAAP;EACD;;EAEDiB,IAAAA,SAAS,CAACC,OAAO,GAAG,IAAX,EAAiBC,MAAM,GAAG,EAA1B,EAA8B;EACrC,UAAIpC,IAAI,GAAG,KAAKnF,OAAL,CAAamF,IAAb,CAAkB,KAAKnF,OAAL,CAAa0G,MAA/B,CAAX;;EACA,UAAI,CAACvB,IAAL,EAAW;EACTA,QAAAA,IAAI,GAAG,KAAKnF,OAAL,CAAamF,IAAb,CAAkB,KAAKnF,OAAL,CAAayG,cAA/B,CAAP;EACD;;EAED,UAAIa,OAAO,KAAK,IAAZ,IAAoBA,OAAO,KAAK,GAAhC,IAAuCjM,KAAK,CAAC+F,OAAN,CAAckG,OAAd,CAA3C,EAAmE;EACjE,YAAIjM,KAAK,CAAC+F,OAAN,CAAckG,OAAd,CAAJ,EAA4B;EAC1B,gBAAML,IAAI,GAAGhH,MAAM,CAACgH,IAAP,CAAY9B,IAAZ,EAAkB3B,MAAlB,CAAyB2C,GAAG,IAAImB,OAAO,CAAC7D,OAAR,CAAgB0C,GAAhB,IAAuB,CAAC,CAAxD,CAAb;EACA,gBAAMqB,YAAY,GAAG,EAArB;EACAP,UAAAA,IAAI,CAAC1L,OAAL,CAAa4K,GAAG,IAAI;EAClBqB,YAAAA,YAAY,CAACrB,GAAD,CAAZ,GAAoB,KAAKe,YAAL,CAAkB/B,IAAI,CAACgB,GAAD,CAAtB,EAA6BoB,MAA7B,CAApB;EACD,WAFD;EAGApC,UAAAA,IAAI,GAAGqC,YAAP;EACD;;EAED,cAAMC,OAAO,GAAG,EAAhB;;EACA,aAAK,MAAMtB,GAAX,IAAkBhB,IAAlB,EAAwB;EACtBsC,UAAAA,OAAO,CAACtB,GAAD,CAAP,GAAe,KAAKe,YAAL,CAAkB/B,IAAI,CAACgB,GAAD,CAAtB,EAA6BoB,MAA7B,CAAf;EACD;;EAED,eAAOE,OAAP;EACD;;EAED,aAAO,KAAKP,YAAL,CAAkB/B,IAAI,CAACmC,OAAD,CAAtB,EAAiCC,MAAjC,CAAP;EACD,KAlGQ;;;EAqGTzJ,IAAAA,CAAC,CAACwJ,OAAO,GAAG,IAAX,EAAiBC,MAAM,GAAG,EAA1B,EAA8B;EAC7B,aAAO,KAAKF,SAAL,CAAeC,OAAf,EAAwBC,MAAxB,CAAP;EACD;EAED;;;;;;EAIAR,IAAAA,UAAU,CAAC7B,OAAO,GAAG,IAAX,EAAiB;EACzB,UAAI,CAACA,OAAL,EAAc;EACZA,QAAAA,OAAO,GAAGtL,QAAQ,CAAC8B,gBAAT,CAA0B,UAA1B,CAAV;EACD;;EAED,UAAI,OAAOwJ,OAAP,KAAmB,QAAvB,EAAiC;EAC/BA,QAAAA,OAAO,GAAGtL,QAAQ,CAACqB,aAAT,CAAuBiK,OAAvB,CAAV;EACD;;EAED,UAAID,MAAJ,CAAWC,OAAX,EAAoB,KAAKpH,CAAL,EAApB;EACD,KAvHQ;;;EA0HT,WAAOkH,YAAP,CAAoBhF,OAApB,EAA6B;EAC3B,aAAO,IAAIwG,IAAJ,CAASxG,OAAT,CAAP;EACD;;EA5HQ;;EA+HX,SAAOwG,IAAP;EACD,CAtJY,GAAb;;ECNO,SAASkB,UAAT,GAAsB;EAC3B,SAAOC,IAAI,CAACC,MAAL,GAAcC,QAAd,CAAuB,EAAvB,EAA2BC,MAA3B,CAAkC,CAAlC,EAAqC,EAArC,CAAP;EACD;AAED,EAAO,SAASC,iBAAT,CAA2B3D,MAA3B,EAAmC4D,WAAnC,EAAgD;EACrD,SAAO5D,MAAM,IAAIA,MAAM,KAAKxK,QAA5B,EAAsCwK,MAAM,GAAGA,MAAM,CAAC6D,UAAtD,EAAkE;EAChE,QAAI7D,MAAM,CAAC3B,SAAP,CAAiBU,QAAjB,CAA0B6E,WAA1B,CAAJ,EAA4C;EAC1C,aAAO5D,MAAP;EACD;EACF;;EAED,SAAO,IAAP;EACD;AAED,EAUO,SAAS8D,gBAAT,CAA0B9D,MAA1B,EAAkC4B,IAAlC,EAAwC;EAC7C,SAAO5B,MAAM,IAAIA,MAAM,KAAKxK,QAA5B,EAAsCwK,MAAM,GAAGA,MAAM,CAAC6D,UAAtD,EAAkE;EAChE,QAAI7D,MAAM,CAAC/B,YAAP,CAAoB2D,IAApB,MAA8B,IAAlC,EAAwC;EACtC,aAAO5B,MAAP;EACD;EACF;;EAED,SAAO,IAAP;EACD;AAED,EAAO,SAAS+D,kBAAT,CAA4BC,CAAC,GAAG,IAAhC,EAAsC9N,IAAtC,EAA4C+N,GAA5C,EAAiD;EACtD,MAAI,CAACD,CAAL,EAAQ;EACN;EACD;;EAED,QAAME,MAAM,GAAG,SAATA,MAAS,CAAUtI,OAAO,GAAG,EAApB,EAAwB;EACrC,UAAMuI,IAAI,GAAGvI,OAAb;;EACA,QAAI,KAAK,CAAL,CAAJ,EAAa;EACXuI,MAAAA,IAAI,CAACrD,OAAL,GAAe,KAAK,CAAL,CAAf;EACD;;EAED,WAAOmD,GAAG,CAACrD,YAAJ,CAAiBuD,IAAjB,CAAP;EACD,GAPD;;EASAH,EAAAA,CAAC,CAACnM,EAAF,CAAK3B,IAAL,IAAagO,MAAb;EACAF,EAAAA,CAAC,CAACnM,EAAF,CAAK3B,IAAL,EAAWkO,WAAX,GAAyBH,GAAzB;EACAD,EAAAA,CAAC,CAACnM,EAAF,CAAK3B,IAAL,EAAWmO,UAAX,GAAwBH,MAAxB;EACD;;ECnDD,MAAMjG,YAAY,GAAG,CAACqG,KAAD,EAAQC,MAAR,KAAmB;EACtC,MAAID,KAAK,KAAK,EAAd,EAAkB;EAChB,WAAQ,QAAOC,MAAO,EAAtB;EACD;;EACD,SAAQ,QAAOD,KAAM,IAAGC,MAAO,EAA/B;EACD,CALD;;AAOA,EAAO,SAASC,mBAAT,CAA6B1D,OAA7B,EAAsCmD,GAAG,GAAG,EAA5C,EAAgDQ,KAAhD,EAAuDpL,KAAK,GAAG,EAA/D,EAAmE;EACxE,QAAMwJ,IAAI,GAAGhH,MAAM,CAACgH,IAAP,CAAYoB,GAAZ,CAAb;EAEApB,EAAAA,IAAI,CAAC1L,OAAL,CAAc4K,GAAD,IAAS;EACpB,QAAI1I,KAAK,KAAK,EAAV,IAAgBoL,KAAK,CAACpF,OAAN,CAAc0C,GAAd,MAAuB,CAAC,CAA5C,EAA+C;EAC7C;EACA;EACD;;EAED,QAAI,OAAOkC,GAAG,CAAClC,GAAD,CAAV,KAAoB,QAApB,IAAgCkC,GAAG,CAAClC,GAAD,CAAH,KAAa,IAAjD,EAAuD;EACrD,UAAI2C,QAAQ,GAAG3C,GAAf;;EACA,UAAI1I,KAAK,KAAK,EAAd,EAAkB;EAChBqL,QAAAA,QAAQ,GAAI,GAAErL,KAAM,IAAG0I,GAAI,EAA3B;EACD;;EAEDyC,MAAAA,mBAAmB,CAAC1D,OAAD,EAAUmD,GAAG,CAAClC,GAAD,CAAb,EAAoB0C,KAApB,EAA2BC,QAA3B,CAAnB;EACA;EACD;;EAED,UAAM9C,IAAI,GAAG3D,YAAY,CAAC5E,KAAD,EAAQ0I,GAAR,CAAzB;EACAjB,IAAAA,OAAO,CAACa,YAAR,CAAqBC,IAArB,EAA2BqC,GAAG,CAAClC,GAAD,CAA9B;EACD,GAlBD;EAmBD;AAED,EAAO,SAAS4C,mBAAT,CAA6B7D,OAA7B,EAAsCmD,GAAG,GAAG,EAA5C,EAAgDQ,KAAhD,EAAuDpL,KAAK,GAAG,EAA/D,EAAmE;EACxE,QAAMuL,MAAM,GAAG/I,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBmI,GAAlB,CAAf;EACA,QAAMpB,IAAI,GAAGhH,MAAM,CAACgH,IAAP,CAAYoB,GAAZ,CAAb;EAEApB,EAAAA,IAAI,CAAC1L,OAAL,CAAc4K,GAAD,IAAS;EACpB,QAAI1I,KAAK,KAAK,EAAV,IAAgBoL,KAAK,CAACpF,OAAN,CAAc0C,GAAd,MAAuB,CAAC,CAA5C,EAA+C;EAC7C;EACA;EACD;;EAED,QAAIkC,GAAG,CAAClC,GAAD,CAAH,KAAa,IAAb,IAAqBkC,GAAG,CAAClC,GAAD,CAAH,CAAS9L,WAAT,KAAyB4F,MAAlD,EAA0D;EACxD,UAAI6I,QAAQ,GAAG3C,GAAf;;EACA,UAAI1I,KAAK,KAAK,EAAd,EAAkB;EAChBqL,QAAAA,QAAQ,GAAI,GAAErL,KAAM,IAAG0I,GAAI,EAA3B;EACD;;EAED6C,MAAAA,MAAM,CAAC7C,GAAD,CAAN,GAAc4C,mBAAmB,CAAC7D,OAAD,EAAUmD,GAAG,CAAClC,GAAD,CAAb,EAAoB0C,KAApB,EAA2BC,QAA3B,CAAjC;EACA;EACD,KAdmB;;;EAiBpB,QAAI1C,KAAK,GAAGiC,GAAG,CAAClC,GAAD,CAAf,CAjBoB;;EAkBpB,UAAM8C,IAAI,GAAG,OAAO7C,KAApB;EACA,UAAMJ,IAAI,GAAG3D,YAAY,CAAC5E,KAAD,EAAQ0I,GAAR,CAAzB;EACA,UAAM+C,SAAS,GAAGhE,OAAO,CAAC7C,YAAR,CAAqB2D,IAArB,CAAlB;;EAEA,QAAIkD,SAAS,KAAK,IAAlB,EAAwB;EACtB,UAAID,IAAI,KAAK,SAAb,EAAwB;EACtB;EACA7C,QAAAA,KAAK,GAAG8C,SAAS,KAAK,MAAtB;EACD,OAHD,MAGO,IAAI,CAACC,KAAK,CAACD,SAAD,CAAV,EAAuB;EAC5B9C,QAAAA,KAAK,GAAGgD,QAAQ,CAACF,SAAD,EAAY,EAAZ,CAAhB;EACD,OAFM,MAEA;EACL9C,QAAAA,KAAK,GAAG8C,SAAR;EACD;EACF;;EAEDF,IAAAA,MAAM,CAAC7C,GAAD,CAAN,GAAcC,KAAd;EACD,GAlCD;EAoCA,SAAO4C,MAAP;EACD;EAED,MAAMK,KAAK,GAAG,EAAd;AAEA,yBAAe;EACbtG,EAAAA,GAAG,CAACuG,SAAD,EAAY;EACbD,IAAAA,KAAK,CAACxN,IAAN,CAAWyN,SAAX;EACD,GAHY;;EAIb5G,EAAAA,MAAM,CAAC4G,SAAD,EAAY;EAChB,UAAMC,KAAK,GAAGF,KAAK,CAACG,SAAN,CAAgBC,CAAC,IAAIxJ,MAAM,CAACyJ,EAAP,CAAUJ,SAAV,EAAqBG,CAArB,CAArB,CAAd;;EACA,QAAIF,KAAK,GAAG,CAAC,CAAb,EAAgB;EACdF,MAAAA,KAAK,CAACM,MAAN,CAAaJ,KAAb,EAAoB,CAApB;EACD;EACF,GATY;;EAUbK,EAAAA,QAAQ,CAACN,SAAD,EAAY;EAClB,WAAOD,KAAK,CAAC7E,MAAN,KAAiB,CAAjB,IAAsBvE,MAAM,CAACyJ,EAAP,CAAUL,KAAK,CAACA,KAAK,CAAC7E,MAAN,GAAe,CAAhB,CAAf,EAAmC8E,SAAnC,CAA7B;EACD;;EAZY,CAAf;;EC7EA;;;;;AAKA,EAKA;;;;;;AAMA,EAAe,MAAMO,SAAN,CAAgB;EAE7BxP,EAAAA,WAAW,CAACC,IAAD,EAAOI,OAAP,EAAgBoP,cAAc,GAAG,EAAjC,EAAqC9J,OAAO,GAAG,EAA/C,EAAmD+J,WAAW,GAAG,EAAjE,EAAqEC,qBAAqB,GAAG,KAA7F,EAAoGC,UAAU,GAAG,KAAjH,EAAwH;EACjI,SAAK3P,IAAL,GAAYA,IAAZ;EACA,SAAKI,OAAL,GAAeA,OAAf;EACA,SAAKsF,OAAL,GAAeA,OAAf;EAEAC,IAAAA,MAAM,CAACgH,IAAP,CAAY6C,cAAZ,EAA4BvO,OAA5B,CAAqC2O,IAAD,IAAU;EAC5C,UAAI,OAAO,KAAKlK,OAAL,CAAakK,IAAb,CAAP,KAA8B,WAAlC,EAA+C;EAC7C,aAAKlK,OAAL,CAAakK,IAAb,IAAqBJ,cAAc,CAACI,IAAD,CAAnC;EACD;EACF,KAJD;EAMA,SAAKH,WAAL,GAAmBA,WAAnB;EACA,SAAKC,qBAAL,GAA6BA,qBAA7B;EACA,SAAKC,UAAL,GAAkBA,UAAlB;EACA,SAAKE,EAAL,GAAUzC,UAAU,EAApB;EAEA,UAAM0C,YAAY,GAAG,CAAC,KAAKJ,qBAAN,IAA+B,KAAKhK,OAAL,CAAakF,OAAb,KAAyB,IAA7E;;EAEA,QAAI,OAAO,KAAKlF,OAAL,CAAakF,OAApB,KAAgC,QAApC,EAA8C;EAC5C,WAAKlF,OAAL,CAAakF,OAAb,GAAuBtL,QAAQ,CAACqB,aAAT,CAAuB,KAAK+E,OAAL,CAAakF,OAApC,CAAvB;EACD;;EAED,QAAIkF,YAAY,IAAI,CAAC,KAAKpK,OAAL,CAAakF,OAAlC,EAA2C;EACzC,YAAM,IAAInJ,KAAJ,CAAW,GAAE,KAAKzB,IAAK,qCAAvB,CAAN;EACD;;EAED,SAAK+P,cAAL,GAAsB,KAAKrK,OAAL,CAAakF,OAAb,KAAyB,IAA/C;EACA,SAAKoF,kBAAL,GAA0B,EAA1B;;EAEA,QAAI,CAAC,KAAKD,cAAV,EAA0B;EACxB;;;;;;;;EAQA,WAAKrK,OAAL,GAAeC,MAAM,CAACC,MAAP,CAAc,KAAKF,OAAnB,EAA4B,KAAKuK,cAAL,CAAoB,KAAKC,aAAL,EAApB,EAA0C,KAAKxK,OAA/C,CAA5B,CAAf,CATwB;;EAYxB,WAAKyK,aAAL;EACD;;EAED,SAAKC,eAAL,GAAuB9I,KAAK,IAAI,KAAK+I,oBAAL,CAA0B/I,KAA1B,CAAhC;EACD;;EAED2I,EAAAA,cAAc,CAACK,UAAD,EAAaC,QAAb,EAAuB;EACnC,UAAMC,MAAM,GAAGF,UAAf;EACA,SAAKb,WAAL,CAAiBxO,OAAjB,CAA0B4K,GAAD,IAAS;EAChC,UAAI,OAAO0E,QAAQ,CAAC1E,GAAD,CAAf,KAAyB,WAA7B,EAA0C;EACxC2E,QAAAA,MAAM,CAAC3E,GAAD,CAAN,GAAc0E,QAAQ,CAAC1E,GAAD,CAAtB;EACD;EACF,KAJD;EAMA,WAAO2E,MAAP;EACD;;EAEDC,EAAAA,UAAU,GAAG;EACX,WAAO,KAAKrQ,OAAZ;EACD;;EAEDsQ,EAAAA,UAAU,GAAG;EACX,WAAO,KAAKhL,OAAL,CAAakF,OAApB;EACD;;EAED+F,EAAAA,KAAK,GAAG;EACN,WAAO,KAAKd,EAAZ;EACD;;EAEDe,EAAAA,gBAAgB,CAAC9P,QAAD,EAAW;EACzBA,IAAAA,QAAQ,CAACG,OAAT,CAAiB2J,OAAO,IAAI,KAAKiG,eAAL,CAAqBjG,OAArB,CAA5B;EACD;;EAEDiG,EAAAA,eAAe,CAACjG,OAAD,EAAU;EACvBA,IAAAA,OAAO,CAACd,MAAR,CAAetH,gBAAf,CAAgCoI,OAAO,CAACtD,KAAxC,EAA+C,KAAK8I,eAApD;EACA,SAAKJ,kBAAL,CAAwBzO,IAAxB,CAA6BqJ,OAA7B;EACD;;EAEDkG,EAAAA,kBAAkB,GAAG;EACnB,SAAKd,kBAAL,CAAwB/O,OAAxB,CAAiC2J,OAAD,IAAa;EAC3C,WAAKmG,iBAAL,CAAuBnG,OAAvB;EACD,KAFD;EAGD;;EAEDmG,EAAAA,iBAAiB,CAACnG,OAAD,EAAU;EACzB,UAAMoG,sBAAsB,GAAG,KAAKhB,kBAAL,CAC5Bd,SAD4B,CAClBhO,EAAE,IAAIA,EAAE,CAAC4I,MAAH,KAAcc,OAAO,CAACd,MAAtB,IAAgC5I,EAAE,CAACoG,KAAH,KAAasD,OAAO,CAACtD,KADzC,CAA/B;;EAGA,QAAI0J,sBAAsB,GAAG,CAAC,CAA9B,EAAiC;EAC/BpG,MAAAA,OAAO,CAACd,MAAR,CAAehB,mBAAf,CAAmC8B,OAAO,CAACtD,KAA3C,EAAkD,KAAK8I,eAAvD;EACA,WAAKJ,kBAAL,CAAwBX,MAAxB,CAA+B2B,sBAA/B,EAAuD,CAAvD;EACD,KAHD,MAGO;EACLvO,MAAAA,OAAO,CAACC,KAAR,CAAe,wCAAuCkI,OAAO,CAACd,MAAO,gBAAec,OAAO,CAACtD,KAAM,GAAlG;EACD;EACF;;EAED2J,EAAAA,YAAY,CAAClS,SAAD,EAAYE,MAAM,GAAG,EAArB,EAAyBiS,eAAe,GAAG,KAA3C,EAAkD;EAC5D,QAAI,OAAOnS,SAAP,KAAqB,QAAzB,EAAmC;EACjC,YAAM,IAAI0C,KAAJ,CAAU,8BAAV,CAAN;EACD;;EAED,QAAI,KAAKkO,UAAT,EAAqB;EACnB,UAAI5Q,SAAS,KAAK6I,KAAK,CAACxD,IAAxB,EAA8B;EAC5B+M,QAAAA,gBAAgB,CAAC1I,GAAjB,CAAqB,IAArB;EACD,OAFD,MAEO,IAAI1J,SAAS,KAAK6I,KAAK,CAACtD,IAAxB,EAA8B;EACnC6M,QAAAA,gBAAgB,CAAC/I,MAAjB,CAAwB,IAAxB;EACD;EACF,KAX2D;;;EAc5D,UAAMgJ,eAAe,GAAGrS,SAAS,CAACuH,KAAV,CAAgB,GAAhB,EAAqB+K,MAArB,CAA4B,CAACC,GAAD,EAAMC,OAAN,EAAetC,KAAf,KAAyB;EAC3E,UAAIA,KAAK,KAAK,CAAd,EAAiB;EACf,eAAOsC,OAAP;EACD;;EAED,aAAOD,GAAG,GAAGC,OAAO,CAACtP,MAAR,CAAe,CAAf,EAAkBC,WAAlB,EAAN,GAAwCqP,OAAO,CAACpP,KAAR,CAAc,CAAd,CAA/C;EACD,KANuB,CAAxB;EAQA,UAAMH,cAAc,GAAI,KAAIoP,eAAe,CAACnP,MAAhB,CAAuB,CAAvB,EAA0BC,WAA1B,EAAwC,GAAEkP,eAAe,CAACjP,KAAhB,CAAsB,CAAtB,CAAyB,EAA/F,CAtB4D;;EAyB5D,QAAI,OAAO,KAAKuD,OAAL,CAAa0L,eAAb,CAAP,KAAyC,UAA7C,EAAyD;EACvD,WAAK1L,OAAL,CAAa0L,eAAb,EAA8B7O,KAA9B,CAAoC,IAApC,EAA0C,CAACtD,MAAD,CAA1C;EACD;;EAED,QAAI,OAAO,KAAKyG,OAAL,CAAa1D,cAAb,CAAP,KAAwC,UAA5C,EAAwD;EACtD,WAAK0D,OAAL,CAAa1D,cAAb,EAA6BO,KAA7B,CAAmC,IAAnC,EAAyC,CAACtD,MAAD,CAAzC;EACD;;EAED,QAAIiS,eAAJ,EAAqB;EACnB;EACD,KAnC2D;;;EAsC5D,QAAI,KAAKxL,OAAL,CAAakF,OAAjB,EAA0B;EACxBrL,MAAAA,oBAAoB,CAAC,KAAKmG,OAAL,CAAakF,OAAd,EAAuB7L,SAAvB,EAAkC,KAAKiB,IAAvC,EAA6Cf,MAA7C,CAApB;EACD,KAFD,MAEO;EACLH,MAAAA,mBAAmB,CAACC,SAAD,EAAY,KAAKiB,IAAjB,EAAuBf,MAAvB,CAAnB;EACD;EACF;;EAEDkR,EAAAA,aAAa,GAAG;EACd,QAAI,KAAKV,WAAL,CAAiBvF,MAAjB,GAA0B,CAA9B,EAAiC;EAC/BoE,MAAAA,mBAAmB,CAAC,KAAK5I,OAAL,CAAakF,OAAd,EAAuB,KAAKlF,OAA5B,EAAqC,KAAK+J,WAA1C,CAAnB;EACD;EACF;;EAEDS,EAAAA,aAAa,GAAG;EACd,UAAMxK,OAAO,GAAGC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkB,KAAKF,OAAvB,CAAhB;EACA,WAAO+I,mBAAmB,CAAC,KAAK/I,OAAL,CAAakF,OAAd,EAAuBlF,OAAvB,EAAgC,KAAK+J,WAArC,CAA1B;EACD;EAED;;;;;;;EAKA+B,EAAAA,eAAe,GAAG;EAChB,WAAO,KAAK7B,UAAL,IAAmB,CAACwB,gBAAgB,CAAC7B,QAAjB,CAA0B,IAA1B,CAA3B;EACD;;EAEDe,EAAAA,oBAAoB,CAAC/I,KAAD,EAAQ;EAC1B,QAAI,KAAKkK,eAAL,EAAJ,EAA4B;EAC1B;EACD;;EAED,SAAKC,cAAL,CAAoBnK,KAApB;EACD;;EAEDmK,EAAAA,cAAc,CAACnK,KAAD,EAAQ;EAErB;;EAED,SAAOoK,UAAP,GAAoB;EAClB,WAAO,KAAK1R,IAAZ;EACD;;EAED,SAAO0K,YAAP,CAAoBiH,cAApB,EAAoCjM,OAApC,EAA6C;EAC3C,WAAO,IAAIiM,cAAJ,CAAmBjM,OAAnB,CAAP;EACD;;EAtL4B;;EChB/B;;;;;AAMA;EAGA,MAAMkM,OAAO,GAAG,CAAC,MAAM;EACrB;;;;;EAMA,QAAMhS,IAAI,GAAG,SAAb;EACA,QAAMC,OAAO,GAAG,OAAhB;EACA,QAAMuF,kBAAkB,GAAG;EACzBwF,IAAAA,OAAO,EAAE,IADgB;EAEzBiH,IAAAA,YAAY,EAAE,IAFW;EAGzBC,IAAAA,KAAK,EAAE;EAHkB,GAA3B;EAKA,QAAMC,qBAAqB,GAAG,EAA9B;EAGA;;;;;;EAMA,QAAMH,OAAN,SAAsBrC,SAAtB,CAAgC;EAC9B;;;;EAIAxP,IAAAA,WAAW,CAAC2F,OAAO,GAAG,EAAX,EAAe;EACxB,YAAM9F,IAAN,EAAYC,OAAZ,EAAqBuF,kBAArB,EAAyCM,OAAzC,EAAkDqM,qBAAlD,EAAyE,IAAzE,EAA+E,KAA/E;EAEA,WAAKC,GAAL,GAAW,IAAX;EACA,WAAKC,aAAL,GAAqB,IAArB;EAEA,WAAKC,SAAL,CAAetK,KAAK,CAAC7D,cAArB;EAEAoO,MAAAA,UAAU,CAAC,MAAM;EACf,aAAKC,UAAL;EACD,OAFS,EAEP,KAAK1M,OAAL,CAAamM,YAFN,CAAV;EAGD;;EAEDQ,IAAAA,SAAS,GAAG;EACV,aAAO,KAAKC,MAAZ;EACD;;EAEDJ,IAAAA,SAAS,CAACI,MAAD,EAAS;EAChB,WAAKA,MAAL,GAAcA,MAAd;EACD;;EAEDC,IAAAA,YAAY,GAAG;EACb,WAAKP,GAAL,GAAW,IAAIQ,cAAJ,EAAX;EACA,WAAKR,GAAL,CAASS,OAAT,GAAmB,KAAnB;EAEA,YAAMC,GAAG,GAAI,kBAAiB,IAAIC,IAAJ,GAAWC,OAAX,EAAqB,EAAnD;EAEA,WAAK3B,YAAL,CAAkBrJ,KAAK,CAAC3D,oBAAxB,EAA8C;EAAE4O,QAAAA,IAAI,EAAE,IAAIF,IAAJ;EAAR,OAA9C,EAAoE,KAApE;EAEA,WAAKX,GAAL,CAASc,IAAT,CAAc,MAAd,EAAsBJ,GAAtB,EAA2B,IAA3B;EAEA,WAAKV,GAAL,CAASe,OAAT,GAAmB,KAAKrN,OAAL,CAAaoM,KAAb,GAAqB,CAAxC;;EACA,WAAKE,GAAL,CAASgB,SAAT,GAAqB,MAAM;EACzB,aAAKhB,GAAL,CAASiB,KAAT;EACA,aAAKjB,GAAL,GAAW,IAAX;EACD,OAHD;;EAKA,WAAKA,GAAL,CAASkB,MAAT,GAAkB,MAAM;EACtB,aAAKC,IAAL;EACD,OAFD;;EAGA,WAAKnB,GAAL,CAASoB,OAAT,GAAmB,MAAM;EACvB,aAAKC,MAAL;EACD,OAFD;;EAIA,UAAI;EACF,aAAKrB,GAAL,CAASsB,IAAT;EACD,OAFD,CAEE,OAAOC,CAAP,EAAU;EACV,aAAKF,MAAL;EACD;EACF;;EAEDF,IAAAA,IAAI,GAAG;EACL,WAAKlC,YAAL,CAAkBrJ,KAAK,CAAC1D,4BAAxB,EAAsD;EAAE2O,QAAAA,IAAI,EAAE,IAAIF,IAAJ;EAAR,OAAtD,EAA4E,KAA5E;;EAEA,UAAI,KAAKN,SAAL,OAAqBzK,KAAK,CAAC7D,cAA/B,EAA+C;EAC7C,aAAKkN,YAAL,CAAkBrJ,KAAK,CAAC7D,cAAxB,EAAwC;EAAE8O,UAAAA,IAAI,EAAE,IAAIF,IAAJ;EAAR,SAAxC,EAA8D,KAA9D;EACD;;EAED,WAAKT,SAAL,CAAetK,KAAK,CAAC7D,cAArB;EACD;;EAEDsP,IAAAA,MAAM,GAAG;EACP,WAAKpC,YAAL,CAAkBrJ,KAAK,CAACzD,4BAAxB,EAAsD;EAAE0O,QAAAA,IAAI,EAAE,IAAIF,IAAJ;EAAR,OAAtD,EAA4E,KAA5E;;EAEA,UAAI,KAAKN,SAAL,OAAqBzK,KAAK,CAAC5D,eAA/B,EAAgD;EAC9C,aAAKiN,YAAL,CAAkBrJ,KAAK,CAAC5D,eAAxB,EAAyC;EAAE6O,UAAAA,IAAI,EAAE,IAAIF,IAAJ;EAAR,SAAzC,EAA+D,KAA/D;EACD;;EAED,WAAKT,SAAL,CAAetK,KAAK,CAAC5D,eAArB;EACD;;EAEDoO,IAAAA,UAAU,GAAG;EACX,WAAKoB,SAAL;EAEA,WAAKjB,YAAL;EAEA,WAAKN,aAAL,GAAqBwB,WAAW,CAAC,MAAM;EACrC,aAAKlB,YAAL;EACD,OAF+B,EAE7B,KAAK7M,OAAL,CAAaoM,KAFgB,CAAhC;EAGD;;EAED0B,IAAAA,SAAS,GAAG;EACV,UAAI,KAAKvB,aAAL,KAAuB,IAA3B,EAAiC;EAC/ByB,QAAAA,aAAa,CAAC,KAAKzB,aAAN,CAAb;EACA,aAAKA,aAAL,GAAqB,IAArB;EACD;EACF;;EAED,WAAOvH,YAAP,CAAoBhF,OAApB,EAA6B;EAC3B,aAAO,MAAMgF,YAAN,CAAmBkH,OAAnB,EAA4BlM,OAA5B,CAAP;EACD;;EA/F6B;;EAkGhC,SAAOkM,OAAP;EACD,CA1He,GAAhB;;ECTA;;;;;AAKA;EAKA,MAAM+B,KAAK,GAAG,CAAE7F,CAAD,IAAO;EACpB;;;;;EAMA,QAAMlO,IAAI,GAAG,OAAb;EACA,QAAMC,OAAO,GAAG,OAAhB;EACA,QAAMuF,kBAAkB,GAAG;EACzBwF,IAAAA,OAAO,EAAE,IADgB;EAEzBgJ,IAAAA,IAAI,EAAE;EAFmB,GAA3B;EAIA,QAAM7B,qBAAqB,GAAG,CAC5B,MAD4B,CAA9B;EAIA;;;;;;EAMA,QAAM4B,KAAN,SAAoBpE,SAApB,CAA8B;EAE5BxP,IAAAA,WAAW,CAAC2F,OAAO,GAAG,EAAX,EAAe;EACxB,YAAM9F,IAAN,EAAYC,OAAZ,EAAqBuF,kBAArB,EAAyCM,OAAzC,EAAkDqM,qBAAlD,EAAyE,KAAzE,EAAgF,KAAhF;EACA,WAAK8B,YAAL,GAAoB,KAApB;EACD;;EAEDC,IAAAA,IAAI,GAAG;EACL,UAAI,KAAKD,YAAT,EAAuB;EACrB,eAAO,KAAP;EACD;;EAED,UAAI,KAAKnO,OAAL,CAAakF,OAAb,CAAqBzC,SAArB,CAA+BU,QAA/B,CAAwC,MAAxC,KAAmD,KAAKkL,UAAL,OAAsB,CAA7E,EAAgF;EAC9E,eAAO,KAAP;EACD;;EAED,WAAKF,YAAL,GAAoB,IAApB;EAEA,WAAK5C,YAAL,CAAkBrJ,KAAK,CAACxD,IAAxB;;EAEA,YAAM4P,MAAM,GAAG,MAAM;EACnB,aAAK/C,YAAL,CAAkBrJ,KAAK,CAACvD,KAAxB;;EAEA,YAAI,KAAKqB,OAAL,CAAakF,OAAb,CAAqBzC,SAArB,CAA+BU,QAA/B,CAAwC,MAAxC,CAAJ,EAAqD;EACnD,eAAKnD,OAAL,CAAakF,OAAb,CAAqBzC,SAArB,CAA+BC,MAA/B,CAAsC,MAAtC;EACD;;EAED,aAAK1C,OAAL,CAAakF,OAAb,CAAqB9B,mBAArB,CAAyClB,KAAK,CAAC7C,cAA/C,EAA+DiP,MAA/D;EACA,aAAKH,YAAL,GAAoB,KAApB;EACD,OATD;;EAWA,UAAI,KAAKnO,OAAL,CAAakO,IAAb,IAAqB,CAAC,KAAKlO,OAAL,CAAakF,OAAb,CAAqBzC,SAArB,CAA+BU,QAA/B,CAAwC,MAAxC,CAA1B,EAA2E;EACzE,aAAKnD,OAAL,CAAakF,OAAb,CAAqBzC,SAArB,CAA+BM,GAA/B,CAAmC,MAAnC;EACD;;EAED,WAAK/C,OAAL,CAAakF,OAAb,CAAqBzC,SAArB,CAA+BM,GAA/B,CAAmC,MAAnC;EAEA,WAAK/C,OAAL,CAAakF,OAAb,CAAqBpI,gBAArB,CAAsCoF,KAAK,CAAC7C,cAA5C,EAA4DiP,MAA5D;;EAEA,UAAI,KAAKtO,OAAL,CAAakF,OAAb,CAAqBzC,SAArB,CAA+BU,QAA/B,CAAwC,MAAxC,CAAJ,EAAqD;EACnD,aAAKnD,OAAL,CAAakF,OAAb,CAAqBzC,SAArB,CAA+BC,MAA/B,CAAsC,MAAtC;EACD;;EAED,UAAI,CAAC,KAAK1C,OAAL,CAAakO,IAAlB,EAAwB;EACtBI,QAAAA,MAAM;EACP;EACF;;EAEDD,IAAAA,UAAU,GAAG;EAAA,oCACS5U,MAAM,CAAC8U,gBAAP,CAAwB,KAAKvO,OAAL,CAAakF,OAArC,CADT;EAAA,YACHsJ,OADG,yBACHA,OADG;;EAEX,aAAOC,UAAU,CAACD,OAAD,CAAjB;EACD;;EAEDE,IAAAA,IAAI,GAAG;EACL,UAAI,KAAKP,YAAT,EAAuB;EACrB,eAAO,KAAP;EACD;;EAED,UAAI,KAAKE,UAAL,OAAsB,CAA1B,EAA6B;EAC3B,eAAO,KAAP;EACD;;EAED,WAAKF,YAAL,GAAoB,IAApB;EACA,WAAK5C,YAAL,CAAkBrJ,KAAK,CAACtD,IAAxB;;EAEA,YAAM+P,MAAM,GAAG,MAAM;EACnB,aAAKpD,YAAL,CAAkBrJ,KAAK,CAACrD,MAAxB;EACA,aAAKmB,OAAL,CAAakF,OAAb,CAAqB9B,mBAArB,CAAyClB,KAAK,CAAC7C,cAA/C,EAA+DsP,MAA/D;EACA,aAAKR,YAAL,GAAoB,KAApB;EACD,OAJD;;EAMA,UAAI,KAAKnO,OAAL,CAAakO,IAAb,IAAqB,CAAC,KAAKlO,OAAL,CAAakF,OAAb,CAAqBzC,SAArB,CAA+BU,QAA/B,CAAwC,MAAxC,CAA1B,EAA2E;EACzE,aAAKnD,OAAL,CAAakF,OAAb,CAAqBzC,SAArB,CAA+BM,GAA/B,CAAmC,MAAnC;EACD;;EAED,WAAK/C,OAAL,CAAakF,OAAb,CAAqBpI,gBAArB,CAAsCoF,KAAK,CAAC7C,cAA5C,EAA4DsP,MAA5D;;EAEA,UAAI,CAAC,KAAK3O,OAAL,CAAakF,OAAb,CAAqBzC,SAArB,CAA+BU,QAA/B,CAAwC,MAAxC,CAAL,EAAsD;EACpD,aAAKnD,OAAL,CAAakF,OAAb,CAAqBzC,SAArB,CAA+BM,GAA/B,CAAmC,MAAnC;EACD;;EAED,UAAI,KAAK/C,OAAL,CAAakF,OAAb,CAAqBzC,SAArB,CAA+BU,QAA/B,CAAwC,MAAxC,CAAJ,EAAqD;EACnD,aAAKnD,OAAL,CAAakF,OAAb,CAAqBzC,SAArB,CAA+BC,MAA/B,CAAsC,MAAtC;EACD;;EAED,UAAI,CAAC,KAAK1C,OAAL,CAAakO,IAAlB,EAAwB;EACtBS,QAAAA,MAAM;EACP;EACF;;EAED,WAAO3C,UAAP,GAAoB;EAClB,aAAO9R,IAAP;EACD;;EAED,WAAO8K,YAAP,CAAoBhF,OAApB,EAA6B;EAC3B,aAAO,MAAMgF,YAAN,CAAmBiJ,KAAnB,EAA0BjO,OAA1B,CAAP;EACD;;EAhG2B;EAmG9B;;;;;;;EAKAmI,EAAAA,kBAAkB,CAACC,CAAD,EAAIlO,IAAJ,EAAU+T,KAAV,CAAlB;EAEA;;;;;;EAKA,QAAMW,UAAU,GAAG,EAAnB;EAEA,QAAMC,MAAM,GAAGjV,QAAQ,CAAC8B,gBAAT,CAA2B,IAAGxB,IAAK,EAAnC,CAAf;;EAEA,MAAI2U,MAAJ,EAAY;EACVA,IAAAA,MAAM,CAACtT,OAAP,CAAgB2J,OAAD,IAAa;EAC1B,YAAM4F,MAAM,GAAG/B,mBAAmB,CAAC7D,OAAD,EAAUxF,kBAAV,EAA8B2M,qBAA9B,CAAlC;EACAvB,MAAAA,MAAM,CAAC5F,OAAP,GAAiBA,OAAjB;EAEA0J,MAAAA,UAAU,CAAC/S,IAAX,CAAgBoS,KAAK,CAACjJ,YAAN,CAAmB8F,MAAnB,CAAhB;EACD,KALD;EAMD;;EAEDlR,EAAAA,QAAQ,CAACkD,gBAAT,CAA0B,OAA1B,EAAoC8E,KAAD,IAAW;EAC5C,UAAMwC,MAAM,GAAG8D,gBAAgB,CAACtG,KAAK,CAACwC,MAAP,EAAe,cAAf,CAA/B;;EACA,QAAI,CAACA,MAAL,EAAa;EACX;EACD;;EAED,UAAM0K,cAAc,GAAG1K,MAAM,CAAC/B,YAAP,CAAoB,cAApB,CAAvB;;EAEA,QAAIyM,cAAc,IAAIA,cAAc,KAAK5U,IAAzC,EAA+C;EAC7C,YAAM6U,KAAK,GAAGhH,iBAAiB,CAACnG,KAAK,CAACwC,MAAP,EAAelK,IAAf,CAA/B;EACA,YAAMiQ,EAAE,GAAG4E,KAAK,CAAC1M,YAAN,CAAmB,IAAnB,CAAX;EACA,YAAMiH,SAAS,GAAGsF,UAAU,CAAC/Q,IAAX,CAAgB4L,CAAC,IAAIA,CAAC,CAACuB,UAAF,GAAe3I,YAAf,CAA4B,IAA5B,MAAsC8H,EAA3D,CAAlB;;EAEA,UAAI,CAACb,SAAL,EAAgB;EACd;EACD;;EAEDA,MAAAA,SAAS,CAACoF,IAAV;EACD;EACF,GAnBD;EAqBA,SAAOT,KAAP;EACD,CAzKa,EAyKXxU,MAAM,CAAC2O,CAAP,GAAW3O,MAAM,CAAC2O,CAAlB,GAAsB,IAzKX,CAAd;;ECVA;;;;;AAKA;EAKA,MAAM4G,KAAK,GAAG,CAAE5G,CAAD,IAAO;EACpB;;;;;EAMA,QAAMlO,IAAI,GAAG,OAAb;EACA,QAAMC,OAAO,GAAG,OAAhB;EACA,QAAM8U,iBAAiB,GAAG,gBAA1B;EACA,QAAMvP,kBAAkB,GAAG;EACzBwF,IAAAA,OAAO,EAAE,IADgB;EAEzBgK,IAAAA,KAAK,EAAE,IAFkB;EAGzBC,IAAAA,OAAO,EAAE,IAHgB;EAIzBC,IAAAA,UAAU,EAAE,IAJa;EAKzBnG,IAAAA,IAAI,EAAE,IALmB;EAMzBoG,IAAAA,kBAAkB,EAAE,CAClB,EADkB;EAElB,MAFkB,CANK;EAUzBC,IAAAA,OAAO,EAAE,CACP;EACE1N,MAAAA,KAAK,EAAE,SADT;EAEE+D,MAAAA,IAAI,EAAE,IAFR;EAGE4J,MAAAA,OAAO,EAAE,IAHX;EAIEC,MAAAA,KAAK,EAAE;EAJT,KADO;EAVgB,GAA3B;EAmBA,QAAMnD,qBAAqB,GAAG,CAC5B,YAD4B,CAA9B;EAIA;;;;;;EAMA,QAAM2C,KAAN,SAAoBnF,SAApB,CAA8B;EAE5BxP,IAAAA,WAAW,CAAC2F,OAAO,GAAG,EAAX,EAAenF,QAAQ,GAAG,IAA1B,EAAgC;EACzC,YAAMX,IAAN,EAAYC,OAAZ,EAAqBuF,kBAArB,EAAyCM,OAAzC,EAAkDqM,qBAAlD,EAAyE,IAAzE,EAA+E,IAA/E;EAEA,WAAKxR,QAAL,GAAgBA,QAAQ,IAAI,KAC5B,gDAD4B,GAE1B,2CAF0B,GAGxB,6BAHwB,GAItB,4BAJsB,GAKpB,+BALoB,GAMtB,QANsB,GAOtB,0BAPsB,GAQpB,SARoB,GAStB,QATsB,GAUtB,4BAVsB,GAWtB,QAXsB,GAYxB,QAZwB,GAa1B,QAb0B,GAc5B,QAdA;;EAgBA,UAAI,KAAKwP,cAAT,EAAyB;EACvB,aAAKoF,KAAL;EACD;EACF;;EAEDA,IAAAA,KAAK,GAAG;EACN,YAAMC,OAAO,GAAG9V,QAAQ,CAAC2D,aAAT,CAAuB,KAAvB,CAAhB;EAEAmS,MAAAA,OAAO,CAACjU,SAAR,GAAoB,KAAKZ,QAAzB;EAEA,WAAKmF,OAAL,CAAakF,OAAb,GAAuBwK,OAAO,CAACC,UAA/B,CALM;;EAQN,UAAI,KAAK3P,OAAL,CAAakP,KAAb,KAAuB,IAA3B,EAAiC;EAC/B,aAAKlP,OAAL,CAAakF,OAAb,CAAqBjK,aAArB,CAAmC,cAAnC,EAAmDQ,SAAnD,GAA+D,KAAKuE,OAAL,CAAakP,KAA5E;EACD,OAVK;;;EAaN,UAAI,KAAKlP,OAAL,CAAamP,OAAb,KAAyB,IAA7B,EAAmC;EACjC,aAAKnP,OAAL,CAAakF,OAAb,CAAqBjK,aAArB,CAAmC,aAAnC,EAAkD0U,UAAlD,CAA6DlU,SAA7D,GAAyE,KAAKuE,OAAL,CAAamP,OAAtF;EACD,OAFD,MAEO;EACL;EACA,aAAKS,cAAL;EACD,OAlBK;;;EAqBN,UAAI,KAAK5P,OAAL,CAAasP,OAAb,KAAyB,IAAzB,IAAiCjU,KAAK,CAAC+F,OAAN,CAAc,KAAKpB,OAAL,CAAasP,OAA3B,CAArC,EAA0E;EACxE,YAAI,KAAKtP,OAAL,CAAasP,OAAb,CAAqB9K,MAArB,GAA8B,CAAlC,EAAqC;EACnC,eAAKxE,OAAL,CAAasP,OAAb,CAAqB/T,OAArB,CAA8BsU,MAAD,IAAY;EACvC,iBAAK7P,OAAL,CAAakF,OAAb,CAAqBjK,aAArB,CAAmC,eAAnC,EAAoD6U,WAApD,CAAgE,KAAKC,WAAL,CAAiBF,MAAjB,CAAhE;EACD,WAFD;EAGD,SAJD,MAIO;EACL,eAAKG,YAAL;EACD;EACF,OARD,MAQO;EACL,aAAKA,YAAL;EACD;;EAEDpW,MAAAA,QAAQ,CAACqW,IAAT,CAAcH,WAAd,CAA0B,KAAK9P,OAAL,CAAakF,OAAvC;EAEA,WAAKuF,aAAL;EACD;;EAEDsF,IAAAA,WAAW,CAACG,UAAU,GAAG,EAAd,EAAkB;EAC3B,YAAML,MAAM,GAAGjW,QAAQ,CAAC2D,aAAT,CAAuB,QAAvB,CAAf;EACAsS,MAAAA,MAAM,CAAC9J,YAAP,CAAoB,MAApB,EAA4B,QAA5B;EACA8J,MAAAA,MAAM,CAAC9J,YAAP,CAAoB,OAApB,EAA6BmK,UAAU,CAACV,KAAX,IAAoB,KAAjD;EACAK,MAAAA,MAAM,CAAC9J,YAAP,CAAoB,YAApB,EAAkCmK,UAAU,CAACtO,KAA7C;EACAiO,MAAAA,MAAM,CAACpU,SAAP,GAAmByU,UAAU,CAACvK,IAA9B;;EAEA,UAAIuK,UAAU,CAACX,OAAf,EAAwB;EACtBM,QAAAA,MAAM,CAAC9J,YAAP,CAAoB,cAApB,EAAoC7L,IAApC;EACD;;EAED,aAAO2V,MAAP;EACD;;EAEDM,IAAAA,aAAa,GAAG;EACd,YAAMC,QAAQ,GAAGxW,QAAQ,CAAC2D,aAAT,CAAuB,KAAvB,CAAjB;EACA6S,MAAAA,QAAQ,CAACrK,YAAT,CAAsB,SAAtB,EAAiC,KAAKoE,EAAtC;EACAiG,MAAAA,QAAQ,CAAC3N,SAAT,CAAmBM,GAAnB,CAAuBkM,iBAAvB;EAEArV,MAAAA,QAAQ,CAACqW,IAAT,CAAcH,WAAd,CAA0BM,QAA1B;EACD;;EAEDC,IAAAA,WAAW,GAAG;EACZ,aAAOzW,QAAQ,CAACqB,aAAT,CAAwB,IAAGgU,iBAAkB,aAAY,KAAK9E,EAAG,IAAjE,CAAP;EACD;;EAEDyF,IAAAA,cAAc,GAAG;EACf,WAAK5P,OAAL,CAAakF,OAAb,CAAqBjK,aAArB,CAAmC,aAAnC,EAAkDqV,WAAlD,CAA8D,KAAKtQ,OAAL,CAAakF,OAAb,CAAqBjK,aAArB,CAAmC,aAAnC,EAAkD0U,UAAhH;EACD;;EAEDK,IAAAA,YAAY,GAAG;EACb,YAAMO,MAAM,GAAG,KAAKvQ,OAAL,CAAakF,OAAb,CAAqBjK,aAArB,CAAmC,eAAnC,CAAf;EACA,WAAK+E,OAAL,CAAakF,OAAb,CAAqBjK,aAArB,CAAmC,gBAAnC,EAAqDqV,WAArD,CAAiEC,MAAjE;EACD;;EAEDC,IAAAA,MAAM,GAAG;EACP,YAAMC,aAAa,GAAGhX,MAAM,CAAC8U,gBAAP,CAAwB,KAAKvO,OAAL,CAAakF,OAArC,CAAtB;EACA,YAAMwL,MAAM,GAAGD,aAAa,CAACC,MAAd,CAAqBjU,KAArB,CAA2B,CAA3B,EAA8BgU,aAAa,CAACC,MAAd,CAAqBlM,MAArB,GAA8B,CAA5D,CAAf;EAEA,YAAMmM,GAAG,GAAIlX,MAAM,CAACmX,WAAP,GAAqB,CAAtB,GAA4BF,MAAM,GAAG,CAAjD;EACA,WAAK1Q,OAAL,CAAakF,OAAb,CAAqBnH,KAArB,CAA2B4S,GAA3B,GAAkC,GAAEA,GAAI,IAAxC;EACD;;EAEDvC,IAAAA,IAAI,GAAG;EACL,UAAI,KAAKpO,OAAL,CAAakF,OAAb,KAAyB,IAA7B,EAAmC;EACjC;EACA,aAAKuK,KAAL;EACD;;EAED,UAAI,KAAKzP,OAAL,CAAakF,OAAb,CAAqBzC,SAArB,CAA+BU,QAA/B,CAAwC,MAAxC,CAAJ,EAAqD;EACnD,eAAO,KAAP;EACD,OARI;;;EAWLsJ,MAAAA,UAAU,CAAC,MAAM;EACf,aAAKlB,YAAL,CAAkBrJ,KAAK,CAACxD,IAAxB;EACA,aAAKyR,aAAL,GAFe;;EAKf,aAAKU,YAAL;;EAEA,cAAMC,OAAO,GAAG,MAAM;EACpB,eAAKvF,YAAL,CAAkBrJ,KAAK,CAACvD,KAAxB;EACA,eAAKqB,OAAL,CAAakF,OAAb,CAAqB9B,mBAArB,CAAyClB,KAAK,CAAC7C,cAA/C,EAA+DyR,OAA/D;EACD,SAHD;;EAKA,aAAK9Q,OAAL,CAAakF,OAAb,CAAqBpI,gBAArB,CAAsCoF,KAAK,CAAC7C,cAA5C,EAA4DyR,OAA5D;EAEA,aAAK9Q,OAAL,CAAakF,OAAb,CAAqBzC,SAArB,CAA+BM,GAA/B,CAAmC,MAAnC;EAEA,aAAKyN,MAAL;EACD,OAjBS,EAiBP,EAjBO,CAAV;EAmBA,aAAO,IAAP;EACD;;EAEDzE,IAAAA,cAAc,CAACnK,KAAD,EAAQ;EACpB;EACA,UAAIA,KAAK,CAACqH,IAAN,KAAe,OAAnB,EAA4B;EAC1B,YAAI,KAAKjJ,OAAL,CAAaqP,kBAAb,CAAgCxR,IAAhC,CAAqCkT,CAAC,IAAIA,CAAC,KAAKnP,KAAK,CAACoP,OAAtD,CAAJ,EAAoE;EAClE,eAAKtC,IAAL;EACD;;EACD;EACD,OAPmB;;;EAUpB,UAAI9M,KAAK,CAACqH,IAAN,KAAe/G,KAAK,CAACnD,KAAzB,EAAgC;EAC9B;EACA,aAAK2P,IAAL;EACA;EACD,OAdmB;;;EAiBpB,UAAI9M,KAAK,CAACqH,IAAN,KAAe,OAAnB,EAA4B;EAC1B,cAAM5P,SAAS,GAAGuI,KAAK,CAACwC,MAAN,CAAa/B,YAAb,CAA0B,YAA1B,CAAlB;;EAEA,YAAIhJ,SAAJ,EAAe;EACb,eAAKkS,YAAL,CAAkBlS,SAAlB;EACD;;EAED,YAAIuI,KAAK,CAACwC,MAAN,CAAa/B,YAAb,CAA0B,cAA1B,MAA8CnI,IAAlD,EAAwD;EACtD,eAAKwU,IAAL;EACD;EACF;EACF;;EAEDA,IAAAA,IAAI,GAAG;EACL,UAAI,CAAC,KAAK1O,OAAL,CAAakF,OAAb,CAAqBzC,SAArB,CAA+BU,QAA/B,CAAwC,MAAxC,CAAL,EAAsD;EACpD,eAAO,KAAP;EACD;;EAED,WAAKoI,YAAL,CAAkBrJ,KAAK,CAACtD,IAAxB;EAEA,WAAKqS,YAAL;EAEA,WAAKjR,OAAL,CAAakF,OAAb,CAAqBzC,SAArB,CAA+BM,GAA/B,CAAmC,MAAnC;EACA,WAAK/C,OAAL,CAAakF,OAAb,CAAqBzC,SAArB,CAA+BC,MAA/B,CAAsC,MAAtC;EAEA,YAAM0N,QAAQ,GAAG,KAAKC,WAAL,EAAjB;;EAEA,YAAMa,QAAQ,GAAG,MAAM;EACrBtX,QAAAA,QAAQ,CAACqW,IAAT,CAAcK,WAAd,CAA0BF,QAA1B;EAEA,aAAKpQ,OAAL,CAAakF,OAAb,CAAqBzC,SAArB,CAA+BC,MAA/B,CAAsC,MAAtC;EAEA,aAAK6I,YAAL,CAAkBrJ,KAAK,CAACrD,MAAxB;EAEAuR,QAAAA,QAAQ,CAAChN,mBAAT,CAA6BlB,KAAK,CAAC7C,cAAnC,EAAmD6R,QAAnD,EAPqB;;EAUrB,YAAI,KAAK7G,cAAT,EAAyB;EACvBzQ,UAAAA,QAAQ,CAACqW,IAAT,CAAcK,WAAd,CAA0B,KAAKtQ,OAAL,CAAakF,OAAvC;EACA,eAAKlF,OAAL,CAAakF,OAAb,GAAuB,IAAvB;EACD;EACF,OAdD;;EAgBAkL,MAAAA,QAAQ,CAACtT,gBAAT,CAA0BoF,KAAK,CAAC7C,cAAhC,EAAgD6R,QAAhD;EACAd,MAAAA,QAAQ,CAAC3N,SAAT,CAAmBM,GAAnB,CAAuB,SAAvB;EAEA,aAAO,IAAP;EACD;;EAED8N,IAAAA,YAAY,GAAG;EACb,YAAMvB,OAAO,GAAG,KAAKtP,OAAL,CAAakF,OAAb,CAAqBxJ,gBAArB,CAAsC,sCAAtC,CAAhB;;EACA,UAAI4T,OAAJ,EAAa;EACXjU,QAAAA,KAAK,CAACC,IAAN,CAAWgU,OAAX,EAAoB/T,OAApB,CAA4BsU,MAAM,IAAI,KAAK1E,eAAL,CAAqB;EAAE/G,UAAAA,MAAM,EAAEyL,MAAV;EAAkBjO,UAAAA,KAAK,EAAE;EAAzB,SAArB,CAAtC;EACD,OAJY;EAOb;EACA;;;EACA,UAAI,KAAK5B,OAAL,CAAaoP,UAAjB,EAA6B;EAC3B,cAAMgB,QAAQ,GAAG,KAAKC,WAAL,EAAjB;EACA,aAAKlF,eAAL,CAAqB;EAAE/G,UAAAA,MAAM,EAAEgM,QAAV;EAAoBxO,UAAAA,KAAK,EAAEM,KAAK,CAACnD;EAAjC,SAArB;EACA,aAAKoM,eAAL,CAAqB;EAAE/G,UAAAA,MAAM,EAAExK,QAAV;EAAoBgI,UAAAA,KAAK,EAAE;EAA3B,SAArB;EACD;EACF;;EAEDqP,IAAAA,YAAY,GAAG;EACb,YAAM3B,OAAO,GAAG,KAAKtP,OAAL,CAAakF,OAAb,CAAqBxJ,gBAArB,CAAsC,sCAAtC,CAAhB;;EACA,UAAI4T,OAAJ,EAAa;EACXjU,QAAAA,KAAK,CAACC,IAAN,CAAWgU,OAAX,EAAoB/T,OAApB,CAA4BsU,MAAM,IAAI,KAAKxE,iBAAL,CAAuB;EAAEjH,UAAAA,MAAM,EAAEyL,MAAV;EAAkBjO,UAAAA,KAAK,EAAE;EAAzB,SAAvB,CAAtC;EACD;;EAED,UAAI,KAAK5B,OAAL,CAAaoP,UAAjB,EAA6B;EAC3B,cAAMgB,QAAQ,GAAG,KAAKC,WAAL,EAAjB;EACA,aAAKhF,iBAAL,CAAuB;EAAEjH,UAAAA,MAAM,EAAEgM,QAAV;EAAoBxO,UAAAA,KAAK,EAAEM,KAAK,CAACnD;EAAjC,SAAvB;EACA,aAAKsM,iBAAL,CAAuB;EAAEjH,UAAAA,MAAM,EAAExK,QAAV;EAAoBgI,UAAAA,KAAK,EAAE;EAA3B,SAAvB;EACD;EACF;;EAED,WAAOoK,UAAP,GAAoB;EAClB,aAAO9R,IAAP;EACD;;EAED,WAAO8K,YAAP,CAAoBhF,OAApB,EAA6B;EAC3B,aAAO,MAAMgF,YAAN,CAAmBgK,KAAnB,EAA0BhP,OAA1B,CAAP;EACD;;EAjP2B;EAoP9B;;;;;;;EAKAmI,EAAAA,kBAAkB,CAACC,CAAD,EAAIlO,IAAJ,EAAU8U,KAAV,CAAlB;EAEA;;;;;;EAKA,QAAMJ,UAAU,GAAG,EAAnB;EAEA,QAAMuC,MAAM,GAAGvX,QAAQ,CAAC8B,gBAAT,CAA2B,IAAGxB,IAAK,EAAnC,CAAf;;EACA,MAAIiX,MAAJ,EAAY;EACV9V,IAAAA,KAAK,CAACC,IAAN,CAAW6V,MAAX,EAAmB5V,OAAnB,CAA4B2J,OAAD,IAAa;EACtC,YAAM4F,MAAM,GAAG/B,mBAAmB,CAAC7D,OAAD,EAAUxF,kBAAV,EAA8B2M,qBAA9B,CAAlC;EACAvB,MAAAA,MAAM,CAAC5F,OAAP,GAAiBA,OAAjB;EAEA0J,MAAAA,UAAU,CAAC/S,IAAX,CAAgB;EAAEqJ,QAAAA,OAAF;EAAWkM,QAAAA,KAAK,EAAE,IAAIpC,KAAJ,CAAUlE,MAAV;EAAlB,OAAhB;EACD,KALD;EAMD;;EAEDlR,EAAAA,QAAQ,CAACkD,gBAAT,CAA0B,OAA1B,EAAoC8E,KAAD,IAAW;EAC5C,UAAMkN,cAAc,GAAGlN,KAAK,CAACwC,MAAN,CAAa/B,YAAb,CAA0B,aAA1B,CAAvB;;EACA,QAAIyM,cAAc,IAAIA,cAAc,KAAK5U,IAAzC,EAA+C;EAC7C,YAAMiQ,EAAE,GAAGvI,KAAK,CAACwC,MAAN,CAAa/B,YAAb,CAA0B,aAA1B,CAAX;EACA,YAAM6C,OAAO,GAAGtL,QAAQ,CAACqB,aAAT,CAAuBkP,EAAvB,CAAhB;EAEA,YAAMb,SAAS,GAAGsF,UAAU,CAAC/Q,IAAX,CAAgB4L,CAAC,IAAIA,CAAC,CAACvE,OAAF,KAAcA,OAAnC,CAAlB;;EAEA,UAAI,CAACoE,SAAL,EAAgB;EACd;EACD,OAR4C;;;EAW7C1H,MAAAA,KAAK,CAACwC,MAAN,CAAaiN,IAAb;EAEA/H,MAAAA,SAAS,CAAC8H,KAAV,CAAgBhD,IAAhB;EACD;EACF,GAjBD;EAmBA,SAAOY,KAAP;EACD,CAvUa,EAuUXvV,MAAM,CAAC2O,CAAP,GAAW3O,MAAM,CAAC2O,CAAlB,GAAsB,IAvUX,CAAd;;ECVA;;;;;AAKA;EAIA,MAAMkJ,MAAM,GAAG,CAAElJ,CAAD,IAAO;EAErB;;;;;EAMA,QAAMlO,IAAI,GAAG,QAAb;EACA,QAAMwF,kBAAkB,GAAG;EACzBwF,IAAAA,OAAO,EAAE,IADgB;EAEzBgK,IAAAA,KAAK,EAAE,IAFkB;EAGzBC,IAAAA,OAAO,EAAE,IAHgB;EAIzBC,IAAAA,UAAU,EAAE,IAJa;EAKzBnG,IAAAA,IAAI,EAAE/O,IALmB;EAMzBoV,IAAAA,OAAO,EAAE,CACP;EACE1N,MAAAA,KAAK,EAAE,QADT;EAEE+D,MAAAA,IAAI,EAAE,QAFR;EAGE4J,MAAAA,OAAO,EAAE,IAHX;EAIEC,MAAAA,KAAK,EAAE;EAJT,KADO,EAOP;EACE5N,MAAAA,KAAK,EAAE,SADT;EAEE+D,MAAAA,IAAI,EAAE,IAFR;EAGE4J,MAAAA,OAAO,EAAE,IAHX;EAIEC,MAAAA,KAAK,EAAE;EAJT,KAPO;EANgB,GAA3B;EAqBA,QAAMnD,qBAAqB,GAAG,CAC5B,YAD4B,CAA9B;EAIA;;;;;;EAMA,QAAMiF,MAAN,SAAqBtC,KAArB,CAA2B;EAEzB3U,IAAAA,WAAW,CAAC2F,OAAO,GAAG,EAAX,EAAe;EACxB,YAAMnF,QAAQ,GAAG,KACjB,gDADiB,GAEf,2CAFe,GAGb,6BAHa,GAIX,4BAJW,GAKT,+BALS,GAMX,QANW,GAOX,0BAPW,GAQT,SARS,GAST,mDATS,GAUX,QAVW,GAWX,4BAXW,GAYX,QAZW,GAab,QAba,GAcf,QAde,GAejB,QAfA;;EAiBA,UAAI,CAACQ,KAAK,CAAC+F,OAAN,CAAcpB,OAAO,CAACsP,OAAtB,CAAL,EAAqC;EACnCtP,QAAAA,OAAO,CAACsP,OAAR,GAAkB5P,kBAAkB,CAAC4P,OAArC;EACD;;EAED,YAAMtP,OAAN,EAAenF,QAAf;EACD;;EAEDuT,IAAAA,IAAI,GAAG;EACL,YAAMA,IAAN;EACA,WAAKmD,gBAAL;EACD;;EAED7C,IAAAA,IAAI,GAAG;EACL,YAAMA,IAAN;EACA,WAAK8C,gBAAL;EACD;;EAEDC,IAAAA,QAAQ,GAAG;EACT,aAAO,KAAKzR,OAAL,CAAakF,OAAb,CAAqBjK,aAArB,CAAmC,eAAnC,CAAP;EACD;;EAEDsW,IAAAA,gBAAgB,GAAG;EACjB,WAAKpG,eAAL,CAAqB;EAAE/G,QAAAA,MAAM,EAAE,KAAKqN,QAAL,EAAV;EAA2B7P,QAAAA,KAAK,EAAE;EAAlC,OAArB;EACD;;EAED4P,IAAAA,gBAAgB,GAAG;EACjB,WAAKnG,iBAAL,CAAuB;EAAEjH,QAAAA,MAAM,EAAE,KAAKqN,QAAL,EAAV;EAA2B7P,QAAAA,KAAK,EAAE;EAAlC,OAAvB;EACD;;EAEDmK,IAAAA,cAAc,CAACnK,KAAD,EAAQ;EACpB,UAAIA,KAAK,CAACwC,MAAN,KAAiB,KAAKqN,QAAL,EAArB,EAAsC;EACpC;EACD;;EAED,YAAM1F,cAAN,CAAqBnK,KAArB;EACD;;EAED8P,IAAAA,aAAa,CAACtL,KAAK,GAAG,EAAT,EAAa;EACxB,WAAKqL,QAAL,GAAgBrL,KAAhB,GAAwBA,KAAxB;EACD;;EAEDuL,IAAAA,aAAa,GAAG;EACd,aAAO,KAAKF,QAAL,GAAgBrL,KAAvB;EACD;;EAED,WAAO4F,UAAP,GAAoB;EAClB,aAAO9R,IAAP;EACD;;EAED,WAAO8K,YAAP,CAAoBhF,OAApB,EAA6B;EAC3B,aAAO,IAAIsR,MAAJ,CAAWtR,OAAX,CAAP;EACD;;EAvEwB;EA0E3B;;;;;;;EAKAmI,EAAAA,kBAAkB,CAACC,CAAD,EAAIlO,IAAJ,EAAUoX,MAAV,CAAlB;EAEA;;;;;;EAKA,QAAM1C,UAAU,GAAG,EAAnB;EACA,QAAMuC,MAAM,GAAGvX,QAAQ,CAAC8B,gBAAT,CAA2B,IAAGsT,KAAK,CAAChD,UAAN,EAAmB,EAAjD,CAAf;;EAEA,MAAImF,MAAJ,EAAY;EACV9V,IAAAA,KAAK,CAACC,IAAN,CAAW6V,MAAX,EAAmB5V,OAAnB,CAA4B2J,OAAD,IAAa;EACtC,YAAM4F,MAAM,GAAG/B,mBAAmB,CAAC7D,OAAD,EAAUxF,kBAAV,EAA8B2M,qBAA9B,CAAlC;EACAvB,MAAAA,MAAM,CAAC5F,OAAP,GAAiBA,OAAjB;;EAEA,UAAI4F,MAAM,CAAC7B,IAAP,KAAgB/O,IAApB,EAA0B;EACxB;EACA0U,QAAAA,UAAU,CAAC/S,IAAX,CAAgB,IAAIyV,MAAJ,CAAWxG,MAAX,CAAhB;EACD;EACF,KARD;EASD;;EAEDlR,EAAAA,QAAQ,CAACkD,gBAAT,CAA0B,OAA1B,EAAoC8E,KAAD,IAAW;EAC5C,UAAMkN,cAAc,GAAGlN,KAAK,CAACwC,MAAN,CAAa/B,YAAb,CAA0B,aAA1B,CAAvB;;EACA,QAAIyM,cAAc,IAAIA,cAAc,KAAK5U,IAAzC,EAA+C;EAC7C,YAAMiQ,EAAE,GAAGvI,KAAK,CAACwC,MAAN,CAAa/B,YAAb,CAA0B,aAA1B,CAAX;EACA,YAAM6C,OAAO,GAAGtL,QAAQ,CAACqB,aAAT,CAAuBkP,EAAvB,CAAhB;EAEA,YAAMb,SAAS,GAAGsF,UAAU,CAAC/Q,IAAX,CAAgB4L,CAAC,IAAIA,CAAC,CAACvE,OAAF,KAAcA,OAAnC,CAAlB;;EAEA,UAAI,CAACoE,SAAL,EAAgB;EACd;EACD,OAR4C;;;EAW7C1H,MAAAA,KAAK,CAACwC,MAAN,CAAaiN,IAAb;EAEA/H,MAAAA,SAAS,CAAC8H,KAAV,CAAgBhD,IAAhB;EACD;EACF,GAjBD;EAmBA,SAAOkD,MAAP;EACD,CAjKc,EAiKZ7X,MAAM,CAAC2O,CAAP,GAAW3O,MAAM,CAAC2O,CAAlB,GAAsB,IAjKV,CAAf;;ECTA;;;;;AAKA;EAIA,MAAMwJ,OAAO,GAAG,CAAExJ,CAAD,IAAO;EAEtB;;;;;EAMA,QAAMlO,IAAI,GAAG,SAAb;EACA,QAAMwF,kBAAkB,GAAG;EACzBwF,IAAAA,OAAO,EAAE,IADgB;EAEzBgK,IAAAA,KAAK,EAAE,IAFkB;EAGzBC,IAAAA,OAAO,EAAE,IAHgB;EAIzBC,IAAAA,UAAU,EAAE,IAJa;EAKzBnG,IAAAA,IAAI,EAAE/O,IALmB;EAMzBoV,IAAAA,OAAO,EAAE,CACP;EACE1N,MAAAA,KAAK,EAAE,QADT;EAEE+D,MAAAA,IAAI,EAAE,QAFR;EAGE4J,MAAAA,OAAO,EAAE,IAHX;EAIEC,MAAAA,KAAK,EAAE;EAJT,KADO,EAOP;EACE5N,MAAAA,KAAK,EAAE,SADT;EAEE+D,MAAAA,IAAI,EAAE,IAFR;EAGE4J,MAAAA,OAAO,EAAE,IAHX;EAIEC,MAAAA,KAAK,EAAE;EAJT,KAPO;EANgB,GAA3B;EAqBA,QAAMnD,qBAAqB,GAAG,CAC5B,YAD4B,CAA9B;EAIA;;;;;;EAMA,QAAMuF,OAAN,SAAsB5C,KAAtB,CAA4B;EAE1B3U,IAAAA,WAAW,CAAC2F,OAAO,GAAG,EAAX,EAAe;EACxB,YAAMnF,QAAQ,GAAG,KACjB,gDADiB,GAEf,2CAFe,GAGb,6BAHa,GAIX,4BAJW,GAKT,+BALS,GAMX,QANW,GAOX,0BAPW,GAQT,SARS,GASX,QATW,GAUX,4BAVW,GAWX,QAXW,GAYb,QAZa,GAaf,QAbe,GAcjB,QAdA;;EAgBA,UAAI,CAACQ,KAAK,CAAC+F,OAAN,CAAcpB,OAAO,CAACsP,OAAtB,CAAL,EAAqC;EACnCtP,QAAAA,OAAO,CAACsP,OAAR,GAAkB5P,kBAAkB,CAAC4P,OAArC;EACD;;EAED,YAAMtP,OAAN,EAAenF,QAAf;EACD;;EAED,WAAOmR,UAAP,GAAoB;EAClB,aAAO9R,IAAP;EACD;;EAED,WAAO8K,YAAP,CAAoBhF,OAApB,EAA6B;EAC3B,aAAO,IAAI4R,OAAJ,CAAY5R,OAAZ,CAAP;EACD;;EAhCyB;EAmC5B;;;;;;;EAKAmI,EAAAA,kBAAkB,CAACC,CAAD,EAAIlO,IAAJ,EAAU0X,OAAV,CAAlB;EAEA;;;;;;EAKA,QAAMhD,UAAU,GAAG,EAAnB;EACA,QAAMuC,MAAM,GAAGvX,QAAQ,CAAC8B,gBAAT,CAA2B,IAAGsT,KAAK,CAAChD,UAAN,EAAmB,EAAjD,CAAf;;EAEA,MAAImF,MAAJ,EAAY;EACV9V,IAAAA,KAAK,CAACC,IAAN,CAAW6V,MAAX,EAAmB5V,OAAnB,CAA4B2J,OAAD,IAAa;EACtC,YAAM4F,MAAM,GAAG/B,mBAAmB,CAAC7D,OAAD,EAAUxF,kBAAV,EAA8B2M,qBAA9B,CAAlC;EACAvB,MAAAA,MAAM,CAAC5F,OAAP,GAAiBA,OAAjB;;EAEA,UAAI4F,MAAM,CAAC7B,IAAP,KAAgB/O,IAApB,EAA0B;EACxB;EACA0U,QAAAA,UAAU,CAAC/S,IAAX,CAAgB,IAAI+V,OAAJ,CAAY9G,MAAZ,CAAhB;EACD;EACF,KARD;EASD;;EAEDlR,EAAAA,QAAQ,CAACkD,gBAAT,CAA0B,OAA1B,EAAoC8E,KAAD,IAAW;EAC5C,UAAMkN,cAAc,GAAGlN,KAAK,CAACwC,MAAN,CAAa/B,YAAb,CAA0B,aAA1B,CAAvB;;EACA,QAAIyM,cAAc,IAAIA,cAAc,KAAK5U,IAAzC,EAA+C;EAC7C,YAAMiQ,EAAE,GAAGvI,KAAK,CAACwC,MAAN,CAAa/B,YAAb,CAA0B,aAA1B,CAAX;EACA,YAAM6C,OAAO,GAAGtL,QAAQ,CAACqB,aAAT,CAAuBkP,EAAvB,CAAhB;EAEA,YAAMb,SAAS,GAAGsF,UAAU,CAAC/Q,IAAX,CAAgB4L,CAAC,IAAIA,CAAC,CAACvE,OAAF,KAAcA,OAAnC,CAAlB;;EAEA,UAAI,CAACoE,SAAL,EAAgB;EACd;EACD,OAR4C;;;EAW7C1H,MAAAA,KAAK,CAACwC,MAAN,CAAaiN,IAAb;EAEA/H,MAAAA,SAAS,CAAC8H,KAAV,CAAgBhD,IAAhB;EACD;EACF,GAjBD;EAmBA,SAAOwD,OAAP;EACD,CA1He,EA0HbnY,MAAM,CAAC2O,CAAP,GAAW3O,MAAM,CAAC2O,CAAlB,GAAsB,IA1HT,CAAhB;;ECTA;;;;;AAKA;EAGA,MAAMyJ,MAAM,GAAG,CAAEzJ,CAAD,IAAO;EACrB;;;;;EAMA,QAAMlO,IAAI,GAAG,QAAb;EACA,QAAMC,OAAO,GAAG,OAAhB;EACA,QAAMuF,kBAAkB,GAAG;EACzBwF,IAAAA,OAAO,EAAE,IADgB;EAEzB4M,IAAAA,KAAK,EAAE,IAFkB;EAGzBC,IAAAA,IAAI,EAAE;EAHmB,GAA3B;EAKA,QAAM1F,qBAAqB,GAAG,EAA9B;EAEA;;;;;;EAMA,QAAMwF,MAAN,SAAqBhI,SAArB,CAA+B;EAE7BxP,IAAAA,WAAW,CAAC2F,OAAO,GAAG,EAAX,EAAe;EACxB,YAAM9F,IAAN,EAAYC,OAAZ,EAAqBuF,kBAArB,EAAyCM,OAAzC,EAAkDqM,qBAAlD,EAAyE,KAAzE,EAAgF,KAAhF,EADwB;;EAIxB,YAAM2F,aAAa,GAAG,KAAKC,UAAL,EAAtB;;EACA,UAAI,OAAO,KAAKjS,OAAL,CAAa8R,KAApB,KAA8B,QAA9B,IACC,CAACE,aAAa,CAACvP,SAAd,CAAwBU,QAAxB,CAAkC,SAAQ,KAAKnD,OAAL,CAAa8R,KAAM,EAA7D,CADN,EACuE;EACrEE,QAAAA,aAAa,CAACvP,SAAd,CAAwBM,GAAxB,CAA6B,SAAQ,KAAK/C,OAAL,CAAa8R,KAAM,EAAxD;EACD;;EAED,WAAKI,UAAL,GAAkB,KAAKlS,OAAL,CAAa+R,IAAb,KAAsB,IAAxC;EACD;;EAEDI,IAAAA,aAAa,GAAG;EACd,UAAI,CAAC,KAAKD,UAAV,EAAsB;EACpB,cAAMH,IAAI,GAAG,KAAK/R,OAAL,CAAakF,OAAb,CAAqBkN,qBAArB,EAAb;EACA,eAAOL,IAAI,CAACrB,MAAZ;EACD;;EAED,aAAO,KAAK1Q,OAAL,CAAa+R,IAApB;EACD;;EAEDE,IAAAA,UAAU,GAAG;EACX,aAAO,KAAKjS,OAAL,CAAakF,OAAb,CAAqBjK,aAArB,CAAmC,iBAAnC,CAAP;EACD;;EAEDmT,IAAAA,IAAI,GAAG;EACL,UAAI,KAAKpO,OAAL,CAAakF,OAAb,CAAqBzC,SAArB,CAA+BU,QAA/B,CAAwC,MAAxC,CAAJ,EAAqD;EACnD,aAAKnD,OAAL,CAAakF,OAAb,CAAqBzC,SAArB,CAA+BC,MAA/B,CAAsC,MAAtC;EACD;;EAED,YAAMqP,IAAI,GAAG,KAAKI,aAAL,EAAb;EACA,WAAKnS,OAAL,CAAa+R,IAAb,GAAoBA,IAApB;;EAEA,UAAI,KAAKG,UAAT,EAAqB;EACnB,aAAKlS,OAAL,CAAakF,OAAb,CAAqBnH,KAArB,CAA2BsU,KAA3B,GAAoC,GAAE,KAAKrS,OAAL,CAAa+R,IAAK,IAAxD;EACA,aAAK/R,OAAL,CAAakF,OAAb,CAAqBnH,KAArB,CAA2B2S,MAA3B,GAAqC,GAAE,KAAK1Q,OAAL,CAAa+R,IAAK,IAAzD;EAEA,cAAMC,aAAa,GAAG,KAAKC,UAAL,EAAtB;EACAD,QAAAA,aAAa,CAACjU,KAAd,CAAoBsU,KAApB,GAA6B,GAAE,KAAKrS,OAAL,CAAa+R,IAAK,IAAjD;EACAC,QAAAA,aAAa,CAACjU,KAAd,CAAoB2S,MAApB,GAA8B,GAAE,KAAK1Q,OAAL,CAAa+R,IAAK,IAAlD;EACD;;EAED,aAAO,IAAP;EACD;;EAEDO,IAAAA,OAAO,CAACC,cAAc,GAAG,IAAlB,EAAwB;EAC7B,UAAIA,cAAJ,EAAoB;EAClB,aAAKnE,IAAL;EACD,OAFD,MAEO;EACL,aAAKM,IAAL;EACD;;EAED,YAAMsD,aAAa,GAAG,KAAKC,UAAL,EAAtB;;EAEA,UAAIM,cAAc,IAChB,CAACP,aAAa,CAACvP,SAAd,CAAwBU,QAAxB,CAAiC,yBAAjC,CADH,EACgE;EAC9D6O,QAAAA,aAAa,CAACvP,SAAd,CAAwBM,GAAxB,CAA4B,yBAA5B;EACA,eAAO,IAAP;EACD;;EAED,UAAI,CAACwP,cAAD,IACFP,aAAa,CAACvP,SAAd,CAAwBU,QAAxB,CAAiC,yBAAjC,CADF,EAC+D;EAC7D6O,QAAAA,aAAa,CAACvP,SAAd,CAAwBC,MAAxB,CAA+B,yBAA/B;EACD;;EAED,aAAO,IAAP;EACD;;EAEDgM,IAAAA,IAAI,GAAG;EACL,UAAI,CAAC,KAAK1O,OAAL,CAAakF,OAAb,CAAqBzC,SAArB,CAA+BU,QAA/B,CAAwC,MAAxC,CAAL,EAAsD;EACpD,aAAKnD,OAAL,CAAakF,OAAb,CAAqBzC,SAArB,CAA+BM,GAA/B,CAAmC,MAAnC;EACD;;EAED,aAAO,IAAP;EACD;;EAED,WAAOiJ,UAAP,GAAoB;EAClB,aAAO9R,IAAP;EACD;;EAED,WAAO8K,YAAP,CAAoBhF,OAApB,EAA6B;EAC3B,aAAO,MAAMgF,YAAN,CAAmB6M,MAAnB,EAA2B7R,OAA3B,CAAP;EACD;;EArF4B;EAwF/B;;;;;;;EAKAmI,EAAAA,kBAAkB,CAACC,CAAD,EAAIlO,IAAJ,EAAU2X,MAAV,CAAlB;EAEA,SAAOA,MAAP;EACD,CAtHc,EAsHZpY,MAAM,CAAC2O,CAAP,GAAW3O,MAAM,CAAC2O,CAAlB,GAAsB,IAtHV,CAAf;;ECRA;;;;;AAKA;EAKA,MAAMyJ,QAAM,GAAG,CAAEzJ,CAAD,IAAO;EAErB;;;;;EAMA,QAAMlO,IAAI,GAAG,QAAb;EACA,QAAMwF,kBAAkB,GAAG;EACzBwF,IAAAA,OAAO,EAAE,IADgB;EAEzBgK,IAAAA,KAAK,EAAE,IAFkB;EAGzBC,IAAAA,OAAO,EAAE,IAHgB;EAIzBC,IAAAA,UAAU,EAAE,IAJa;EAKzBnG,IAAAA,IAAI,EAAE/O,IALmB;EAMzBoV,IAAAA,OAAO,EAAE;EANgB,GAA3B;EAQA,QAAMjD,qBAAqB,GAAG,CAC5B,YAD4B,CAA9B;EAIA;;;;;;EAMA,QAAMwF,SAAN,SAAqB7C,KAArB,CAA2B;EAEzB3U,IAAAA,WAAW,CAAC2F,OAAO,GAAG,EAAX,EAAe;EACxB,YAAMnF,QAAQ,GAAG,KACjB,gDADiB,GAEf,2CAFe,GAGb,6BAHa,GAIX,4BAJW,GAKT,+BALS,GAMX,QANW,GAOX,0BAPW,GAQT,SARS,GAST,mCATS,GAUP,sCAVO,GAWL,oCAXK,GAYP,QAZO,GAaT,QAbS,GAcX,QAdW,GAeX,4BAfW,GAgBX,QAhBW,GAiBb,QAjBa,GAkBf,QAlBe,GAmBjB,QAnBA;;EAqBA,UAAI,CAACQ,KAAK,CAAC+F,OAAN,CAAcpB,OAAO,CAACsP,OAAtB,CAAL,EAAqC;EACnCtP,QAAAA,OAAO,CAACsP,OAAR,GAAkBtP,OAAO,CAACoP,UAAR,GAAqB1P,kBAAkB,CAAC4P,OAAxC,GAAkD,EAApE;EACD;;EAED,YAAMtP,OAAN,EAAenF,QAAf;EAEA,WAAK2X,OAAL,GAAe,IAAf;EACD;;EAEDpE,IAAAA,IAAI,GAAG;EACL,YAAMA,IAAN;EAEA,WAAKoE,OAAL,GAAe,IAAIC,MAAJ,CAAY;EAACvN,QAAAA,OAAO,EAAE,KAAK8F,UAAL,GAAkB/P,aAAlB,CAAgC,SAAhC;EAAV,OAAZ,CAAf;EACA,WAAKuX,OAAL,CAAaF,OAAb,CAAqB,IAArB;EACD;;EAED5D,IAAAA,IAAI,GAAG;EACL,YAAMA,IAAN;EAEA,WAAK8D,OAAL,CAAaF,OAAb,CAAqB,KAArB;EACA,WAAKE,OAAL,GAAe,IAAf;EACD;;EAED,WAAOxG,UAAP,GAAoB;EAClB,aAAO9R,IAAP;EACD;;EAED,WAAO8K,YAAP,CAAoBhF,OAApB,EAA6B;EAC3B,aAAO,IAAI6R,SAAJ,CAAW7R,OAAX,CAAP;EACD;;EArDwB;EAwD3B;;;;;;;EAKAmI,EAAAA,kBAAkB,CAACC,CAAD,EAAIlO,IAAJ,EAAU2X,SAAV,CAAlB;EAEA;;;;;;EAKA,QAAMjD,UAAU,GAAG,EAAnB;EACA,QAAMuC,MAAM,GAAGvX,QAAQ,CAAC8B,gBAAT,CAA2B,IAAGsT,KAAK,CAAChD,UAAN,EAAmB,EAAjD,CAAf;;EAEA,MAAImF,MAAJ,EAAY;EACV9V,IAAAA,KAAK,CAACC,IAAN,CAAW6V,MAAX,EAAmB5V,OAAnB,CAA4B2J,OAAD,IAAa;EACtC,YAAM4F,MAAM,GAAG/B,mBAAmB,CAAC7D,OAAD,EAAUxF,kBAAV,EAA8B2M,qBAA9B,CAAlC;EACAvB,MAAAA,MAAM,CAAC5F,OAAP,GAAiBA,OAAjB;;EAEA,UAAI4F,MAAM,CAAC7B,IAAP,KAAgB/O,IAApB,EAA0B;EACxB;EACA0U,QAAAA,UAAU,CAAC/S,IAAX,CAAgB,IAAIgW,SAAJ,CAAW/G,MAAX,CAAhB;EACD;EACF,KARD;EASD;;EAEDlR,EAAAA,QAAQ,CAACkD,gBAAT,CAA0B,OAA1B,EAAoC8E,KAAD,IAAW;EAC5C,UAAMkN,cAAc,GAAGlN,KAAK,CAACwC,MAAN,CAAa/B,YAAb,CAA0B,aAA1B,CAAvB;;EACA,QAAIyM,cAAc,IAAIA,cAAc,KAAK5U,IAAzC,EAA+C;EAC7C,YAAMiQ,EAAE,GAAGvI,KAAK,CAACwC,MAAN,CAAa/B,YAAb,CAA0B,aAA1B,CAAX;EACA,YAAM6C,OAAO,GAAGtL,QAAQ,CAACqB,aAAT,CAAuBkP,EAAvB,CAAhB;EAEA,YAAMb,SAAS,GAAGsF,UAAU,CAAC/Q,IAAX,CAAgB4L,CAAC,IAAIA,CAAC,CAACvE,OAAF,KAAcA,OAAnC,CAAlB;;EAEA,UAAI,CAACoE,SAAL,EAAgB;EACd;EACD,OAR4C;;;EAW7C1H,MAAAA,KAAK,CAACwC,MAAN,CAAaiN,IAAb;EAEA/H,MAAAA,SAAS,CAAC8H,KAAV,CAAgBhD,IAAhB;EACD;EACF,GAjBD;EAmBA,SAAOyD,SAAP;EACD,CAlIc,EAkIZpY,MAAM,CAAC2O,CAAP,GAAW3O,MAAM,CAAC2O,CAAlB,GAAsB,IAlIV,CAAf;;ECVA;;;;;AAKA;EAIA,MAAMsK,YAAY,GAAG,CAAEtK,CAAD,IAAO;EAC3B;;;;;EAMA,QAAMlO,IAAI,GAAG,cAAb;EACA,QAAMC,OAAO,GAAG,OAAhB;EACA,QAAMuF,kBAAkB,GAAG;EACzBwF,IAAAA,OAAO,EAAE,IADgB;EAEzBiK,IAAAA,OAAO,EAAE,EAFgB;EAGzBwD,IAAAA,UAAU,EAAE,IAHa;EAIzBtF,IAAAA,OAAO,EAAE,IAJgB;EAKzBuF,IAAAA,UAAU,EAAE;EALa,GAA3B;EAOA,QAAMvG,qBAAqB,GAAG,CAC5B,SAD4B,CAA9B;EAIA;;;;;;EAMA,QAAMqG,YAAN,SAA2B7I,SAA3B,CAAqC;EAEnCxP,IAAAA,WAAW,CAAC2F,OAAO,GAAG,EAAX,EAAe;EACxB,YAAM9F,IAAN,EAAYC,OAAZ,EAAqBuF,kBAArB,EAAyCM,OAAzC,EAAkDqM,qBAAlD,EAAyE,IAAzE,EAA+E,KAA/E;EAEA,WAAKxR,QAAL,GAAgB,KAChB,4BADgB,GAEd,kCAFc,GAGZ,6BAHY,GAIZ,qFAJY,GAKV,yCALU,GAMZ,WANY,GAOd,QAPc,GAQhB,QARA;;EAUA,UAAI,KAAKwP,cAAT,EAAyB;EACvB,aAAKoF,KAAL;EACD;;EAED,WAAKoD,eAAL,GAAuB,IAAvB;EACD;;EAEDpD,IAAAA,KAAK,GAAG;EACN,YAAMC,OAAO,GAAG9V,QAAQ,CAAC2D,aAAT,CAAuB,KAAvB,CAAhB;EAEAmS,MAAAA,OAAO,CAACjU,SAAR,GAAoB,KAAKZ,QAAzB;EAEA,WAAKmF,OAAL,CAAakF,OAAb,GAAuBwK,OAAO,CAACC,UAA/B,CALM;;EAQN,WAAK3P,OAAL,CAAakF,OAAb,CAAqBjK,aAArB,CAAmC,UAAnC,EAA+CQ,SAA/C,GAA2D,KAAKuE,OAAL,CAAamP,OAAxE;;EAEA,UAAI,CAAC,KAAKnP,OAAL,CAAa2S,UAAlB,EAA8B;EAC5B,aAAK3S,OAAL,CAAakF,OAAb,CAAqBjK,aAArB,CAAmC,QAAnC,EAA6C8C,KAA7C,CAAmD+U,OAAnD,GAA6D,MAA7D;EACD;;EAEDlZ,MAAAA,QAAQ,CAACqW,IAAT,CAAcH,WAAd,CAA0B,KAAK9P,OAAL,CAAakF,OAAvC;EAEA,WAAKuF,aAAL;EACD;;EAED2D,IAAAA,IAAI,GAAG;EACL,UAAI,KAAKpO,OAAL,CAAakF,OAAb,KAAyB,IAA7B,EAAmC;EACjC;EACA,aAAKuK,KAAL;EACD;;EAED,UAAI,KAAKzP,OAAL,CAAakF,OAAb,CAAqBzC,SAArB,CAA+BU,QAA/B,CAAwC,MAAxC,CAAJ,EAAqD;EACnD,eAAO,KAAP;EACD,OARI;;;EAWL,UAAI,KAAKnD,OAAL,CAAa4S,UAAjB,EAA6B;EAC3B,aAAK5S,OAAL,CAAakF,OAAb,CAAqB6N,eAArB,CAAqC,OAArC;EACA,aAAK/S,OAAL,CAAakF,OAAb,CAAqBa,YAArB,CAAkC,OAAlC,EAA2C,cAA3C;EAEA,aAAK/F,OAAL,CAAakF,OAAb,CAAqBzC,SAArB,CAA+BM,GAA/B,CAAoC,MAAK,KAAK/C,OAAL,CAAa4S,UAAW,EAAjE;EACA,aAAK5S,OAAL,CAAakF,OAAb,CAAqBjK,aAArB,CAAmC,QAAnC,EAA6CwH,SAA7C,CAAuDM,GAAvD,CAA4D,OAAM,KAAK/C,OAAL,CAAa4S,UAAW,EAA1F;EACD;;EAED,UAAI,KAAK5S,OAAL,CAAa2S,UAAjB,EAA6B;EAC3B;EACA,cAAMK,aAAa,GAAG,KAAKhT,OAAL,CAAakF,OAAb,CAAqBjK,aAArB,CAAmC,QAAnC,CAAtB;EACA,aAAKkQ,eAAL,CAAqB;EAAE/G,UAAAA,MAAM,EAAE4O,aAAV;EAAyBpR,UAAAA,KAAK,EAAE;EAAhC,SAArB;EACD;;EAED6K,MAAAA,UAAU,CAAC,MAAM;EACf,aAAKzM,OAAL,CAAakF,OAAb,CAAqBzC,SAArB,CAA+BM,GAA/B,CAAmC,MAAnC,EADe;;EAIf,cAAMkQ,mBAAmB,GAAGrZ,QAAQ,CAAC8B,gBAAT,CAA0B,oBAA1B,KAAmD,EAA/E;EACA,YAAIwX,YAAY,GAAG,CAAnB;EACAD,QAAAA,mBAAmB,CAAC1X,OAApB,CAA6B4X,YAAD,IAAkB;EAC5C,cAAI,KAAKnT,OAAL,CAAakF,OAAb,KAAyBiO,YAA7B,EAA2C;EACzC,kBAAMpV,KAAK,GAAGwQ,gBAAgB,CAAC4E,YAAD,CAA9B;EACAD,YAAAA,YAAY,IAAIC,YAAY,CAACC,YAAb,GAA4BhK,QAAQ,CAACrL,KAAK,CAACsV,YAAP,EAAqB,EAArB,CAApD;EACD;EACF,SALD;EAOA,aAAKrT,OAAL,CAAakF,OAAb,CAAqBnH,KAArB,CAA2BuV,SAA3B,GAAwC,cAAaJ,YAAa,KAAlE;EAEA,aAAK3H,YAAL,CAAkBrJ,KAAK,CAACxD,IAAxB;;EAEA,cAAMoS,OAAO,GAAG,MAAM;EACpB,eAAKvF,YAAL,CAAkBrJ,KAAK,CAACvD,KAAxB;EACA,eAAKqB,OAAL,CAAakF,OAAb,CAAqB9B,mBAArB,CAAyClB,KAAK,CAAC7C,cAA/C,EAA+DyR,OAA/D;EACD,SAHD;;EAKA,aAAK9Q,OAAL,CAAakF,OAAb,CAAqBpI,gBAArB,CAAsCoF,KAAK,CAAC7C,cAA5C,EAA4DyR,OAA5D;EAED,OAxBS,EAwBP,CAxBO,CAAV;;EA0BA,UAAIyC,MAAM,CAACC,SAAP,CAAiB,KAAKxT,OAAL,CAAaqN,OAA9B,KAA0C,KAAKrN,OAAL,CAAaqN,OAAb,GAAuB,CAArE,EAAwE;EACtE;EACA,aAAKwF,eAAL,GAAuBpG,UAAU,CAAC,MAAM;EACtC,eAAKiC,IAAL;EACD,SAFgC,EAE9B,KAAK1O,OAAL,CAAaqN,OAAb,GAAuB,CAFO,CAAjC;EAGD;;EAED,aAAO,IAAP;EACD;;EAEDqB,IAAAA,IAAI,GAAG;EACL;;;;EAIA,UAAI,KAAKmE,eAAT,EAA0B;EACxBY,QAAAA,YAAY,CAAC,KAAKZ,eAAN,CAAZ;EACA,aAAKA,eAAL,GAAuB,IAAvB;EACD;;EAED,UAAI,CAAC,KAAK7S,OAAL,CAAakF,OAAb,CAAqBzC,SAArB,CAA+BU,QAA/B,CAAwC,MAAxC,CAAL,EAAsD;EACpD,eAAO,KAAP;EACD;;EAED,WAAKoI,YAAL,CAAkBrJ,KAAK,CAACtD,IAAxB;;EAEA,UAAI,KAAKoB,OAAL,CAAa2S,UAAjB,EAA6B;EAC3B,cAAMK,aAAa,GAAG,KAAKhT,OAAL,CAAakF,OAAb,CAAqBjK,aAArB,CAAmC,QAAnC,CAAtB;EACA,aAAKoQ,iBAAL,CAAuB;EAAEjH,UAAAA,MAAM,EAAE4O,aAAV;EAAyBpR,UAAAA,KAAK,EAAE;EAAhC,SAAvB;EACD;;EAED,WAAK5B,OAAL,CAAakF,OAAb,CAAqBzC,SAArB,CAA+BC,MAA/B,CAAsC,MAAtC;EACA,WAAK1C,OAAL,CAAakF,OAAb,CAAqBzC,SAArB,CAA+BM,GAA/B,CAAmC,MAAnC;;EAEA,YAAMmO,QAAQ,GAAG,MAAM;EACrB,aAAKlR,OAAL,CAAakF,OAAb,CAAqB9B,mBAArB,CAAyClB,KAAK,CAAC7C,cAA/C,EAA+D6R,QAA/D;EACA,aAAKlR,OAAL,CAAakF,OAAb,CAAqBzC,SAArB,CAA+BC,MAA/B,CAAsC,MAAtC;EAEA,aAAK6I,YAAL,CAAkBrJ,KAAK,CAACrD,MAAxB;;EAEA,YAAI,KAAKwL,cAAT,EAAyB;EACvBzQ,UAAAA,QAAQ,CAACqW,IAAT,CAAcK,WAAd,CAA0B,KAAKtQ,OAAL,CAAakF,OAAvC;EACA,eAAKlF,OAAL,CAAakF,OAAb,GAAuB,IAAvB;EACD;EACF,OAVD;;EAYA,WAAKlF,OAAL,CAAakF,OAAb,CAAqBpI,gBAArB,CAAsCoF,KAAK,CAAC7C,cAA5C,EAA4D6R,QAA5D;EAEA,aAAO,IAAP;EACD;;EAEDnF,IAAAA,cAAc,GAAG;EACf,WAAK2C,IAAL;EACD;;EAED,WAAO1C,UAAP,GAAoB;EAClB,aAAO9R,IAAP;EACD;;EAED,WAAO8K,YAAP,CAAoBhF,OAApB,EAA6B;EAC3B,aAAO,MAAMgF,YAAN,CAAmB0N,YAAnB,EAAiC1S,OAAjC,CAAP;EACD;;EAzJkC;EA4JrC;;;;;;;EAKAmI,EAAAA,kBAAkB,CAACC,CAAD,EAAIlO,IAAJ,EAAUwY,YAAV,CAAlB;EAGA,SAAOA,YAAP;EACD,CA/LoB,EA+LlBjZ,MAAM,CAAC2O,CAAP,GAAW3O,MAAM,CAAC2O,CAAlB,GAAsB,IA/LJ,CAArB;;ECTA;;;;;AAKA;EAKA,MAAMsL,QAAQ,GAAG,CAAEtL,CAAD,IAAO;EACvB;;;;;EAMA,QAAMlO,IAAI,GAAG,UAAb;EACA,QAAMC,OAAO,GAAG,OAAhB;EACA,QAAMuF,kBAAkB,GAAG;EACzBwF,IAAAA,OAAO,EAAE,IADgB;EAEzByO,IAAAA,MAAM,EAAE;EAFiB,GAA3B;EAIA,QAAMtH,qBAAqB,GAAG,EAA9B;EAGA;;;;;;EAMA,QAAMqH,QAAN,SAAuB7J,SAAvB,CAAiC;EAE/BxP,IAAAA,WAAW,CAAC2F,OAAO,GAAG,EAAX,EAAe;EACxB,YAAM9F,IAAN,EAAYC,OAAZ,EAAqBuF,kBAArB,EAAyCM,OAAzC,EAAkDqM,qBAAlD,EAAyE,KAAzE,EAAgF,KAAhF;EAEA,WAAK8B,YAAL,GAAoB,KAApB,CAHwB;;EAMxB,UAAI,KAAKnO,OAAL,CAAa2T,MAAjB,EAAyB;EACvB,aAAKvF,IAAL;EACD;EACF;;EAEDwF,IAAAA,SAAS,GAAG;EACV,aAAO,KAAK5T,OAAL,CAAakF,OAAb,CAAqBkN,qBAArB,CAA2C,KAAKpS,OAAL,CAAakF,OAAxD,EAAiEwL,MAAxE;EACD;;EAEDiD,IAAAA,MAAM,GAAG;EACP,UAAI,KAAK3T,OAAL,CAAakF,OAAb,CAAqBzC,SAArB,CAA+BU,QAA/B,CAAwC,MAAxC,CAAJ,EAAqD;EACnD,eAAO,KAAKuL,IAAL,EAAP;EACD;;EAED,aAAO,KAAKN,IAAL,EAAP;EACD;;EAEDA,IAAAA,IAAI,GAAG;EACL,UAAI,KAAKD,YAAT,EAAuB;EACrB,eAAO,KAAP;EACD;;EAED,UAAI,KAAKnO,OAAL,CAAakF,OAAb,CAAqBzC,SAArB,CAA+BU,QAA/B,CAAwC,MAAxC,CAAJ,EAAqD;EACnD,eAAO,KAAP;EACD;;EAED,WAAKgL,YAAL,GAAoB,IAApB;EAEA,WAAK5C,YAAL,CAAkBrJ,KAAK,CAACxD,IAAxB;;EAEA,YAAMmV,WAAW,GAAG,MAAM;EACxB,aAAKtI,YAAL,CAAkBrJ,KAAK,CAACvD,KAAxB;EAEA,aAAKqB,OAAL,CAAakF,OAAb,CAAqBzC,SAArB,CAA+BM,GAA/B,CAAmC,MAAnC;EACA,aAAK/C,OAAL,CAAakF,OAAb,CAAqBzC,SAArB,CAA+BC,MAA/B,CAAsC,YAAtC;EACA,aAAK1C,OAAL,CAAakF,OAAb,CAAqB9B,mBAArB,CAAyClB,KAAK,CAAC7C,cAA/C,EAA+DwU,WAA/D;EAEA,aAAK7T,OAAL,CAAakF,OAAb,CAAqBa,YAArB,CAAkC,eAAlC,EAAmD,IAAnD;EAEA,aAAKoI,YAAL,GAAoB,KAApB;EACD,OAVD;;EAYA,UAAI,CAAC,KAAKnO,OAAL,CAAakF,OAAb,CAAqBzC,SAArB,CAA+BU,QAA/B,CAAwC,YAAxC,CAAL,EAA4D;EAC1D,aAAKnD,OAAL,CAAakF,OAAb,CAAqBzC,SAArB,CAA+BM,GAA/B,CAAmC,YAAnC;EACD;;EAED,WAAK/C,OAAL,CAAakF,OAAb,CAAqBpI,gBAArB,CAAsCoF,KAAK,CAAC7C,cAA5C,EAA4DwU,WAA5D;EAEA,YAAMnD,MAAM,GAAG,KAAKkD,SAAL,EAAf;EAEA,WAAK5T,OAAL,CAAakF,OAAb,CAAqBnH,KAArB,CAA2B2S,MAA3B,GAAoC,KAApC;EAEAjE,MAAAA,UAAU,CAAC,MAAM;EACf,aAAKzM,OAAL,CAAakF,OAAb,CAAqBnH,KAArB,CAA2B2S,MAA3B,GAAqC,GAAEA,MAAO,IAA9C;EACD,OAFS,EAEP,EAFO,CAAV;EAIA,aAAO,IAAP;EACD;;EAEDhC,IAAAA,IAAI,GAAG;EACL,UAAI,KAAKP,YAAT,EAAuB;EACrB,eAAO,KAAP;EACD;;EAED,UAAI,CAAC,KAAKnO,OAAL,CAAakF,OAAb,CAAqBzC,SAArB,CAA+BU,QAA/B,CAAwC,MAAxC,CAAL,EAAsD;EACpD,eAAO,KAAP;EACD;;EAED,WAAKgL,YAAL,GAAoB,IAApB;EAEA,WAAK5C,YAAL,CAAkBrJ,KAAK,CAACtD,IAAxB;;EAEA,YAAMiV,WAAW,GAAG,MAAM;EACxB,aAAKtI,YAAL,CAAkBrJ,KAAK,CAACrD,MAAxB;EAEA,aAAKmB,OAAL,CAAakF,OAAb,CAAqBzC,SAArB,CAA+BC,MAA/B,CAAsC,YAAtC;EACA,aAAK1C,OAAL,CAAakF,OAAb,CAAqBnH,KAArB,CAA2B2S,MAA3B,GAAoC,MAApC;EACA,aAAK1Q,OAAL,CAAakF,OAAb,CAAqB9B,mBAArB,CAAyClB,KAAK,CAAC7C,cAA/C,EAA+DwU,WAA/D;EAEA,aAAK7T,OAAL,CAAakF,OAAb,CAAqBa,YAArB,CAAkC,eAAlC,EAAmD,KAAnD;EAEA,aAAKoI,YAAL,GAAoB,KAApB;EACD,OAVD;;EAYA,WAAKnO,OAAL,CAAakF,OAAb,CAAqBnH,KAArB,CAA2B2S,MAA3B,GAAoC,KAApC;;EAEA,UAAI,CAAC,KAAK1Q,OAAL,CAAakF,OAAb,CAAqBzC,SAArB,CAA+BU,QAA/B,CAAwC,YAAxC,CAAL,EAA4D;EAC1D,aAAKnD,OAAL,CAAakF,OAAb,CAAqBzC,SAArB,CAA+BM,GAA/B,CAAmC,YAAnC;EACD;;EAED,WAAK/C,OAAL,CAAakF,OAAb,CAAqBpI,gBAArB,CAAsCoF,KAAK,CAAC7C,cAA5C,EAA4DwU,WAA5D;EAEA,WAAK7T,OAAL,CAAakF,OAAb,CAAqBzC,SAArB,CAA+BC,MAA/B,CAAsC,MAAtC;EAEA,aAAO,IAAP;EACD;;EAED,WAAOsJ,UAAP,GAAoB;EAClB,aAAO9R,IAAP;EACD;;EAED,WAAO8K,YAAP,CAAoBhF,OAApB,EAA6B;EAC3B,aAAO,MAAMgF,YAAN,CAAmB0O,QAAnB,EAA6B1T,OAA7B,CAAP;EACD;;EA/G8B;EAkHjC;;;;;;;EAKAmI,EAAAA,kBAAkB,CAACC,CAAD,EAAIlO,IAAJ,EAAUwZ,QAAV,CAAlB;EAEA;;;;;;EAKA,QAAM9E,UAAU,GAAG,EAAnB;EAEA,QAAMkF,SAAS,GAAGla,QAAQ,CAAC8B,gBAAT,CAA2B,IAAGxB,IAAK,EAAnC,CAAlB;;EACA,MAAI4Z,SAAJ,EAAe;EACbA,IAAAA,SAAS,CAACvY,OAAV,CAAmB2J,OAAD,IAAa;EAC7B;EACA,YAAM4F,MAAM,GAAG/B,mBAAmB,CAAC7D,OAAD,EAAUxF,kBAAV,EAA8B2M,qBAA9B,CAAlC;EACAvB,MAAAA,MAAM,CAAC5F,OAAP,GAAiBA,OAAjB;EAEA0J,MAAAA,UAAU,CAAC/S,IAAX,CAAgB6X,QAAQ,CAAC1O,YAAT,CAAsB8F,MAAtB,CAAhB;EACD,KAND;EAOD;;EAEDlR,EAAAA,QAAQ,CAACkD,gBAAT,CAA0BoF,KAAK,CAAC/C,KAAhC,EAAwCyC,KAAD,IAAW;EAChD,UAAMwC,MAAM,GAAG8D,gBAAgB,CAACtG,KAAK,CAACwC,MAAP,EAAe,aAAf,CAA/B;;EACA,QAAI,CAACA,MAAL,EAAa;EACX;EACD;;EAED,UAAM0K,cAAc,GAAG1K,MAAM,CAAC/B,YAAP,CAAoB,aAApB,CAAvB;;EAEA,QAAIyM,cAAc,IAAIA,cAAc,KAAK5U,IAAzC,EAA+C;EAC7C,UAAIiQ,EAAE,GAAG/F,MAAM,CAAC/B,YAAP,CAAoB,aAApB,KAAsC+B,MAAM,CAAC/B,YAAP,CAAoB,MAApB,CAA/C;EACA8H,MAAAA,EAAE,GAAGA,EAAE,CAAC9D,OAAH,CAAW,GAAX,EAAgB,EAAhB,CAAL;EAEA,YAAMiD,SAAS,GAAGsF,UAAU,CAAC/Q,IAAX,CAAgB4L,CAAC,IAAIA,CAAC,CAACuB,UAAF,GAAe3I,YAAf,CAA4B,IAA5B,MAAsC8H,EAA3D,CAAlB;;EAEA,UAAI,CAACb,SAAL,EAAgB;EACd;EACD;;EAEDA,MAAAA,SAAS,CAACqK,MAAV;EACD;EACF,GApBD;EAsBA,SAAOD,QAAP;EACD,CAxLgB,EAwLdja,MAAM,CAAC2O,CAAP,GAAW3O,MAAM,CAAC2O,CAAlB,GAAsB,IAxLR,CAAjB;;ECVA;;;;;AAKA;EAKA,MAAM2L,SAAS,GAAG,CAAE3L,CAAD,IAAO;EACxB;;;;;EAMA,QAAMlO,IAAI,GAAG,WAAb;EACA,QAAMC,OAAO,GAAG,OAAhB;EACA,QAAMuF,kBAAkB,GAAG;EACzBwF,IAAAA,OAAO,EAAE;EADgB,GAA3B;EAGA,QAAMmH,qBAAqB,GAAG,EAA9B;EAGA;;;;;;EAMA,QAAM0H,SAAN,SAAwBlK,SAAxB,CAAkC;EAEhCxP,IAAAA,WAAW,CAAC2F,OAAO,GAAG,EAAX,EAAe;EACxB,YAAM9F,IAAN,EAAYC,OAAZ,EAAqBuF,kBAArB,EAAyCM,OAAzC,EAAkDqM,qBAAlD,EAAyE,KAAzE,EAAgF,KAAhF;EAEA,WAAKyH,SAAL,GAAiB,EAAjB;EAEA,YAAME,OAAO,GAAG,KAAKhU,OAAL,CAAakF,OAAb,CAAqBxJ,gBAArB,CAAuC,iBAAgBxB,IAAK,IAA5D,CAAhB;EACAmB,MAAAA,KAAK,CAACC,IAAN,CAAW0Y,OAAX,EAAoBzY,OAApB,CAA6BoY,MAAD,IAAY;EACtC,cAAMM,UAAU,GAAGN,MAAM,CAACtR,YAAP,CAAoB,MAApB,CAAnB;EACA,cAAM6R,QAAQ,GAAGta,QAAQ,CAACqB,aAAT,CAAuBgZ,UAAvB,CAAjB;;EAEA,YAAIC,QAAJ,EAAc;EACZ,eAAKC,WAAL,CAAiBD,QAAjB;EACD;EACF,OAPD;EAQD;;EAEDnI,IAAAA,cAAc,CAACnK,KAAD,EAAQ;EACpB,YAAMuI,EAAE,GAAGvI,KAAK,CAACwC,MAAN,CAAa/B,YAAb,CAA0B,MAA1B,CAAX;EACA,YAAM6C,OAAO,GAAGtL,QAAQ,CAACqB,aAAT,CAAuBkP,EAAvB,CAAhB;EAEA,WAAKiK,YAAL,CAAkBlP,OAAlB;EACD;;EAEDiP,IAAAA,WAAW,CAACjP,OAAD,EAAU;EACnB,YAAMgP,QAAQ,GAAG,IAAIR,QAAJ,CAAa;EAC5BxO,QAAAA;EAD4B,OAAb,CAAjB;EAGA,WAAK4O,SAAL,CAAejY,IAAf,CAAoBqY,QAApB;EAEA,aAAOA,QAAP;EACD;;EAEDG,IAAAA,WAAW,CAACnP,OAAD,EAAU;EACnB,UAAIgP,QAAQ,GAAG,KAAKJ,SAAL,CAAejW,IAAf,CAAoB4L,CAAC,IAAIA,CAAC,CAACzJ,OAAF,CAAUkF,OAAV,CAAkB7C,YAAlB,CAA+B,IAA/B,MAAyC6C,OAAO,CAAC7C,YAAR,CAAqB,IAArB,CAAlE,CAAf;;EAEA,UAAI,CAAC6R,QAAL,EAAe;EACb;EACAA,QAAAA,QAAQ,GAAG,KAAKC,WAAL,EAAX;EACD;;EAED,aAAOD,QAAP;EACD;;EAEDI,IAAAA,YAAY,GAAG;EACb,aAAO,KAAKR,SAAZ;EACD;;EAEDM,IAAAA,YAAY,CAACG,YAAD,EAAe;EACzB,YAAML,QAAQ,GAAG,KAAKG,WAAL,CAAiBE,YAAjB,CAAjB;EACA,WAAKT,SAAL,CAAevY,OAAf,CAAwBkO,CAAD,IAAO;EAC5B,YAAIA,CAAC,CAACzJ,OAAF,CAAUkF,OAAV,CAAkB7C,YAAlB,CAA+B,IAA/B,MAAyCkS,YAAY,CAAClS,YAAb,CAA0B,IAA1B,CAA7C,EAA8E;EAC5EoH,UAAAA,CAAC,CAACiF,IAAF;EACD,SAFD,MAEO;EACLwF,UAAAA,QAAQ,CAACP,MAAT;EACD;EACF,OAND;EAOD;;EAEDvF,IAAAA,IAAI,CAACoG,UAAD,EAAa;EACf,UAAIN,QAAQ,GAAGM,UAAf;;EACA,UAAI,OAAOA,UAAP,KAAsB,QAA1B,EAAoC;EAClCN,QAAAA,QAAQ,GAAGta,QAAQ,CAACqB,aAAT,CAAuBuZ,UAAvB,CAAX;EACD;;EAED,UAAI,CAACN,QAAL,EAAe;EACb,cAAM,IAAInY,KAAJ,CAAW,GAAE7B,IAAK,qBAAoBsa,UAAW,6BAAjD,CAAN;EACD;;EAED,WAAKJ,YAAL,CAAkBF,QAAlB;EAEA,aAAO,IAAP;EACD;;EAEDxF,IAAAA,IAAI,CAAC8F,UAAD,EAAa;EACf,UAAIN,QAAQ,GAAGM,UAAf;;EACA,UAAI,OAAOA,UAAP,KAAsB,QAA1B,EAAoC;EAClCN,QAAAA,QAAQ,GAAGta,QAAQ,CAACqB,aAAT,CAAuBuZ,UAAvB,CAAX;EACD;;EAED,UAAI,CAACN,QAAL,EAAe;EACb,cAAM,IAAInY,KAAJ,CAAW,GAAE7B,IAAK,qBAAoBsa,UAAW,6BAAjD,CAAN;EACD;;EAED,YAAMC,WAAW,GAAG,KAAKJ,WAAL,CAAiBH,QAAjB,CAApB;EACA,aAAOO,WAAW,CAAC/F,IAAZ,EAAP;EACD;;EAED,WAAO1C,UAAP,GAAoB;EAClB,aAAO9R,IAAP;EACD;;EAED,WAAO8K,YAAP,CAAoBhF,OAApB,EAA6B;EAC3B,aAAO,MAAMgF,YAAN,CAAmB+O,SAAnB,EAA8B/T,OAA9B,CAAP;EACD;;EA/F+B;EAkGlC;;;;;;;EAKAmI,EAAAA,kBAAkB,CAACC,CAAD,EAAIlO,IAAJ,EAAU6Z,SAAV,CAAlB;EAEA;;;;;;EAKA,QAAMnF,UAAU,GAAG,EAAnB;EAEA,QAAM8F,UAAU,GAAG9a,QAAQ,CAAC8B,gBAAT,CAA2B,IAAGxB,IAAK,EAAnC,CAAnB;;EACA,MAAIwa,UAAJ,EAAgB;EACdrZ,IAAAA,KAAK,CAACC,IAAN,CAAWoZ,UAAX,EAAuBnZ,OAAvB,CAAgC2J,OAAD,IAAa;EAC1C,YAAM4F,MAAM,GAAG/B,mBAAmB,CAAC7D,OAAD,EAAUxF,kBAAV,EAA8B2M,qBAA9B,CAAlC;EACAvB,MAAAA,MAAM,CAAC5F,OAAP,GAAiBA,OAAjB;EAEA0J,MAAAA,UAAU,CAAC/S,IAAX,CAAgBkY,SAAS,CAAC/O,YAAV,CAAuB8F,MAAvB,CAAhB;EACD,KALD;EAMD;;EAEDlR,EAAAA,QAAQ,CAACkD,gBAAT,CAA0B,OAA1B,EAAoC8E,KAAD,IAAW;EAC5C,UAAMkN,cAAc,GAAGlN,KAAK,CAACwC,MAAN,CAAa/B,YAAb,CAA0B,aAA1B,CAAvB;;EACA,QAAIyM,cAAc,IAAIA,cAAc,KAAK5U,IAAzC,EAA+C;EAC7C,YAAM+Z,UAAU,GAAGrS,KAAK,CAACwC,MAAN,CAAa/B,YAAb,CAA0B,aAA1B,KAA4CT,KAAK,CAACwC,MAAN,CAAa/B,YAAb,CAA0B,MAA1B,CAA/D;EACA,YAAMmS,UAAU,GAAG5a,QAAQ,CAACqB,aAAT,CAAuBgZ,UAAvB,CAAnB;EAEA,YAAMU,SAAS,GAAG5M,iBAAiB,CAACnG,KAAK,CAACwC,MAAP,EAAe,WAAf,CAAnC;;EAEA,UAAIuQ,SAAS,KAAK,IAAlB,EAAwB;EACtB;EACD;;EAED,YAAMC,WAAW,GAAGD,SAAS,CAACtS,YAAV,CAAuB,IAAvB,CAApB;EACA,YAAMiH,SAAS,GAAGsF,UAAU,CAAC/Q,IAAX,CAAgB4L,CAAC,IAAIA,CAAC,CAACuB,UAAF,GAAe3I,YAAf,CAA4B,IAA5B,MAAsCuS,WAA3D,CAAlB;;EAEA,UAAI,CAACtL,SAAL,EAAgB;EACd;EACD,OAf4C;;;EAkB7C,YAAMuL,cAAc,GAAGvL,SAAS,CAACgL,YAAV,GAAyBzW,IAAzB,CAA8B4L,CAAC,IAAIA,CAAC,CAACuB,UAAF,OAAmBwJ,UAAtD,CAAvB;;EACA,UAAI,CAACK,cAAL,EAAqB;EACnBvL,QAAAA,SAAS,CAAC6K,WAAV,CAAsBK,UAAtB;EACD;;EAEDlL,MAAAA,SAAS,CAAC8E,IAAV,CAAe6F,UAAf;EACD;EACF,GA3BD;EA6BA,SAAOF,SAAP;EACD,CA7KiB,EA6Kfta,MAAM,CAAC2O,CAAP,GAAW3O,MAAM,CAAC2O,CAAlB,GAAsB,IA7KP,CAAlB;;ECVA;;;;;AAKA;EAKA,MAAM0M,GAAG,GAAG,CAAE1M,CAAD,IAAO;EAClB;;;;;EAMA,QAAMlO,IAAI,GAAG,KAAb;EACA,QAAMC,OAAO,GAAG,OAAhB;EACA,QAAMuF,kBAAkB,GAAG,EAA3B;EAGA,QAAM2M,qBAAqB,GAAG,EAA9B;EAEA,QAAM0I,oBAAoB,GAAG,WAA7B;EAEA;;;;;;EAMA,QAAMD,GAAN,SAAkBjL,SAAlB,CAA4B;EAE1BxP,IAAAA,WAAW,CAAC2F,OAAO,GAAG,EAAX,EAAe;EACxB,YAAM9F,IAAN,EAAYC,OAAZ,EAAqBuF,kBAArB,EAAyCM,OAAzC,EAAkDqM,qBAAlD,EAAyE,KAAzE,EAAgF,KAAhF;EACD;;EAED+B,IAAAA,IAAI,GAAG;EACL,UAAI,KAAKpO,OAAL,CAAakF,OAAb,CAAqBzC,SAArB,CAA+BU,QAA/B,CAAwC,QAAxC,CAAJ,EAAuD;EACrD,eAAO,KAAP;EACD;;EAED,YAAMgH,EAAE,GAAG,KAAKnK,OAAL,CAAakF,OAAb,CAAqB7C,YAArB,CAAkC,MAAlC,CAAX;EACA,YAAM2S,GAAG,GAAGjN,iBAAiB,CAAC,KAAK/H,OAAL,CAAakF,OAAd,EAAuB,KAAvB,CAA7B;EACA,YAAM+P,OAAO,GAAGD,GAAG,GAAGA,GAAG,CAACtZ,gBAAJ,CAAsB,iBAAgBxB,IAAK,IAA3C,CAAH,GAAqD,IAAxE;;EAEA,UAAI+a,OAAJ,EAAa;EACX5Z,QAAAA,KAAK,CAACC,IAAN,CAAW2Z,OAAX,EAAoB1Z,OAApB,CAA6B2Z,GAAD,IAAS;EACnC,cAAIA,GAAG,CAACzS,SAAJ,CAAcU,QAAd,CAAuB,QAAvB,CAAJ,EAAsC;EACpC+R,YAAAA,GAAG,CAACzS,SAAJ,CAAcC,MAAd,CAAqB,QAArB;EACD;;EACDwS,UAAAA,GAAG,CAACnP,YAAJ,CAAiB,eAAjB,EAAkC,KAAlC;EACD,SALD;EAMD;;EAED,WAAK/F,OAAL,CAAakF,OAAb,CAAqBzC,SAArB,CAA+BM,GAA/B,CAAmC,QAAnC;EACA,WAAK/C,OAAL,CAAakF,OAAb,CAAqBa,YAArB,CAAkC,eAAlC,EAAmD,IAAnD;EAEA,YAAMoP,UAAU,GAAGvb,QAAQ,CAACqB,aAAT,CAAuBkP,EAAvB,CAAnB;EACA,YAAMiL,WAAW,GAAGD,UAAU,CAAClN,UAAX,CAAsBvM,gBAAtB,CAAuCqZ,oBAAvC,CAApB;;EAEA,UAAIK,WAAJ,EAAiB;EACf/Z,QAAAA,KAAK,CAACC,IAAN,CAAW8Z,WAAX,EAAwB7Z,OAAxB,CAAiC2Z,GAAD,IAAS;EACvC,cAAIA,GAAG,CAACzS,SAAJ,CAAcU,QAAd,CAAuB,QAAvB,CAAJ,EAAsC;EACpC+R,YAAAA,GAAG,CAACzS,SAAJ,CAAcC,MAAd,CAAqB,QAArB;EACD;EACF,SAJD;EAKD;;EAEDyS,MAAAA,UAAU,CAAC1S,SAAX,CAAqBM,GAArB,CAAyB,SAAzB;EAEA0J,MAAAA,UAAU,CAAC,MAAM;EACf,cAAM4I,QAAQ,GAAG,MAAM;EACrBF,UAAAA,UAAU,CAAC1S,SAAX,CAAqBC,MAArB,CAA4B,SAA5B;EACAyS,UAAAA,UAAU,CAAC1S,SAAX,CAAqBM,GAArB,CAAyB,QAAzB;EACAoS,UAAAA,UAAU,CAAC1S,SAAX,CAAqBC,MAArB,CAA4B,SAA5B;EACAyS,UAAAA,UAAU,CAAC/R,mBAAX,CAA+BlB,KAAK,CAAC7C,cAArC,EAAqDgW,QAArD;EACD,SALD;;EAOAF,QAAAA,UAAU,CAACrY,gBAAX,CAA4BoF,KAAK,CAAC7C,cAAlC,EAAkDgW,QAAlD;EAEAF,QAAAA,UAAU,CAAC1S,SAAX,CAAqBM,GAArB,CAAyB,SAAzB;EACD,OAXS,EAWP,EAXO,CAAV;EAaA,aAAO,IAAP;EACD;;EAED2L,IAAAA,IAAI,GAAG;EACL,UAAI,CAAC,KAAK1O,OAAL,CAAakF,OAAb,CAAqBzC,SAArB,CAA+BU,QAA/B,CAAwC,QAAxC,CAAL,EAAwD;EACtD,eAAO,KAAP;EACD;;EAED,UAAI,KAAKnD,OAAL,CAAakF,OAAb,CAAqBzC,SAArB,CAA+BU,QAA/B,CAAwC,QAAxC,CAAJ,EAAuD;EACrD,aAAKnD,OAAL,CAAakF,OAAb,CAAqBzC,SAArB,CAA+BC,MAA/B,CAAsC,QAAtC;EACD;;EAED,WAAK1C,OAAL,CAAakF,OAAb,CAAqBa,YAArB,CAAkC,eAAlC,EAAmD,KAAnD;EAEA,YAAMoE,EAAE,GAAG,KAAKnK,OAAL,CAAakF,OAAb,CAAqB7C,YAArB,CAAkC,MAAlC,CAAX;EACA,YAAM8S,UAAU,GAAGvb,QAAQ,CAACqB,aAAT,CAAuBkP,EAAvB,CAAnB;;EAEA,UAAIgL,UAAU,CAAC1S,SAAX,CAAqBU,QAArB,CAA8B,QAA9B,CAAJ,EAA6C;EAC3CgS,QAAAA,UAAU,CAAC1S,SAAX,CAAqBC,MAArB,CAA4B,QAA5B;EACD;;EAED,aAAO,IAAP;EACD;;EAED,WAAOsJ,UAAP,GAAoB;EAClB,aAAO9R,IAAP;EACD;;EAED,WAAO8K,YAAP,CAAoBhF,OAApB,EAA6B;EAC3B,aAAO,MAAMgF,YAAN,CAAmB8P,GAAnB,EAAwB9U,OAAxB,CAAP;EACD;;EAnFyB;EAsF5B;;;;;;;EAKAmI,EAAAA,kBAAkB,CAACC,CAAD,EAAIlO,IAAJ,EAAU4a,GAAV,CAAlB;EAEA;;;;;;EAKA,QAAMlG,UAAU,GAAG,EAAnB;EAEA,QAAM0G,IAAI,GAAG1b,QAAQ,CAAC8B,gBAAT,CAA2B,iBAAgBxB,IAAK,IAAhD,CAAb;;EACA,MAAIob,IAAJ,EAAU;EACRja,IAAAA,KAAK,CAACC,IAAN,CAAWga,IAAX,EAAiB/Z,OAAjB,CAA0B2J,OAAD,IAAa;EACpC;EACA,YAAM4F,MAAM,GAAG/B,mBAAmB,CAAC7D,OAAD,EAAUxF,kBAAV,EAA8B2M,qBAA9B,CAAlC;EACAvB,MAAAA,MAAM,CAAC5F,OAAP,GAAiBA,OAAjB;EAEA0J,MAAAA,UAAU,CAAC/S,IAAX,CAAgBiZ,GAAG,CAAC9P,YAAJ,CAAiB8F,MAAjB,CAAhB;EACD,KAND;EAOD;;EAEDlR,EAAAA,QAAQ,CAACkD,gBAAT,CAA0B,OAA1B,EAAoC8E,KAAD,IAAW;EAC5C,UAAMkN,cAAc,GAAGlN,KAAK,CAACwC,MAAN,CAAa/B,YAAb,CAA0B,aAA1B,CAAvB;;EACA,QAAIyM,cAAc,IAAIA,cAAc,KAAK5U,IAAzC,EAA+C;EAC7C,YAAMiQ,EAAE,GAAGvI,KAAK,CAACwC,MAAN,CAAa/B,YAAb,CAA0B,MAA1B,CAAX;EAEA,YAAMiH,SAAS,GAAGsF,UAAU,CAAC/Q,IAAX,CAAgB4L,CAAC,IAAIA,CAAC,CAACuB,UAAF,GAAe3I,YAAf,CAA4B,MAA5B,MAAwC8H,EAA7D,CAAlB;;EAEA,UAAI,CAACb,SAAL,EAAgB;EACd;EACD;;EAEDA,MAAAA,SAAS,CAAC8E,IAAV;EACD;EACF,GAbD;EAeA,SAAO0G,GAAP;EACD,CArJW,EAqJTrb,MAAM,CAAC2O,CAAP,GAAW3O,MAAM,CAAC2O,CAAlB,GAAsB,IArJb,CAAZ;;ECVA;;;;;AAKA;EAIA,MAAMmN,QAAQ,GAAG,CAAEnN,CAAD,IAAO;EACvB;;;;;EAMA,QAAMlO,IAAI,GAAG,UAAb;EACA,QAAMC,OAAO,GAAG,OAAhB;EACA,QAAMuF,kBAAkB,GAAG;EACzBwF,IAAAA,OAAO,EAAE,IADgB;EAEzBwL,IAAAA,MAAM,EAAE,CAFiB;EAGzB8E,IAAAA,GAAG,EAAE,CAHoB;EAIzBC,IAAAA,GAAG,EAAE,GAJoB;EAKzBC,IAAAA,KAAK,EAAE,KALkB;EAMzBC,IAAAA,OAAO,EAAE,KANgB;EAOzB/C,IAAAA,UAAU,EAAE;EAPa,GAA3B;EASA,QAAMvG,qBAAqB,GAAG,CAC5B,QAD4B,EAE5B,KAF4B,EAG5B,KAH4B,EAI5B,OAJ4B,EAK5B,SAL4B,EAM5B,YAN4B,CAA9B;EASA;;;;;;EAMA,QAAMkJ,QAAN,SAAuB1L,SAAvB,CAAiC;EAE/BxP,IAAAA,WAAW,CAAC2F,OAAO,GAAG,EAAX,EAAe;EACxB,YAAM9F,IAAN,EAAYC,OAAZ,EAAqBuF,kBAArB,EAAyCM,OAAzC,EAAkDqM,qBAAlD,EAAyE,KAAzE,EAAgF,KAAhF,EADwB;;EAIxB,WAAKrM,OAAL,CAAakF,OAAb,CAAqBnH,KAArB,CAA2B2S,MAA3B,GAAqC,GAAE,KAAK1Q,OAAL,CAAa0Q,MAAO,IAA3D,CAJwB;;EAOxB,YAAMkF,WAAW,GAAG,KAAKC,cAAL,EAApB;EACAD,MAAAA,WAAW,CAAC7P,YAAZ,CAAyB,eAAzB,EAA2C,GAAE,KAAK/F,OAAL,CAAawV,GAAI,EAA9D;EACAI,MAAAA,WAAW,CAAC7P,YAAZ,CAAyB,eAAzB,EAA2C,GAAE,KAAK/F,OAAL,CAAayV,GAAI,EAA9D,EATwB;;EAYxB,UAAI,KAAKzV,OAAL,CAAa2V,OAAb,IACC,CAACC,WAAW,CAACnT,SAAZ,CAAsBU,QAAtB,CAA+B,sBAA/B,CADN,EAC8D;EAC5DyS,QAAAA,WAAW,CAACnT,SAAZ,CAAsBM,GAAtB,CAA0B,sBAA1B;EACD,OAfuB;;;EAkBxB,UAAI,OAAO,KAAK/C,OAAL,CAAa4S,UAApB,KAAmC,QAAnC,IACC,CAACgD,WAAW,CAACnT,SAAZ,CAAsBU,QAAtB,CAAgC,MAAK,KAAKnD,OAAL,CAAa4S,UAAW,EAA7D,CADN,EACuE;EACrEgD,QAAAA,WAAW,CAACnT,SAAZ,CAAsBM,GAAtB,CAA2B,MAAK,KAAK/C,OAAL,CAAa4S,UAAW,EAAxD;EACD;EACF;;EAEDiD,IAAAA,cAAc,GAAG;EACf,aAAO,KAAK7V,OAAL,CAAakF,OAAb,CAAqBjK,aAArB,CAAmC,eAAnC,CAAP;EACD;;EAED6a,IAAAA,GAAG,CAAC1P,KAAK,GAAG,CAAT,EAAY;EACb,YAAMwP,WAAW,GAAG,KAAKC,cAAL,EAApB;EACA,YAAME,QAAQ,GAAGpO,IAAI,CAACqO,KAAL,CAAY5P,KAAK,IAAI,KAAKpG,OAAL,CAAawV,GAAb,GAAmB,KAAKxV,OAAL,CAAayV,GAApC,CAAN,GAAkD,GAA7D,CAAjB;;EAEA,UAAIrP,KAAK,GAAG,KAAKpG,OAAL,CAAawV,GAAzB,EAA8B;EAC5BzY,QAAAA,OAAO,CAACC,KAAR,CAAe,GAAE9C,IAAK,cAAakM,KAAM,sBAAzC;EACA,eAAO,KAAP;EACD;;EAED,UAAIA,KAAK,GAAG,KAAKpG,OAAL,CAAayV,GAAzB,EAA8B;EAC5B1Y,QAAAA,OAAO,CAACC,KAAR,CAAe,GAAE9C,IAAK,cAAakM,KAAM,sBAAzC;EACA,eAAO,KAAP;EACD;;EAEDwP,MAAAA,WAAW,CAAC7P,YAAZ,CAAyB,eAAzB,EAA2C,GAAEK,KAAM,EAAnD,EAda;;EAiBb,UAAI,KAAKpG,OAAL,CAAa0V,KAAjB,EAAwB;EACtBE,QAAAA,WAAW,CAACna,SAAZ,GAAyB,GAAEsa,QAAS,GAApC;EACD,OAnBY;;;EAsBbH,MAAAA,WAAW,CAAC7X,KAAZ,CAAkBsU,KAAlB,GAA2B,GAAE0D,QAAS,GAAtC;EAEA,aAAO,IAAP;EACD;;EAEDzD,IAAAA,OAAO,CAACC,cAAc,GAAG,IAAlB,EAAwB;EAC7B,UAAI,CAAC,KAAKvS,OAAL,CAAa2V,OAAlB,EAA2B;EACzB5Y,QAAAA,OAAO,CAACC,KAAR,CAAe,GAAE9C,IAAK,+CAAtB;EACA,eAAO,KAAP;EACD;;EAED,YAAM0b,WAAW,GAAG,KAAKC,cAAL,EAApB;;EAEA,UAAItD,cAAc,IACb,CAACqD,WAAW,CAACnT,SAAZ,CAAsBU,QAAtB,CAA+B,uBAA/B,CADN,EAC+D;EAC7DyS,QAAAA,WAAW,CAACnT,SAAZ,CAAsBM,GAAtB,CAA0B,uBAA1B;EACD;;EAED,UAAI,CAACwP,cAAD,IACCqD,WAAW,CAACnT,SAAZ,CAAsBU,QAAtB,CAA+B,uBAA/B,CADL,EAC8D;EAC5DyS,QAAAA,WAAW,CAACnT,SAAZ,CAAsBC,MAAtB,CAA6B,uBAA7B;EACD;;EAED,aAAO,IAAP;EACD;;EAED0L,IAAAA,IAAI,GAAG;EACL,WAAKpO,OAAL,CAAakF,OAAb,CAAqBnH,KAArB,CAA2B2S,MAA3B,GAAqC,GAAE,KAAK1Q,OAAL,CAAa0Q,MAAO,IAA3D;EACA,WAAKnF,YAAL,CAAkBrJ,KAAK,CAACxD,IAAxB;EACA,WAAK6M,YAAL,CAAkBrJ,KAAK,CAACvD,KAAxB;EAEA,aAAO,IAAP;EACD;;EAED+P,IAAAA,IAAI,GAAG;EACL,WAAK1O,OAAL,CAAakF,OAAb,CAAqBnH,KAArB,CAA2B2S,MAA3B,GAAoC,KAApC;EACA,WAAKnF,YAAL,CAAkBrJ,KAAK,CAACtD,IAAxB;EACA,WAAK2M,YAAL,CAAkBrJ,KAAK,CAACrD,MAAxB;EAEA,aAAO,IAAP;EACD;;EAED,WAAOmN,UAAP,GAAoB;EAClB,aAAO9R,IAAP;EACD;;EAED,WAAO8K,YAAP,CAAoBhF,OAApB,EAA6B;EAC3B,aAAO,MAAMgF,YAAN,CAAmBuQ,QAAnB,EAA6BvV,OAA7B,CAAP;EACD;;EApG8B;EAuGjC;;;;;;;EAKAmI,EAAAA,kBAAkB,CAACC,CAAD,EAAIlO,IAAJ,EAAUqb,QAAV,CAAlB;EAEA,SAAOA,QAAP;EACD,CAhJgB,EAgJd9b,MAAM,CAAC2O,CAAP,GAAW3O,MAAM,CAAC2O,CAAlB,GAAsB,IAhJR,CAAjB;;ECTA;;;;;AAKA;EAKA,MAAM6N,SAAS,GAAG,CAAE7N,CAAD,IAAO;EACxB;;;;;EAMA,QAAMlO,IAAI,GAAG,WAAb;EACA,QAAMC,OAAO,GAAG,OAAhB;EACA,QAAM8U,iBAAiB,GAAG,qBAA1B;EACA,QAAMvP,kBAAkB,GAAG;EACzBwF,IAAAA,OAAO,EAAE,IADgB;EAEzBgR,IAAAA,KAAK,EAAE;EACLC,MAAAA,EAAE,EAAE,KADC;EAELC,MAAAA,EAAE,EAAE,KAFC;EAGLC,MAAAA,EAAE,EAAE;EAHC;EAFkB,GAA3B;EAQA,QAAMhK,qBAAqB,GAAG,CAC5B,OAD4B,CAA9B;EAIA;;;;;;EAMA,QAAM4J,SAAN,SAAwBpM,SAAxB,CAAkC;EAEhCxP,IAAAA,WAAW,CAAC2F,OAAO,GAAG,EAAX,EAAe;EACxB,YAAM9F,IAAN,EAAYC,OAAZ,EAAqBuF,kBAArB,EAAyCM,OAAzC,EAAkDqM,qBAAlD,EAAyE,KAAzE,EAAgF,IAAhF;EAEA,WAAKiK,WAAL,GAAmB,IAAnB;EACA,WAAKC,YAAL,GAAoB,IAApB;EACA,WAAKjE,OAAL,GAAe,IAAf;EAEA,WAAKkE,UAAL,GAAkB,CAAC,MAAD,EAAS,OAAT,CAAlB;EAEA,YAAMC,EAAE,GAAG;EAAEnc,QAAAA,IAAI,EAAE,IAAR;EAAcoc,QAAAA,KAAK,EAAEjd,MAAM,CAACkd,UAAP,CAAkB,kBAAlB;EAArB,OAAX;EACA,YAAMR,EAAE,GAAG;EAAE7b,QAAAA,IAAI,EAAE,IAAR;EAAcoc,QAAAA,KAAK,EAAEjd,MAAM,CAACkd,UAAP,CAAkB,oBAAlB;EAArB,OAAX;EACA,YAAMP,EAAE,GAAG;EAAE9b,QAAAA,IAAI,EAAE,IAAR;EAAcoc,QAAAA,KAAK,EAAEjd,MAAM,CAACkd,UAAP,CAAkB,oBAAlB;EAArB,OAAX;EACA,YAAMN,EAAE,GAAG;EAAE/b,QAAAA,IAAI,EAAE,IAAR;EAAcoc,QAAAA,KAAK,EAAEjd,MAAM,CAACkd,UAAP,CAAkB,qBAAlB;EAArB,OAAX;EAEA,WAAKC,KAAL,GAAa,CAACH,EAAD,EAAKN,EAAL,EAASC,EAAT,EAAaC,EAAb,EAAiBQ,OAAjB,EAAb;EAEA,WAAKC,cAAL;EACA,WAAKC,UAAL;EAEAtd,MAAAA,MAAM,CAACqD,gBAAP,CAAwB,QAAxB,EAAkC,MAAM,KAAKia,UAAL,EAAxC,EAA2D,KAA3D;EACD;;EAEDD,IAAAA,cAAc,GAAG;EACf,WAAKN,UAAL,CAAgBQ,KAAhB,CAAuBC,SAAD,IAAe;EACnC,YAAI,KAAKjX,OAAL,CAAakF,OAAb,CAAqBzC,SAArB,CAA+BU,QAA/B,CAAyC,cAAa8T,SAAU,EAAhE,CAAJ,EAAwE;EACtE,eAAKA,SAAL,GAAiBA,SAAjB;EACA,iBAAO,KAAP;EACD;;EACD,eAAO,IAAP;EACD,OAND;EAOD;;EAEDF,IAAAA,UAAU,GAAG;EACX,UAAI,EAAE,gBAAgBtd,MAAlB,CAAJ,EAA+B;EAC7B;EACD;;EAED,WAAKmd,KAAL,CAAWI,KAAX,CAAkBjF,IAAD,IAAU;EACzB,cAAM3K,KAAK,GAAG2K,IAAI,CAAC2E,KAAL,CAAWA,KAAX,CAAiBtP,KAAjB,CAAuB,0BAAvB,CAAd;;EAEA,YAAIA,KAAJ,EAAW;EACT,cAAI2K,IAAI,CAAC2E,KAAL,CAAW1V,OAAf,EAAwB;EACtB,gBAAI,KAAKuV,YAAL,KAAsBxE,IAAI,CAACzX,IAA/B,EAAqC;EACnC,mBAAK4c,QAAL,CAAcnF,IAAI,CAACzX,IAAnB;EACD;;EACD,iBAAKic,YAAL,GAAoBxE,IAAI,CAACzX,IAAzB;EACA,mBAAO,KAAP;EACD;EACF;;EAED,eAAO,IAAP;EACD,OAdD;EAeD;;EAEDwR,IAAAA,eAAe,GAAG;EAChB,aAAO,MAAMA,eAAN,MAA2B,KAAK9L,OAAL,CAAakW,KAAb,CAAmB,KAAKK,YAAxB,MAA0C,IAA5E;EACD;;EAEDW,IAAAA,QAAQ,CAAC5c,IAAD,EAAO;EACb,YAAM6c,OAAO,GAAGvd,QAAQ,CAACqW,IAAzB;;EAEA,UAAI,KAAKjQ,OAAL,CAAakW,KAAb,CAAmB5b,IAAnB,MAA6B,IAAjC,EAAuC;EACrC,YAAI,CAAC6c,OAAO,CAAC1U,SAAR,CAAkBU,QAAlB,CAA4B,oBAAmB,KAAK8T,SAAU,EAA9D,CAAL,EAAuE;EACrEE,UAAAA,OAAO,CAAC1U,SAAR,CAAkBM,GAAlB,CAAuB,oBAAmB,KAAKkU,SAAU,EAAzD;EACD;;EAED,aAAKX,WAAL,GAAmB,KAAnB,CALqC;;EAQrC,aAAKhE,OAAL,GAAe,KAAf;EACA,aAAKlE,IAAL,GATqC;;EAWrC,aAAKgJ,cAAL;EACD,OAZD,MAYO;EACL,YAAID,OAAO,CAAC1U,SAAR,CAAkBU,QAAlB,CAA4B,oBAAmB,KAAK8T,SAAU,EAA9D,CAAJ,EAAsE;EACpEE,UAAAA,OAAO,CAAC1U,SAAR,CAAkBC,MAAlB,CAA0B,oBAAmB,KAAKuU,SAAU,EAA5D;EACD;;EAED,aAAKvI,IAAL;EACA,aAAK4H,WAAL,GAAmB,IAAnB;EACA,aAAKhE,OAAL,GAAe,IAAf;EACD;EACF;;EAEDvG,IAAAA,cAAc,CAACnK,KAAD,EAAQ;EACpB,UAAIA,KAAK,CAACqH,IAAN,KAAe,OAAf,IAA0BrH,KAAK,CAACoP,OAAN,KAAkB,EAA5C,IAAkDpP,KAAK,CAACoP,OAAN,KAAkB,EAAxE,EAA4E;EAC1E;EACD,OAHmB;;;EAMpB,WAAKtC,IAAL;EACD;;EAEDN,IAAAA,IAAI,GAAG;EACL,UAAI,KAAKpO,OAAL,CAAakF,OAAb,CAAqBzC,SAArB,CAA+BU,QAA/B,CAAwC,MAAxC,CAAJ,EAAqD;EACnD,eAAO,KAAP;EACD,OAHI;;;EAMLsJ,MAAAA,UAAU,CAAC,MAAM;EACf,aAAKlB,YAAL,CAAkBrJ,KAAK,CAACxD,IAAxB;;EAEA,cAAMoS,OAAO,GAAG,MAAM;EACpB,eAAKvF,YAAL,CAAkBrJ,KAAK,CAACvD,KAAxB;;EAEA,cAAI,KAAK2T,OAAT,EAAkB;EAChB,iBAAKtS,OAAL,CAAakF,OAAb,CAAqB9B,mBAArB,CAAyClB,KAAK,CAAC7C,cAA/C,EAA+DyR,OAA/D;EACA,iBAAK9Q,OAAL,CAAakF,OAAb,CAAqBzC,SAArB,CAA+BC,MAA/B,CAAsC,SAAtC;EACD;EACF,SAPD;;EASA,YAAI,KAAK4T,WAAT,EAAsB;EACpB,eAAKe,cAAL;EACD;;EAGD,YAAI,KAAK/E,OAAT,EAAkB;EAChB,eAAKtS,OAAL,CAAakF,OAAb,CAAqBpI,gBAArB,CAAsCoF,KAAK,CAAC7C,cAA5C,EAA4DyR,OAA5D;EACA,eAAK9Q,OAAL,CAAakF,OAAb,CAAqBzC,SAArB,CAA+BM,GAA/B,CAAmC,SAAnC;EACD,SAHD,MAGO;EACL;EACA+N,UAAAA,OAAO;EACR;;EAED,aAAK9Q,OAAL,CAAakF,OAAb,CAAqBzC,SAArB,CAA+BM,GAA/B,CAAmC,MAAnC,EAzBe;;EA4Bf,aAAK8N,YAAL;EACD,OA7BS,EA6BP,CA7BO,CAAV;EA+BA,aAAO,IAAP;EACD;;EAEDnC,IAAAA,IAAI,GAAG;EACL,UAAI,CAAC,KAAK1O,OAAL,CAAakF,OAAb,CAAqBzC,SAArB,CAA+BU,QAA/B,CAAwC,MAAxC,CAAL,EAAsD;EACpD,eAAO,KAAP;EACD;;EAED,WAAKoI,YAAL,CAAkBrJ,KAAK,CAACtD,IAAxB;EAEA,WAAKqS,YAAL;;EAEA,UAAI,KAAKqB,OAAT,EAAkB;EAChB,aAAKtS,OAAL,CAAakF,OAAb,CAAqBzC,SAArB,CAA+BM,GAA/B,CAAmC,SAAnC;EACD;;EAED,WAAK/C,OAAL,CAAakF,OAAb,CAAqBzC,SAArB,CAA+BC,MAA/B,CAAsC,MAAtC;;EAEA,UAAI,KAAK4T,WAAT,EAAsB;EACpB,cAAMlG,QAAQ,GAAG,KAAKC,WAAL,EAAjB;;EAEA,cAAMa,QAAQ,GAAG,MAAM;EACrB,cAAI,KAAKoB,OAAT,EAAkB;EAChB,iBAAKtS,OAAL,CAAakF,OAAb,CAAqBzC,SAArB,CAA+BC,MAA/B,CAAsC,SAAtC;EACD;;EAED0N,UAAAA,QAAQ,CAAChN,mBAAT,CAA6BlB,KAAK,CAAC7C,cAAnC,EAAmD6R,QAAnD;EACA,eAAK3F,YAAL,CAAkBrJ,KAAK,CAACrD,MAAxB;EACA,eAAKuY,cAAL;EACD,SARD;;EAUAhH,QAAAA,QAAQ,CAACtT,gBAAT,CAA0BoF,KAAK,CAAC7C,cAAhC,EAAgD6R,QAAhD;EACAd,QAAAA,QAAQ,CAAC3N,SAAT,CAAmBM,GAAnB,CAAuB,SAAvB;EACD;;EAED,aAAO,IAAP;EACD;;EAEDsU,IAAAA,cAAc,GAAG;EACf,YAAMjH,QAAQ,GAAGxW,QAAQ,CAAC2D,aAAT,CAAuB,KAAvB,CAAjB;EACA6S,MAAAA,QAAQ,CAACrK,YAAT,CAAsB,SAAtB,EAAiC,KAAKoE,EAAtC;EACAiG,MAAAA,QAAQ,CAAC3N,SAAT,CAAmBM,GAAnB,CAAuBkM,iBAAvB;EAEArV,MAAAA,QAAQ,CAACqW,IAAT,CAAcH,WAAd,CAA0BM,QAA1B;EACD;;EAEDC,IAAAA,WAAW,GAAG;EACZ,aAAOzW,QAAQ,CAACqB,aAAT,CAAwB,IAAGgU,iBAAkB,aAAY,KAAK9E,EAAG,IAAjE,CAAP;EACD;;EAEDiN,IAAAA,cAAc,GAAG;EACf,YAAMhH,QAAQ,GAAG,KAAKC,WAAL,EAAjB;;EACA,UAAID,QAAJ,EAAc;EACZxW,QAAAA,QAAQ,CAACqW,IAAT,CAAcK,WAAd,CAA0BF,QAA1B;EACD;EACF;;EAEDS,IAAAA,YAAY,GAAG;EACb,YAAMyG,cAAc,GAAG,KAAKtX,OAAL,CAAakF,OAAb,CAAqBxJ,gBAArB,CAAsC,gBAAtC,CAAvB;;EAEA,UAAI4b,cAAJ,EAAoB;EAClBjc,QAAAA,KAAK,CAACC,IAAN,CAAWgc,cAAX,EAA2B/b,OAA3B,CAAmCsU,MAAM,IAAI,KAAK1E,eAAL,CAAqB;EAAE/G,UAAAA,MAAM,EAAEyL,MAAV;EAAkBjO,UAAAA,KAAK,EAAE;EAAzB,SAArB,CAA7C;EACD;;EAED,UAAI,KAAK0U,WAAT,EAAsB;EACpB,cAAMlG,QAAQ,GAAG,KAAKC,WAAL,EAAjB;EACA,aAAKlF,eAAL,CAAqB;EAAE/G,UAAAA,MAAM,EAAEgM,QAAV;EAAoBxO,UAAAA,KAAK,EAAEM,KAAK,CAACnD;EAAjC,SAArB;EACD;;EAED,WAAKoM,eAAL,CAAqB;EAAE/G,QAAAA,MAAM,EAAExK,QAAV;EAAoBgI,QAAAA,KAAK,EAAE;EAA3B,OAArB;EACD;;EAEDqP,IAAAA,YAAY,GAAG;EACb,YAAMqG,cAAc,GAAG,KAAKtX,OAAL,CAAakF,OAAb,CAAqBxJ,gBAArB,CAAsC,gBAAtC,CAAvB;;EAEA,UAAI4b,cAAJ,EAAoB;EAClBjc,QAAAA,KAAK,CAACC,IAAN,CAAWgc,cAAX,EAA2B/b,OAA3B,CAAmCsU,MAAM,IAAI,KAAKxE,iBAAL,CAAuB;EAAEjH,UAAAA,MAAM,EAAEyL,MAAV;EAAkBjO,UAAAA,KAAK,EAAE;EAAzB,SAAvB,CAA7C;EACD;;EAED,UAAI,KAAK0U,WAAT,EAAsB;EACpB,cAAMlG,QAAQ,GAAG,KAAKC,WAAL,EAAjB;EACA,aAAKhF,iBAAL,CAAuB;EAAEjH,UAAAA,MAAM,EAAEgM,QAAV;EAAoBxO,UAAAA,KAAK,EAAEM,KAAK,CAACnD;EAAjC,SAAvB;EACD;;EAED,WAAKsM,iBAAL,CAAuB;EAAEjH,QAAAA,MAAM,EAAExK,QAAV;EAAoBgI,QAAAA,KAAK,EAAE;EAA3B,OAAvB;EACD;;EAED,WAAOoK,UAAP,GAAoB;EAClB,aAAO9R,IAAP;EACD;;EAED,WAAO8K,YAAP,CAAoBhF,OAApB,EAA6B;EAC3B,aAAO,MAAMgF,YAAN,CAAmBiR,SAAnB,EAA8BjW,OAA9B,CAAP;EACD;;EAjO+B;EAoOlC;;;;;;;EAKAmI,EAAAA,kBAAkB,CAACC,CAAD,EAAIlO,IAAJ,EAAU+b,SAAV,CAAlB;EAEA;;;;;;EAKA,QAAMrH,UAAU,GAAG,EAAnB;EAEA,QAAM2I,SAAS,GAAG3d,QAAQ,CAAC8B,gBAAT,CAA2B,IAAGxB,IAAK,EAAnC,CAAlB;;EACA,MAAIqd,SAAJ,EAAe;EACblc,IAAAA,KAAK,CAACC,IAAN,CAAWic,SAAX,EAAsBhc,OAAtB,CAA+B2J,OAAD,IAAa;EACzC,YAAM4F,MAAM,GAAG/B,mBAAmB,CAAC7D,OAAD,EAAUxF,kBAAV,EAA8B2M,qBAA9B,CAAlC;EACAvB,MAAAA,MAAM,CAAC5F,OAAP,GAAiBA,OAAjB;EAEA0J,MAAAA,UAAU,CAAC/S,IAAX,CAAgB;EAAEqJ,QAAAA,OAAF;EAAWqS,QAAAA,SAAS,EAAE,IAAItB,SAAJ,CAAcnL,MAAd;EAAtB,OAAhB;EACD,KALD;EAMD;;EAEDlR,EAAAA,QAAQ,CAACkD,gBAAT,CAA0B,OAA1B,EAAoC8E,KAAD,IAAW;EAC5C,UAAMwC,MAAM,GAAG8D,gBAAgB,CAACtG,KAAK,CAACwC,MAAP,EAAe,aAAf,CAA/B;;EACA,QAAI,CAACA,MAAL,EAAa;EACX;EACD;;EAED,UAAM0K,cAAc,GAAG1K,MAAM,CAAC/B,YAAP,CAAoB,aAApB,CAAvB;;EACA,QAAIyM,cAAc,IAAIA,cAAc,KAAK5U,IAAzC,EAA+C;EAC7C,YAAMiQ,EAAE,GAAG/F,MAAM,CAAC/B,YAAP,CAAoB,aAApB,CAAX;EACA,YAAM6C,OAAO,GAAGtL,QAAQ,CAACqB,aAAT,CAAuBkP,EAAvB,CAAhB;EAEA,YAAMb,SAAS,GAAGsF,UAAU,CAAC/Q,IAAX,CAAgB4L,CAAC,IAAIA,CAAC,CAACvE,OAAF,KAAcA,OAAnC,CAAlB;;EAEA,UAAI,CAACoE,SAAL,EAAgB;EACd;EACD;;EAEDlF,MAAAA,MAAM,CAACiN,IAAP;EAEA/H,MAAAA,SAAS,CAACiO,SAAV,CAAoBnJ,IAApB;EACD;EACF,GArBD;EAuBA,SAAO6H,SAAP;EACD,CAhTiB,EAgTfxc,MAAM,CAAC2O,CAAP,GAAW3O,MAAM,CAAC2O,CAAlB,GAAsB,IAhTP,CAAlB;;ECVA;;;;;AAKA;EAKA,MAAMoP,QAAQ,GAAG,CAAC,MAAM;EACtB;;;;;EAMA,QAAMtd,IAAI,GAAG,UAAb;EACA,QAAMC,OAAO,GAAG,OAAhB;EACA,QAAMuF,kBAAkB,GAAG;EACzBwF,IAAAA,OAAO,EAAE,IADgB;EAEzBuS,IAAAA,OAAO,EAAE,IAFgB;EAGzBC,IAAAA,MAAM,EAAE;EAHiB,GAA3B;EAKA,QAAMrL,qBAAqB,GAAG,CAC5B,SAD4B,EAE5B,QAF4B,CAA9B;EAKA;;;;;;EAMA,QAAMmL,QAAN,SAAuB3N,SAAvB,CAAiC;EAE/BxP,IAAAA,WAAW,CAAC2F,OAAO,GAAG,EAAX,EAAe;EACxB,YAAM9F,IAAN,EAAYC,OAAZ,EAAqBuF,kBAArB,EAAyCM,OAAzC,EAAkDqM,qBAAlD,EAAyE,KAAzE,EAAgF,KAAhF;EAEA,YAAMsL,QAAQ,GAAG,KAAK3X,OAAL,CAAakF,OAAb,CAAqBjK,aAArB,CAAmC,iBAAnC,CAAjB;EACA,YAAM4I,IAAI,GAAG,KAAK+T,WAAL,CAAiBD,QAAjB,CAAb;EAEA,WAAKE,WAAL,CAAiBhU,IAAI,CAACuC,KAAtB,EAA6BvC,IAAI,CAAC8B,IAAlC,EAAwC,KAAxC;EACD;;EAEDkS,IAAAA,WAAW,CAACzR,KAAK,GAAG,EAAT,EAAaT,IAAI,GAAG,IAApB,EAA0BmS,WAAW,GAAG,IAAxC,EAA8C;EACvD,UAAI,CAAC,KAAK9X,OAAL,CAAayX,OAAlB,EAA2B;EACzB,eAAO,KAAP;EACD;;EAED,UAAIM,WAAW,GAAGpS,IAAlB;EACA,WAAK3F,OAAL,CAAakF,OAAb,CAAqBjK,aAArB,CAAmC,eAAnC,EAAoDQ,SAApD,GAAgEkK,IAAhE;EACA,WAAK3F,OAAL,CAAakF,OAAb,CAAqBjK,aAArB,CAAmC,sBAAnC,EAA2DmL,KAA3D,GAAmEA,KAAnE;EAEA,YAAM4R,KAAK,GAAG,KAAKhY,OAAL,CAAakF,OAAb,CAAqBxJ,gBAArB,CAAsC,OAAtC,KAAkD,EAAhE;EACA,UAAIuc,SAAS,GAAG,KAAhB;EAEA5c,MAAAA,KAAK,CAACC,IAAN,CAAW0c,KAAX,EAAkBzc,OAAlB,CAA2BsI,IAAD,IAAU;EAClC,YAAIA,IAAI,CAACpB,SAAL,CAAeU,QAAf,CAAwB,UAAxB,CAAJ,EAAyC;EACvCU,UAAAA,IAAI,CAACpB,SAAL,CAAeC,MAAf,CAAsB,UAAtB;EACD;;EAED,cAAMyC,IAAI,GAAG,KAAKyS,WAAL,CAAiB/T,IAAjB,CAAb;;EAEA,YAAIuC,KAAK,KAAKjB,IAAI,CAACiB,KAAnB,EAA0B;EACxB,cAAI,CAACvC,IAAI,CAACpB,SAAL,CAAeU,QAAf,CAAwB,UAAxB,CAAL,EAA0C;EACxCU,YAAAA,IAAI,CAACpB,SAAL,CAAeM,GAAf,CAAmB,UAAnB;EACD;;EAEDgV,UAAAA,WAAW,GAAG5S,IAAI,CAACQ,IAAnB;EACAsS,UAAAA,SAAS,GAAG,IAAZ;EACD;EACF,OAfD;;EAiBA,UAAIH,WAAW,IAAIG,SAAnB,EAA8B;EAC5B,aAAKjY,OAAL,CAAakF,OAAb,CAAqBjK,aAArB,CAAmC,eAAnC,EAAoDQ,SAApD,GAAgEsc,WAAhE;EACD,OAFD,MAEO,IAAID,WAAW,IAAI,CAACG,SAApB,EAA+B;EACpC,cAAM,IAAIlc,KAAJ,CAAW,GAAE7B,IAAK,gBAAekM,KAAM,wCAAvC,CAAN;EACD;;EAED,aAAO,IAAP;EACD;;EAED8R,IAAAA,WAAW,GAAG;EACZ,aAAO,KAAKlY,OAAL,CAAakF,OAAb,CAAqBjK,aAArB,CAAmC,sBAAnC,EAA2DmL,KAAlE;EACD;;EAEDwR,IAAAA,WAAW,CAAC/T,IAAI,GAAG,IAAR,EAAc;EACvB,UAAI8B,IAAI,GAAG,EAAX;EACA,UAAIS,KAAK,GAAG,EAAZ;;EAEA,UAAIvC,IAAJ,EAAU;EACR8B,QAAAA,IAAI,GAAG9B,IAAI,CAACxB,YAAL,CAAkB,WAAlB,KAAkCwB,IAAI,CAACpI,SAA9C;EAEA,cAAM0c,gBAAgB,GAAGtU,IAAI,CAAC5I,aAAL,CAAmB,OAAnB,CAAzB;;EACA,YAAIkd,gBAAJ,EAAsB;EACpBxS,UAAAA,IAAI,GAAGwS,gBAAgB,CAAC1c,SAAxB;EACD;;EAED2K,QAAAA,KAAK,GAAGvC,IAAI,CAACxB,YAAL,CAAkB,YAAlB,KAAmC,EAA3C;EACD;;EAED,aAAO;EAAEsD,QAAAA,IAAF;EAAQS,QAAAA;EAAR,OAAP;EACD;;EAED2F,IAAAA,cAAc,CAACnK,KAAD,EAAQ;EACpB,UAAIA,KAAK,CAACqH,IAAN,KAAe/G,KAAK,CAACnD,KAAzB,EAAgC;EAC9B,cAAMqZ,QAAQ,GAAGrQ,iBAAiB,CAACnG,KAAK,CAACwC,MAAP,EAAe,UAAf,CAAlC;EAEA;;;;;EAIA,YAAI,CAACgU,QAAD,IAAaA,QAAQ,KAAK,KAAKpN,UAAL,EAA9B,EAAiD;EAC/C,eAAK0D,IAAL;EACD;EACF,OAVD,MAUO,IAAI9M,KAAK,CAACqH,IAAN,KAAe,OAAnB,EAA4B;EACjC,cAAMpF,IAAI,GAAGkE,iBAAiB,CAACnG,KAAK,CAACwC,MAAP,EAAe,MAAf,CAA9B;;EAEA,YAAIP,IAAJ,EAAU;EACR,cAAIA,IAAI,CAACpB,SAAL,CAAeU,QAAf,CAAwB,UAAxB,CAAJ,EAAyC;EACvC;EACD;;EAED,gBAAMkV,QAAQ,GAAG,KAAKT,WAAL,CAAiB/T,IAAjB,CAAjB;;EAEA,cAAI,KAAKqU,WAAL,OAAuBG,QAAQ,CAACjS,KAApC,EAA2C;EACzC;EACA,iBAAKyR,WAAL,CAAiBQ,QAAQ,CAACjS,KAA1B,EAAiCiS,QAAQ,CAAC1S,IAA1C,EAAgD,KAAhD;EACA,kBAAMpM,MAAM,GAAG;EAAEsK,cAAAA,IAAF;EAAQ8B,cAAAA,IAAI,EAAE0S,QAAQ,CAAC1S,IAAvB;EAA6BS,cAAAA,KAAK,EAAEiS,QAAQ,CAACjS;EAA7C,aAAf;EACA,iBAAKmF,YAAL,CAAkBrJ,KAAK,CAAC1C,aAAxB,EAAuCjG,MAAvC;EACD;;EAED,eAAKmV,IAAL;EACA;EACD,SAnBgC;;;EAsBjC,cAAM4J,YAAY,GAAGvQ,iBAAiB,CAACnG,KAAK,CAACwC,MAAP,EAAe,eAAf,CAAtC;;EACA,YAAIkU,YAAJ,EAAkB;EAChB;EACD;;EAED,aAAK3E,MAAL;EACD;EACF;;EAEDA,IAAAA,MAAM,GAAG;EACP,UAAI,KAAK3T,OAAL,CAAakF,OAAb,CAAqBzC,SAArB,CAA+BU,QAA/B,CAAwC,QAAxC,CAAJ,EAAuD;EACrD,eAAO,KAAKuL,IAAL,EAAP;EACD;;EAED,aAAO,KAAKN,IAAL,EAAP;EACD;;EAEDA,IAAAA,IAAI,GAAG;EACL,UAAI,KAAKpO,OAAL,CAAakF,OAAb,CAAqBzC,SAArB,CAA+BU,QAA/B,CAAwC,QAAxC,CAAJ,EAAuD;EACrD,eAAO,KAAP;EACD;;EAED,WAAKnD,OAAL,CAAakF,OAAb,CAAqBzC,SAArB,CAA+BM,GAA/B,CAAmC,QAAnC;EAEA,YAAMuV,YAAY,GAAG,KAAKtY,OAAL,CAAakF,OAAb,CAAqBjK,aAArB,CAAmC,gBAAnC,CAArB,CAPK;;EAULqd,MAAAA,YAAY,CAACC,SAAb,GAAyB,CAAzB;EAEA,WAAKhN,YAAL,CAAkBrJ,KAAK,CAACxD,IAAxB;EACA,WAAK6M,YAAL,CAAkBrJ,KAAK,CAACvD,KAAxB;EAEA,WAAKwM,eAAL,CAAqB;EAAE/G,QAAAA,MAAM,EAAEkU,YAAV;EAAwB1W,QAAAA,KAAK,EAAE;EAA/B,OAArB;EACA,WAAKuJ,eAAL,CAAqB;EAAE/G,QAAAA,MAAM,EAAExK,QAAQ,CAACqW,IAAnB;EAAyBrO,QAAAA,KAAK,EAAEM,KAAK,CAACnD;EAAtC,OAArB;EAEA,aAAO,IAAP;EACD;;EAED2P,IAAAA,IAAI,GAAG;EACL,UAAI,CAAC,KAAK1O,OAAL,CAAakF,OAAb,CAAqBzC,SAArB,CAA+BU,QAA/B,CAAwC,QAAxC,CAAL,EAAwD;EACtD,eAAO,KAAP;EACD;;EAED,WAAKnD,OAAL,CAAakF,OAAb,CAAqBzC,SAArB,CAA+BC,MAA/B,CAAsC,QAAtC;EAEA,WAAK6I,YAAL,CAAkBrJ,KAAK,CAACtD,IAAxB;EACA,WAAK2M,YAAL,CAAkBrJ,KAAK,CAACrD,MAAxB;EAEA,WAAKwM,iBAAL,CAAuB;EAAEjH,QAAAA,MAAM,EAAE,KAAKpE,OAAL,CAAakF,OAAb,CAAqBjK,aAArB,CAAmC,gBAAnC,CAAV;EAAgE2G,QAAAA,KAAK,EAAE;EAAvE,OAAvB;EACA,WAAKyJ,iBAAL,CAAuB;EAAEjH,QAAAA,MAAM,EAAExK,QAAQ,CAACqW,IAAnB;EAAyBrO,QAAAA,KAAK,EAAEM,KAAK,CAACnD;EAAtC,OAAvB;EAEA,aAAO,IAAP;EACD;;EAED,WAAOiN,UAAP,GAAoB;EAClB,aAAO9R,IAAP;EACD;;EAED,WAAO8K,YAAP,CAAoBhF,OAApB,EAA6B;EAC3B,aAAO,MAAMgF,YAAN,CAAmBwS,QAAnB,EAA6BxX,OAA7B,CAAP;EACD;;EApK8B;EAuKjC;;;;;;;EAKA,QAAM4O,UAAU,GAAG,EAAnB;EAEA,QAAM4J,SAAS,GAAG5e,QAAQ,CAAC8B,gBAAT,CAA2B,IAAGxB,IAAK,EAAnC,CAAlB;;EACA,MAAIse,SAAJ,EAAe;EACbnd,IAAAA,KAAK,CAACC,IAAN,CAAWkd,SAAX,EAAsBjd,OAAtB,CAA+B2J,OAAD,IAAa;EACzC,YAAM4F,MAAM,GAAG/B,mBAAmB,CAAC7D,OAAD,EAAUxF,kBAAV,EAA8B2M,qBAA9B,CAAlC;EACAvB,MAAAA,MAAM,CAAC5F,OAAP,GAAiBA,OAAjB;;EAEA,UAAI,CAAC4F,MAAM,CAAC4M,MAAZ,EAAoB;EAClB9I,QAAAA,UAAU,CAAC/S,IAAX,CAAgB,IAAI2b,QAAJ,CAAa1M,MAAb,CAAhB;EACD;EACF,KAPD;EAQD;;EAEDlR,EAAAA,QAAQ,CAACkD,gBAAT,CAA0B,OAA1B,EAAoC8E,KAAD,IAAW;EAC5C,UAAM0W,YAAY,GAAGvQ,iBAAiB,CAACnG,KAAK,CAACwC,MAAP,EAAe,eAAf,CAAtC;;EACA,QAAIkU,YAAJ,EAAkB;EAChB;EACD;;EAED,UAAMF,QAAQ,GAAGrQ,iBAAiB,CAACnG,KAAK,CAACwC,MAAP,EAAe,UAAf,CAAlC;;EAEA,QAAIgU,QAAJ,EAAc;EACZ,YAAMtJ,cAAc,GAAGsJ,QAAQ,CAAC/V,YAAT,CAAsB,aAAtB,CAAvB;;EACA,UAAIyM,cAAc,IAAIA,cAAc,KAAK5U,IAArC,IAA6Cke,QAAjD,EAA2D;EACzD,cAAM9O,SAAS,GAAGsF,UAAU,CAAC/Q,IAAX,CAAgB4L,CAAC,IAAIA,CAAC,CAACuB,UAAF,OAAmBoN,QAAxC,CAAlB;;EAEA,YAAI,CAAC9O,SAAL,EAAgB;EACd;EACD;;EAEDA,QAAAA,SAAS,CAACqK,MAAV;EACD;EACF;EACF,GApBD;EAsBA,SAAO6D,QAAP;EACD,CA1OgB,GAAjB;;ECVA;;;;;AAKA;EAIA,MAAMiB,cAAc,GAAG,CAAErQ,CAAD,IAAO;EAE7B;;;;;EAMA,QAAMlO,IAAI,GAAGsd,QAAQ,CAACxL,UAAT,EAAb;EACA,QAAMtM,kBAAkB,GAAG;EACzBwF,IAAAA,OAAO,EAAE,IADgB;EAEzBuS,IAAAA,OAAO,EAAE,IAFgB;EAGzBC,IAAAA,MAAM,EAAE;EAHiB,GAA3B;EAKA,QAAMrL,qBAAqB,GAAG,CAC5B,SAD4B,EAE5B,QAF4B,CAA9B;EAKA;;;;;;EAMA,QAAMoM,cAAN,SAA6BjB,QAA7B,CAAsC;EAEpCnd,IAAAA,WAAW,CAAC2F,OAAO,GAAG,EAAX,EAAe;EACxB,YAAMA,OAAN;;EAEA,WAAK0Y,kBAAL,GAA2B9W,KAAD,IAAW;EACnC,cAAM8V,MAAM,GAAG9V,KAAK,CAACwC,MAAN,CAAagC,KAA5B;;EAEA,YAAIsR,MAAM,KAAK,EAAf,EAAmB;EACjB,eAAKiB,SAAL;EACA;EACD;;EAGD,aAAKC,QAAL,GAAgBrd,OAAhB,CAAyBsI,IAAD,IAAU;EAChC,gBAAM5H,EAAE,GAAG,OAAO,KAAK+D,OAAL,CAAa6Y,UAApB,KAAmC,UAAnC,GAAgD,KAAK7Y,OAAL,CAAa6Y,UAA7D,GAA0E,KAAKA,UAA1F;;EAEA,cAAI5c,EAAE,CAACyb,MAAD,EAAS7T,IAAT,CAAN,EAAsB;EACpBA,YAAAA,IAAI,CAACqB,OAAL,CAAanH,KAAb,CAAmB+U,OAAnB,GAA6B,OAA7B;EACD,WAFD,MAEO;EACLjP,YAAAA,IAAI,CAACqB,OAAL,CAAanH,KAAb,CAAmB+U,OAAnB,GAA6B,MAA7B;EACD;EACF,SARD;EASD,OAlBD;;EAoBA,WAAKgG,cAAL,GAAsBhc,gBAAtB,CAAuC,OAAvC,EAAgD,KAAK4b,kBAArD;EACD;;EAEDG,IAAAA,UAAU,CAACnB,MAAM,GAAG,EAAV,EAAc7T,IAAI,GAAG,EAArB,EAAyB;EACjC,UAAIA,IAAI,CAACuC,KAAL,CAAW3C,OAAX,CAAmBiU,MAAnB,IAA6B,CAAC,CAA9B,IACC7T,IAAI,CAAC8B,IAAL,CAAUlC,OAAV,CAAkBiU,MAAlB,IAA4B,CAAC,CADlC,EACqC;EACnC,eAAO,IAAP;EACD;;EAED,aAAO,KAAP;EACD;;EAEDkB,IAAAA,QAAQ,GAAG;EACT,UAAIZ,KAAK,GAAG3c,KAAK,CAACC,IAAN,CAAW,KAAK0E,OAAL,CAAakF,OAAb,CAAqBxJ,gBAArB,CAAsC,OAAtC,KAAkD,EAA7D,CAAZ;EACAsc,MAAAA,KAAK,GAAGA,KAAK,CAACpU,GAAN,CAAWC,IAAD,IAAU;EAC1B,cAAMkV,IAAI,GAAG,KAAKnB,WAAL,CAAiB/T,IAAjB,CAAb;EACA,eAAO;EAAE8B,UAAAA,IAAI,EAAEoT,IAAI,CAACpT,IAAb;EAAmBS,UAAAA,KAAK,EAAE2S,IAAI,CAAC3S,KAA/B;EAAsClB,UAAAA,OAAO,EAAErB;EAA/C,SAAP;EACD,OAHO,CAAR;EAKA,aAAOmU,KAAP;EACD;;EAEDW,IAAAA,SAAS,GAAG;EACV,WAAKC,QAAL,GAAgBrd,OAAhB,CAAyBsI,IAAD,IAAU;EAChC,cAAMmV,CAAC,GAAGnV,IAAV;EACAmV,QAAAA,CAAC,CAAC9T,OAAF,CAAUnH,KAAV,CAAgB+U,OAAhB,GAA0B,OAA1B;EACD,OAHD;EAID;;EAEDgG,IAAAA,cAAc,GAAG;EACf,aAAO,KAAK9Y,OAAL,CAAakF,OAAb,CAAqBjK,aAArB,CAAmC,sBAAnC,CAAP;EACD;;EAEDyT,IAAAA,IAAI,GAAG;EACL,UAAI,MAAMA,IAAN,EAAJ,EAAkB;EAChB;EACA,aAAKoK,cAAL,GAAsB1S,KAAtB,GAA8B,EAA9B,CAFgB;;EAIhB,aAAKuS,SAAL;EACD;EACF;;EAED,WAAO3T,YAAP,CAAoBhF,OAApB,EAA6B;EAC3B,aAAO,IAAIyY,cAAJ,CAAmBzY,OAAnB,CAAP;EACD;;EArEmC;EAwEtC;;;;;;;EAKAmI,EAAAA,kBAAkB,CAACC,CAAD,EAAIlO,IAAJ,EAAUue,cAAV,CAAlB;EAEA;;;;;;EAKA,QAAM7J,UAAU,GAAG,EAAnB;EACA,QAAM4J,SAAS,GAAG5e,QAAQ,CAAC8B,gBAAT,CAA2B,IAAGxB,IAAK,EAAnC,CAAlB;;EAEA,MAAIse,SAAJ,EAAe;EACbnd,IAAAA,KAAK,CAACC,IAAN,CAAWkd,SAAX,EAAsBjd,OAAtB,CAA+B2J,OAAD,IAAa;EACzC,YAAM4F,MAAM,GAAG/B,mBAAmB,CAAC7D,OAAD,EAAUxF,kBAAV,EAA8B2M,qBAA9B,CAAlC;EACAvB,MAAAA,MAAM,CAAC5F,OAAP,GAAiBA,OAAjB;;EAEA,UAAI4F,MAAM,CAAC4M,MAAX,EAAmB;EACjB;EACA9I,QAAAA,UAAU,CAAC/S,IAAX,CAAgB,IAAI4c,cAAJ,CAAmB3N,MAAnB,CAAhB;EACD;EACF,KARD;EASD;;EAED,MAAI0N,SAAJ,EAAe;EACb5e,IAAAA,QAAQ,CAACkD,gBAAT,CAA0B,OAA1B,EAAoC8E,KAAD,IAAW;EAC5C,YAAM0W,YAAY,GAAGvQ,iBAAiB,CAACnG,KAAK,CAACwC,MAAP,EAAe,eAAf,CAAtC;;EACA,UAAIkU,YAAJ,EAAkB;EAChB;EACD;;EAED,YAAMF,QAAQ,GAAGrQ,iBAAiB,CAACnG,KAAK,CAACwC,MAAP,EAAe,UAAf,CAAlC;;EAEA,UAAIgU,QAAJ,EAAc;EACZ,cAAMtJ,cAAc,GAAGsJ,QAAQ,CAAC/V,YAAT,CAAsB,aAAtB,CAAvB;;EACA,YAAIyM,cAAc,IAAIA,cAAc,KAAK5U,IAArC,IAA6Cke,QAAjD,EAA2D;EACzD,gBAAM9O,SAAS,GAAGsF,UAAU,CAAC/Q,IAAX,CAAgB4L,CAAC,IAAIA,CAAC,CAACuB,UAAF,OAAmBoN,QAAxC,CAAlB;;EAEA,cAAI,CAAC9O,SAAL,EAAgB;EACd;EACD;;EAEDA,UAAAA,SAAS,CAACqK,MAAV;EACD;EACF;EACF,KApBD;EAqBD;;EAED,SAAO8E,cAAP;EACD,CArJsB,EAqJpBhf,MAAM,CAAC2O,CAAP,GAAW3O,MAAM,CAAC2O,CAAlB,GAAsB,IArJF,CAAvB;;ECTA;;;;;AAMA,EAoBA,MAAM6Q,GAAG,GAAG,EAAZ;EAEA;;;;;;EAKAA,GAAG,CAACC,KAAJ,GAAalZ,OAAD,IAAa;EACvB,MAAI,OAAOiZ,GAAG,CAACE,MAAX,KAAsB,WAA1B,EAAuC;EACrCF,IAAAA,GAAG,CAACE,MAAJ,GAAa1Z,KAAK,CAACuF,YAAN,CAAmBhF,OAAnB,CAAb;EACD;;EACD,SAAOiZ,GAAG,CAACE,MAAX;EACD,CALD;EAOA;;;;;;;EAKAF,GAAG,CAACG,IAAJ,GAAW5S,IAAI,CAACxB,YAAhB;EAEA;;;;;;EAKAiU,GAAG,CAACI,OAAJ,GAAcnN,OAAO,CAAClH,YAAtB;EAEA;;;;;;EAKAiU,GAAG,CAAC9F,YAAJ,GAAmBT,YAAY,CAAC1N,YAAhC;EAEA;;;;;EAMA;;EACAiU,GAAG,CAAC7H,KAAJ,GAAYpC,KAAK,CAAChK,YAAlB;;EAGAiU,GAAG,CAACK,MAAJ,GAAaC,MAAW,CAACvU,YAAzB;;EAEAiU,GAAG,CAACO,OAAJ,GAAcC,OAAY,CAACzU,YAA3B;;EAEAiU,GAAG,CAACS,WAAJ,GAAkBC,QAAW,CAAC3U,YAA9B;EAEA;;;;;;EAKAiU,GAAG,CAAC/E,QAAJ,GAAeR,QAAQ,CAAC1O,YAAxB;EAEA;;;;;;EAKAiU,GAAG,CAAClK,KAAJ,GAAYd,KAAK,CAACjJ,YAAlB;EAEA;;;;;;EAKAiU,GAAG,CAACtE,SAAJ,GAAgBZ,SAAS,CAAC/O,YAA1B;EAGA;;;;;;EAKAiU,GAAG,CAAC/D,GAAJ,GAAUJ,GAAG,CAAC9P,YAAd;EAEA;;;;;;EAKAiU,GAAG,CAAClD,QAAJ,GAAeR,QAAQ,CAACvQ,YAAxB;EAEA;;;;;;EAKAiU,GAAG,CAACW,MAAJ,GAAa/H,MAAM,CAAC7M,YAApB;EAEA;;;;;;EAKAiU,GAAG,CAAC1B,SAAJ,GAAgBtB,SAAS,CAACjR,YAA1B;EAEA;;;;;;EAKAiU,GAAG,CAACb,QAAJ,GAAgBpY,OAAD,IAAa;EAC1B,MAAIA,OAAO,CAAC0X,MAAZ,EAAoB;EAClB;EACA,WAAOe,cAAc,CAACzT,YAAf,CAA4BhF,OAA5B,CAAP;EACD,GAJyB;;;EAO1B,SAAOwX,QAAQ,CAACxS,YAAT,CAAsBhF,OAAtB,CAAP;EACD,CARD;;;EAWAvG,MAAM,CAACogB,MAAP,GAAgBZ,GAAhB;;;;;;;;"}