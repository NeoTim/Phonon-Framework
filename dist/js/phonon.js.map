{"version":3,"file":"phonon.js","sources":["../../src/js/common/events/dispatch.js","../../src/js/hybrid-apps/pager/page.js","../../src/js/common/events/index.js","../../src/js/hybrid-apps/pager/index.js","../../src/js/hybrid-apps/i18n/binder.js","../../src/js/hybrid-apps/i18n/index.js","../../src/js/common/utils/index.js","../../src/js/components/componentManager.js","../../src/js/components/component.js","../../src/js/common/network/index.js","../../src/js/components/alert/index.js","../../src/js/components/modal/index.js","../../src/js/components/modal/prompt.js","../../src/js/components/modal/confirm.js","../../src/js/components/loader/index.js","../../src/js/components/modal/loader.js","../../src/js/components/notification/index.js","../../src/js/components/collapse/index.js","../../src/js/components/accordion/index.js","../../src/js/components/tab/index.js","../../src/js/components/progress/index.js","../../src/js/components/off-canvas/index.js","../../src/js/components/selectbox/index.js","../../src/js/components/selectbox/search.js","../../src/js/components/dropdown/index.js","../../src/js/index.js"],"sourcesContent":["export function dispatchWinDocEvent(eventName, moduleName, detail = {}) {\n  const fullEventName = `${eventName}.ph.${moduleName}`;\n  window.dispatchEvent(new CustomEvent(fullEventName, { detail }));\n  document.dispatchEvent(new CustomEvent(fullEventName, { detail }));\n}\n\nexport function dispatchElementEvent(domElement, eventName, moduleName, detail = {}) {\n  const fullEventName = `${eventName}.ph.${moduleName}`;\n  domElement.dispatchEvent(new CustomEvent(fullEventName, { detail }));\n}\n\nexport function dispatchPageEvent(eventName, pageName, detail = {}) {\n  const fullEventName = `${pageName}.${eventName}`;\n  window.dispatchEvent(new CustomEvent(fullEventName, { detail }));\n  document.dispatchEvent(new CustomEvent(fullEventName, { detail }));\n}\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport { dispatchPageEvent } from '../../common/events/dispatch';\n\nconst Page = (() => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'page';\n  const VERSION = '2.0.0';\n\n  const TEMPLATE_SELECTOR = '[data-template]';\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Page {\n    /**\n     * Creates an instance of Page.\n     * @param {string} pageName\n     */\n    constructor(pageName) {\n      this.name = pageName;\n      this.events = [];\n      this.templatePath = null;\n      this.renderFunction = null;\n      this.route = `/${pageName}`;\n      this.routeRegex = null;\n      this.routeParams = [];\n\n      this.setRoute(`/${pageName}`);\n    }\n\n    // getters\n\n    static get version() {\n      return `${NAME}.${VERSION}`;\n    }\n\n    /**\n     * Get events\n     * @returns {Function[]}\n     */\n    getEvents() {\n      return this.events;\n    }\n\n    /**\n     * Get template\n     * @returns {string}\n     */\n    getTemplate() {\n      return this.template;\n    }\n\n    /**\n     * Get route\n     * @returns {string}\n     */\n    getRoute() {\n      return {\n        route: this.route,\n        regex: this.routeRegex,\n        params: this.routeParams,\n      };\n    }\n\n    /**\n     * Set route\n     * @returns {undefined}\n     */\n    setRoute(route) {\n      const regParams = /{(.*?)}/g;\n\n      this.route = route;\n      this.routeRegex = `${route.replace(/({.*?})/g, '(.*?)')}$`;\n      this.routeParams = (route.match(regParams) || []).map(e => e.replace(regParams, '$1'));\n    }\n\n    getRouteLink(params = null) {\n      const reg = /{(.*?)}/g;\n      const { route } = this.getRoute();\n      const linkWithParams = (route.match(reg) || []).reduce((cur, param) => {\n        const paramName = param.replace(/{|}/g, '');\n        return cur.replace(new RegExp(param), params ? params[paramName] : 'null');\n      }, route);\n\n      return linkWithParams;\n    }\n\n    validHash(hash) {\n      const link = this.getRouteLink(this.getParams(hash));\n      return link === hash;\n    }\n\n    getParams(hash) {\n      const hashParams = {};\n      const { regex, params } = this.getRoute();\n      const hashValues = (new RegExp(regex, 'g').exec(hash) || []).slice(1);\n\n      params.forEach((p, i) => {\n        hashParams[p] = hashValues[i];\n      });\n\n      return hashParams;\n    }\n\n    /**\n     * Get render function\n     * @returns {Function}\n     */\n    getRenderFunction() {\n      return this.renderFunction;\n    }\n\n    async renderTemplate() {\n      const pageElement = document.querySelector(`[data-page=\"${this.name}\"]`);\n\n      let render = async function (DOMPage, template, elements) {\n        if (elements) {\n          Array.from(elements).forEach((el) => {\n            el.innerHTML = template;\n          });\n        } else {\n          DOMPage.innerHTML = template;\n        }\n      };\n\n      if (this.getRenderFunction()) {\n        render = this.getRenderFunction();\n      }\n\n      await render(pageElement, this.getTemplate(), Array.from(pageElement.querySelectorAll(TEMPLATE_SELECTOR) || []));\n    }\n\n    // public\n\n    /**\n     *\n     * @param {*} callbackFn\n     */\n    addEvents(callbackFn) {\n      this.events.push(callbackFn);\n    }\n\n    /**\n     * Use the given template\n     *\n     * @param {string} template\n     * @param {Function} renderFunction\n     */\n    setTemplate(template = null, renderFunction = null) {\n      if (typeof template !== 'string') {\n        throw new Error(`The template path must be a string. ${typeof template} is given`);\n      }\n\n      this.template = template;\n\n      if (typeof renderFunction === 'function') {\n        this.renderFunction = renderFunction;\n      }\n    }\n\n    /**\n     * Add a transition handler\n     *\n     * @param {Function} fn\n     */\n    preventTransition(fn) {\n      if (typeof fn !== 'function') {\n        throw new Error(`${NAME}: invalid function to handle page transitions`);\n      }\n      this.preventTransitionFn = fn;\n    }\n\n    getPreventTransition() {\n      return this.preventTransitionFn;\n    }\n\n    /**\n     * Trigger scopes\n     * @param {string} eventName\n     * @param {{}} [eventParams={}]\n     */\n    triggerScopes(eventName, eventParams = {}) {\n      const eventNameAlias = `on${eventName.charAt(0).toUpperCase()}${eventName.slice(1)}`;\n\n      this.events.forEach((scope) => {\n        const scopeEvent = scope[eventName];\n        const scopeEventAlias = scope[eventNameAlias];\n        if (typeof scopeEvent === 'function') {\n          scopeEvent.apply(this, [eventParams]);\n        }\n\n        // trigger the event alias\n        if (typeof scopeEventAlias === 'function') {\n          scopeEventAlias.apply(this, [eventParams]);\n        }\n      });\n\n      dispatchPageEvent(eventName, this.name, eventParams);\n    }\n  }\n\n  return Page;\n})();\n\nexport default Page;\n","// @todo keep ?\nif (typeof window !== 'undefined') {\n  window.addEventListener('error', () => {\n    console.error('An error has occured! You can pen an issue here: https://github.com/quark-dev/Phonon-Framework/issues');\n  });\n}\n\n// Use available events\nlet availableEvents = ['mousedown', 'mousemove', 'mouseup'];\nlet touchScreen = false;\n\nif (typeof window !== 'undefined') {\n  if (('ontouchstart' in window) || window.DocumentTouch && document instanceof DocumentTouch) {\n    touchScreen = true;\n    availableEvents = ['touchstart', 'touchmove', 'touchend', 'touchcancel'];\n  }\n\n  if (window.navigator.pointerEnabled) {\n    availableEvents = ['pointerdown', 'pointermove', 'pointerup', 'pointercancel'];\n  } else if (window.navigator.msPointerEnabled) {\n    availableEvents = ['MSPointerDown', 'MSPointerMove', 'MSPointerUp', 'MSPointerCancel'];\n  }\n}\n\nconst el = document.createElement('div');\nconst transitions = [\n  { name: 'transition', start: 'transitionstart', end: 'transitionend' },\n  { name: 'MozTransition', start: 'transitionstart', end: 'transitionend' },\n  { name: 'msTransition', start: 'msTransitionStart', end: 'msTransitionEnd' },\n  { name: 'WebkitTransition', start: 'webkitTransitionStart', end: 'webkitTransitionEnd' },\n];\nconst animations = [\n  { name: 'animation', start: 'animationstart', end: 'animationend' },\n  { name: 'MozAnimation', start: 'animationstart', end: 'animationend' },\n  { name: 'msAnimation', start: 'msAnimationStart', end: 'msAnimationEnd' },\n  { name: 'WebkitAnimation', start: 'webkitAnimationStart', end: 'webkitAnimationEnd' },\n];\n\nconst transitionStart = transitions.find(t => el.style[t.name] !== undefined).start;\nconst transitionEnd = transitions.find(t => el.style[t.name] !== undefined).end;\nconst animationStart = animations.find(t => el.style[t.name] !== undefined).start;\nconst animationEnd = animations.find(t => el.style[t.name] !== undefined).end;\n\nexport default {\n  // touch screen support\n  TOUCH_SCREEN: touchScreen,\n\n  // network\n  NETWORK_ONLINE: 'online',\n  NETWORK_OFFLINE: 'offline',\n  NETWORK_RECONNECTING: 'reconnecting',\n  NETWORK_RECONNECTING_SUCCESS: 'reconnect.success',\n  NETWORK_RECONNECTING_FAILURE: 'reconnect.failure',\n\n  // user interface states\n  SHOW: 'show',\n  SHOWN: 'shown',\n  HIDE: 'hide',\n  HIDDEN: 'hidden',\n\n  // hash\n  HASH: 'hash',\n\n  // touch, mouse and pointer events polyfill\n  START: availableEvents[0],\n  MOVE: availableEvents[1],\n  END: availableEvents[2],\n  CANCEL: typeof availableEvents[3] === 'undefined' ? null : availableEvents[3],\n\n  // click\n  CLICK: 'click',\n\n  // transitions\n  TRANSITION_START: transitionStart,\n  TRANSITION_END: transitionEnd,\n\n  // animations\n  ANIMATION_START: animationStart,\n  ANIMATION_END: animationEnd,\n\n  // selectbox\n  ITEM_SELECTED: 'itemSelected',\n};\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport Page from './page';\nimport Event from '../../common/events';\n\nconst Pager = (() => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'pager';\n  const VERSION = '2.0.0';\n  const DEFAULT_PROPERTIES = {\n    hashPrefix: '#!',\n    useHash: true,\n    defaultPage: null,\n    animatePages: true,\n  };\n\n  let currentPage;\n  let lastHash = null;\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Pager {\n    /**\n     * @constructor\n     *\n     * @param options {Object}\n     */\n    constructor(options = {}) {\n      this.options = Object.assign(DEFAULT_PROPERTIES, options);\n\n      this.pages = [];\n      this.started = false;\n\n      // add global listeners such ash hash change, navigation, etc.\n      this.addPagerEvents();\n\n      // faster way to init pages before the DOM is ready\n      this.onDOMLoaded();\n    }\n\n    // private\n    _(selector) {\n      return document.querySelector(selector);\n    }\n\n    getRoute() {\n      return window.location.hash.split(this.options.hashPrefix)[1];\n    }\n\n    getHash() {\n      return window.location.hash;\n    }\n\n    getHashParams() {\n      const page = this.getPageModel(currentPage);\n      return page.getParams(this.getHash());\n    }\n\n    getPageFromHash() {\n      const hash = this.getHash() || '';\n      const page = this.pages.find(p => hash.match(p.getRoute().regex));\n\n      return page ? page.name : null;\n    }\n\n    setHash(pageName, params = null) {\n      const page = this.getPageModel(pageName);\n      if (!page) {\n        throw new Error(`Cannot change the route of unknown page ${pageName}`);\n      }\n\n      window.location.hash = `${this.options.hashPrefix}${page.getRouteLink(params)}`;\n    }\n\n    isPageOf(pageName1, pageName2) {\n      const page1 = this.getPageModel(pageName1);\n      const page2 = this.getPageModel(pageName2);\n      return page1 && page2 && page1.name === page2.name;\n    }\n\n    /**\n     * Attaches the main events for tracking hash changes,\n     * click on navigation buttons and links and back history\n     */\n    addPagerEvents() {\n      document.addEventListener('click', event => this.onClick(event));\n      document.addEventListener('DOMContentLoaded', event => this.onDOMLoaded(event));\n      if (this.options.useHash) {\n        window.addEventListener('hashchange', event => this.onHashChange(event));\n      }\n    }\n\n    // getters\n\n    static get version() {\n      return `${NAME}.${VERSION}`;\n    }\n\n    async preventChangePage(oldPageName, pageName, params) {\n      const oldPage = this.getPageModel(oldPageName);\n      const preventFn = oldPage.getPreventTransition();\n\n      if (typeof preventFn === 'function') {\n        return preventFn(oldPageName, pageName, params);\n      }\n\n      return false;\n    }\n\n    // public\n\n    async showPage(pageName, params = null, back = false) {\n      /*\n       * If we he use the hash as trigger,\n       * we change it dynamically so that the hashchange event is called\n       * Otherwise, we show the page\n       */\n      if (this.options.useHash && this.getPageFromHash() !== pageName) {\n        this.setHash(pageName, params);\n        return;\n      }\n\n      const oldPage = this._('.current');\n      let oldPageName = null;\n\n      if (oldPage) {\n        oldPageName = oldPage.getAttribute('data-page');\n\n        if (this.isPageOf(pageName, oldPageName)) {\n          return;\n        }\n\n        if (await this.preventChangePage(oldPageName, pageName, params)) {\n          if (this.options.useHash) {\n            window.location.hash = lastHash;\n          }\n\n          return;\n        }\n\n        oldPage.classList.remove('current');\n\n        // history\n        window.history.replaceState({ page: pageName }, oldPageName);\n\n        this.triggerPageEvent(oldPageName, Event.HIDE);\n      }\n\n      currentPage = pageName;\n\n      // new page\n      const newPage = this._(`[data-page=\"${currentPage}\"]`);\n\n      newPage.classList.add('current');\n\n      // render template\n      const pageModel = this.getPageModel(currentPage);\n\n      const hashParams = pageModel.getParams(this.getHash());\n\n      this.triggerPageEvent(currentPage, Event.SHOW, hashParams);\n\n\n      if (pageModel && pageModel.getTemplate()) {\n        await pageModel.renderTemplate();\n      }\n\n      if (oldPage) {\n        // use of prototype-oriented language\n        oldPage.back = back;\n        oldPage.previousPageName = oldPageName;\n\n        const onPageAnimationEnd = () => {\n          if (oldPage.classList.contains('animate')) {\n            oldPage.classList.remove('animate');\n          }\n\n          oldPage.classList.remove(oldPage.back ? 'pop-page' : 'push-page');\n\n          this.triggerPageEvent(currentPage, Event.SHOWN, hashParams);\n          this.triggerPageEvent(oldPage.previousPageName, Event.HIDDEN);\n\n          oldPage.removeEventListener(Event.ANIMATION_END, onPageAnimationEnd);\n        };\n\n        if (this.options.animatePages) {\n          oldPage.addEventListener(Event.ANIMATION_END, onPageAnimationEnd);\n          oldPage.classList.add('animate');\n        } else {\n          onPageAnimationEnd();\n        }\n\n        oldPage.classList.add(back ? 'pop-page' : 'push-page');\n      }\n\n      lastHash = this.getHash();\n    }\n\n    addUniquePageModel(pageName) {\n      if (!this.getPageModel(pageName)) {\n        this.pages.push(new Page(pageName));\n      }\n    }\n\n    getPageModel(pageName) {\n      return this.pages.find(page => page.name === pageName);\n    }\n\n    selectorToArray(str) {\n      return str.split(',').map(item => item.trim());\n    }\n\n    triggerPageEvent(pageName, eventName, eventParams = null) {\n      const pageModel = this.getPageModel(pageName);\n      if (pageModel) {\n        pageModel.triggerScopes(eventName, eventParams);\n      }\n    }\n\n    onClick(event) {\n      const pageName = event.target.getAttribute('data-navigate');\n      const backNavigation = event.target.getAttribute('data-pop-page') === 'true';\n\n      if (!pageName) {\n        return;\n      }\n\n      this.showPage(pageName, null, backNavigation);\n    }\n\n    onHashChange() {\n      const params = this.getHashParams();\n      const navPage = this.getPageFromHash();\n\n      // avoid concurrent pages if prevent page change is defined\n      if (navPage === currentPage) {\n        this.triggerPageEvent(currentPage, Event.HASH, params);\n      }\n\n\n      if (navPage) {\n        this.showPage(navPage, null, false, params);\n      }\n    }\n\n    /**\n     * Queries the page nodes in the DOM\n     */\n    onDOMLoaded() {\n      const pages = document.querySelectorAll('[data-page]');\n\n      if (!pages) {\n        return;\n      }\n\n      pages.forEach((page) => {\n        /*\n         * the page name can be given with the attribute data-page\n         * or with its node name\n         */\n        const pageName = page.getAttribute('data-page') || page.nodeName;\n\n        this.addUniquePageModel(pageName);\n      });\n    }\n\n    select(pageName, addPageModel = true) {\n      if (addPageModel) {\n        this.addUniquePageModel(pageName);\n      }\n\n      return this.getPageModel(pageName);\n    }\n\n    start(forceDefaultPage = false) {\n      let force = forceDefaultPage;\n\n      // check if the app has been already started\n      if (this.started) {\n        throw new Error(`${NAME}. The app has been already started.`);\n      }\n\n      this.started = true;\n\n      // force default page on Cordova\n      if (window.cordova) {\n        force = true;\n      }\n\n      let pageName = this.getPageFromHash();\n\n      if (!this.getPageModel(pageName)) {\n        pageName = this.options.defaultPage;\n      }\n\n      const page = this.getPageModel(pageName);\n\n      if (force && !this.options.defaultPage) {\n        throw new Error(`${NAME}. The default page must exist for forcing its launch!`);\n      }\n\n      /*\n       * if the app is configurated to use hash tracking\n       * we add the page dynamically in the url\n       */\n      if (this.options.useHash) {\n        if (!page.validHash(this.getHash())) {\n          this.setHash(pageName);\n        }\n      }\n\n      this.showPage(force ? this.options.defaultPage : pageName);\n    }\n\n    // static\n    static DOMInterface(options) {\n      return new Pager(options);\n    }\n  }\n\n  return Pager;\n})();\n\nexport default Pager;\n","/**\n* --------------------------------------------------------------------------\n* Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n* --------------------------------------------------------------------------\n*/\n\nconst Binder = (() => {\n  /**\n  * ------------------------------------------------------------------------\n  * Constants\n  * ------------------------------------------------------------------------\n  */\n\n  const NAME = 'i18n-binder';\n  const VERSION = '2.0.0';\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Binder {\n    /**\n     * @param {HTMLElement} element\n     * @param {Object} data\n     */\n    constructor(element, data) {\n      this.element = element;\n      this.data = data;\n\n      if (!this.isElement(this.element)) {\n        console.log('Warning, an element is invalid');\n        return;\n      }\n\n      // array of HTMLElement\n      if (this.element.length && this.element.length > 0) {\n        this.setNodes(this.element);\n      } else {\n        // single HTMLElement\n        this.setNode(this.element);\n      }\n    }\n\n    // getters\n\n    static get version() {\n      return `${NAME}.${VERSION}`;\n    }\n\n    /**\n     * Checks if the given argument is a DOM element\n     * @param {Element} the argument to test\n     * @returns {boolean} true if the object is a DOM element, false otherwise\n     */\n    isElement(element) {\n      if (element === null) {\n        return false;\n      }\n\n      return element instanceof Node || element instanceof NodeList;\n    }\n\n    /**\n    * Binds some text to the given DOM element\n    * @param {HTMLElement} element\n    * @param {String} text\n    */\n    setText(element, text) {\n      if (!('textContent' in element)) {\n        element.innerText = text;\n      } else {\n        element.textContent = text;\n      }\n    }\n\n    /**\n     * Binds some html to the given DOM element\n     * @param {HTMLElement} element\n     * @param {String} text\n     */\n    setHtml(element, text) {\n      element.innerHTML = text;\n    }\n\n    /**\n     * Binds custom attributes to the given DOM element\n     * @param {HTMLElement} element\n     * @param {String} attr\n     * @param {String} text\n     */\n    setAttribute(element, attr, text) {\n      element.setAttribute(attr, text);\n    }\n\n    /**\n     * Binds DOM elements\n     * @param {HTMLElement} element\n     */\n    setNode(element) {\n      let attr = element.getAttribute('data-t');\n      if (!attr) {\n        return;\n      }\n\n      attr = attr.trim();\n\n      const r = /(?:\\s|^)([A-Za-z-_0-9]+):\\s*(.*?)(?=\\s+\\w+:|$)/g;\n      let m;\n\n      while (m = r.exec(attr)) {\n        const key = m[1].trim();\n        const value = m[2].trim().replace(',', '');\n        let i18nValue = this.data[value];\n\n        if (!this.data[value]) {\n          console.log(`${NAME}. Warning, ${value} does not exist.`);\n          i18nValue = value;\n        }\n\n        const methodName = `set${key.charAt(0).toUpperCase()}${key.slice(1)}`;\n\n        if (this[methodName]) {\n          this[methodName](element, i18nValue);\n        } else {\n          this.setAttribute(element, key, i18nValue);\n        }\n      }\n    }\n\n    /**\n     * Binds DOM elements\n     * @param {HTMLElement} element\n     */\n    setNodes(element) {\n      Array.from(element).forEach(el => this.setNode(el));\n    }\n  }\n\n  return Binder;\n})();\n\nexport default Binder;\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Binder from './binder';\n\nconst I18n = (() => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'i18n';\n  const VERSION = '2.0.0';\n  const DEFAULT_PROPERTIES = {\n    fallbackLocale: 'en',\n    locale: 'en',\n    bind: false,\n    data: null,\n  };\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class I18n {\n    /**\n     * Creates an instance of I18n.\n     * @param {fallbackLocale: string, locale: string, bind: boolean, data: {[lang: string]: {[key: string]: string}}}\n     */\n    constructor(options = {}) {\n      this.options = Object.assign(DEFAULT_PROPERTIES, options);\n\n      if (typeof this.options.fallbackLocale !== 'string') {\n        throw new Error(`${NAME}. The fallback locale is mandatory and must be a string.`);\n      }\n\n      if (this.options.data === null) {\n        throw new Error(`${NAME}. There is no translation data.`);\n      }\n\n      if (typeof this.options.data[this.options.fallbackLocale] !== 'object') {\n        throw new Error(`${NAME}. The fallback locale must necessarily have translation data.`);\n      }\n\n      this.setLocale(this.options.locale, this.options.bind);\n    }\n\n    static get version() {\n      return `${NAME}.${VERSION}`;\n    }\n\n    getLocale() {\n      return this.options.locale;\n    }\n\n    getFallbackLocale() {\n      return this.options.fallbackLocale;\n    }\n\n    /**\n     * Set default locale\n     * @param {string} locale\n     * @param {boolean} [bind=true]\n     */\n    setLocale(locale, bind = false) {\n      if (typeof this.options.data[locale] !== 'object') {\n        console.error(`${NAME}. ${locale} has no data, fallback in ${this.options.fallbackLocale}.`);\n      } else {\n        this.options.locale = locale;\n      }\n\n      if (bind) {\n        this.updateHtml();\n      }\n    }\n\n    getLanguages() {\n      return Object.keys(this.options.data);\n    }\n\n    insertValues(value = null, injectableValues = {}) {\n      if (typeof value !== 'string') {\n        return undefined;\n      }\n\n      const match = value.match(/:([a-zA-Z-_0-9]+)/);\n      if (match) {\n        value = value.replace(match[0], injectableValues[match[1]]);\n      }\n\n      if (value.match(/:([a-zA-Z-_0-9]+)/)) {\n        return this.insertValues(value, injectableValues);\n      }\n\n      return value;\n    }\n\n    translate(keyName = null, inject = {}) {\n      let data = this.options.data[this.options.locale];\n      if (!data) {\n        data = this.options.data[this.options.fallbackLocale];\n      }\n\n      if (keyName === null || keyName === '*' || Array.isArray(keyName)) {\n        if (Array.isArray(keyName)) {\n          const keys = Object.keys(data).filter(key => keyName.indexOf(key) > -1);\n          const filteredData = {};\n          keys.forEach((key) => {\n            filteredData[key] = this.insertValues(data[key], inject);\n          });\n          data = filteredData;\n        }\n\n        const dataMap = {};\n        for (const key in data) {\n          dataMap[key] = this.insertValues(data[key], inject);\n        }\n\n        return dataMap;\n      }\n\n      return this.insertValues(data[keyName], inject);\n    }\n\n    // alias of t()\n    t(keyName = null, inject = {}) {\n      return this.translate(keyName, inject);\n    }\n\n    /**\n     * Updates the HTML views\n     * @param {HTMLElement} element\n     */\n    updateHtml(element = null) {\n      let el = element;\n\n      if (!el) {\n        el = document.querySelectorAll('[data-t]');\n      }\n\n      if (typeof el === 'string') {\n        el = document.querySelector(el);\n      }\n\n      /* eslint no-new: 0 */\n      new Binder(el, this.t());\n    }\n\n    // static\n    static DOMInterface(options) {\n      return new I18n(options);\n    }\n  }\n\n  return I18n;\n})();\n\nexport default I18n;\n","\nexport function generateId() {\n  return Math.random().toString(36).substr(2, 10);\n}\n\nexport function findTargetByClass(target, parentClass) {\n  for (; target && target !== document; target = target.parentNode) {\n    if (target.classList.contains(parentClass)) {\n      return target;\n    }\n  }\n\n  return null;\n}\n\nexport function findTargetById(target, parentId) {\n  for (; target && target !== document; target = target.parentNode) {\n    if (target.getAttribute('id') === parentId) {\n      return target;\n    }\n  }\n\n  return null;\n}\n\nexport function findTargetByAttr(target, attr) {\n  for (; target && target !== document; target = target.parentNode) {\n    if (target.getAttribute(attr) !== null) {\n      return target;\n    }\n  }\n\n  return null;\n}\n\n/* eslint no-param-reassign: 0 */\nexport function createJqueryPlugin($ = null, name, obj) {\n  if (!$) {\n    return;\n  }\n\n  const mainFn = function (options = {}) {\n    const opts = options;\n    if (this[0]) {\n      opts.element = this[0];\n    }\n\n    return obj.DOMInterface(opts);\n  };\n\n  $.fn[name] = mainFn;\n  $.fn[name].Constructor = obj;\n  $.fn[name].noConflict = mainFn;\n}\n\nexport function sleep(timeout) {\n  return new Promise((resolve) => {\n    setTimeout(resolve, timeout);\n  });\n}\n","\nconst getAttribute = (first, second) => {\n  if (first === '') {\n    return `data-${second}`;\n  }\n  return `data-${first}-${second}`;\n};\n\nexport function setAttributesConfig(element, obj = {}, attrs, start = '') {\n  const keys = Object.keys(obj);\n\n  keys.forEach((key) => {\n    if (start === '' && attrs.indexOf(key) === -1) {\n      // continue with next iteration\n      return;\n    }\n\n    if (typeof obj[key] === 'object' && obj[key] !== null) {\n      let keyStart = key;\n      if (start !== '') {\n        keyStart = `${start}-${key}`;\n      }\n\n      setAttributesConfig(element, obj[key], attrs, keyStart);\n      return;\n    }\n\n    const attr = getAttribute(start, key);\n    element.setAttribute(attr, obj[key]);\n  });\n}\n\nexport function getAttributesConfig(element, obj = {}, attrs, start = '') {\n  const newObj = Object.assign({}, obj);\n  const keys = Object.keys(obj);\n\n  keys.forEach((key) => {\n    if (start === '' && attrs.indexOf(key) === -1) {\n      // continue with next iteration\n      return;\n    }\n\n    if (obj[key] !== null && obj[key].constructor === Object) {\n      let keyStart = key;\n      if (start !== '') {\n        keyStart = `${start}-${key}`;\n      }\n\n      newObj[key] = getAttributesConfig(element, obj[key], attrs, keyStart);\n      return;\n    }\n\n    // update value\n    let value = obj[key]; // default value\n    const type = typeof value;\n    const attr = getAttribute(start, key);\n    const attrValue = element.getAttribute(attr);\n\n    if (attrValue !== null) {\n      if (type === 'boolean') {\n        // convert string to boolean\n        value = attrValue === 'true';\n      } else if (!Number.isNaN(attrValue)) {\n        value = parseInt(attrValue, 10);\n      } else {\n        value = attrValue;\n      }\n    }\n\n    newObj[key] = value;\n  });\n\n  return newObj;\n}\n\nconst stack = [];\n\nexport default {\n  add(component) {\n    stack.push(component);\n  },\n  remove(component) {\n    const index = stack.findIndex(c => Object.is(component, c));\n    if (index > -1) {\n      stack.splice(index, 1);\n    }\n  },\n  closable(component) {\n    return stack.length === 0 || Object.is(stack[stack.length - 1], component);\n  },\n};\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport { dispatchElementEvent, dispatchWinDocEvent } from '../common/events/dispatch';\nimport { generateId } from '../common/utils/index';\nimport Event from '../common/events';\nimport ComponentManager, { setAttributesConfig, getAttributesConfig } from './componentManager';\n\n/**\n * ------------------------------------------------------------------------\n * Class Definition\n * ------------------------------------------------------------------------\n */\n\nexport default class Component {\n  constructor(\n    name,\n    version,\n    defaultOptions = {},\n    options = {},\n    optionAttrs = [],\n    supportDynamicElement = false,\n    addToStack = false,\n  ) {\n    this.name = name;\n    this.version = version;\n    this.options = options;\n\n    Object.keys(defaultOptions).forEach((prop) => {\n      if (typeof this.options[prop] === 'undefined') {\n        this.options[prop] = defaultOptions[prop];\n      }\n    });\n\n    this.optionAttrs = optionAttrs;\n    this.supportDynamicElement = supportDynamicElement;\n    this.addToStack = addToStack;\n    this.id = generateId();\n\n    const checkElement = !this.supportDynamicElement || this.options.element !== null;\n\n    if (typeof this.options.element === 'string') {\n      this.options.element = document.querySelector(this.options.element);\n    }\n\n    if (checkElement && !this.options.element) {\n      throw new Error(`${this.name}. The element is not a HTMLElement.`);\n    }\n\n    this.dynamicElement = this.options.element === null;\n    this.registeredElements = [];\n\n    if (!this.dynamicElement) {\n      /**\n       * if the element exists, we read the data attributes config\n       * then we overwrite existing config keys defined in JavaScript, so that\n       * we keep the following order\n       * [1] default JavaScript configuration of the component\n       * [2] Data attributes configuration\n       * [3] JavaScript configuration\n       */\n      this.options = Object.assign(\n        this.options,\n        this.assignJsConfig(this.getAttributes(), this.options),\n      );\n\n      // then, set the new data attributes to the element\n      this.setAttributes();\n    }\n\n    this.elementListener = event => this.onBeforeElementEvent(event);\n  }\n\n  assignJsConfig(attrConfig, jsConfig) {\n    const config = attrConfig;\n    this.optionAttrs.forEach((key) => {\n      if (typeof jsConfig[key] !== 'undefined') {\n        config[key] = jsConfig[key];\n      }\n    });\n\n    return config;\n  }\n\n  getVersion() {\n    return this.version;\n  }\n\n  getElement() {\n    return this.options.element;\n  }\n\n  getId() {\n    return this.id;\n  }\n\n  registerElements(elements) {\n    elements.forEach(element => this.registerElement(element));\n  }\n\n  registerElement(element) {\n    element.target.addEventListener(element.event, this.elementListener);\n    this.registeredElements.push(element);\n  }\n\n  unregisterElements() {\n    this.registeredElements.forEach((element) => {\n      this.unregisterElement(element);\n    });\n  }\n\n  unregisterElement(element) {\n    const registeredElementIndex = this.registeredElements\n      .findIndex(el => el.target === element.target && el.event === element.event);\n\n    if (registeredElementIndex > -1) {\n      element.target.removeEventListener(element.event, this.elementListener);\n      this.registeredElements.splice(registeredElementIndex, 1);\n    } else {\n      console.error(`Warning! Unknown registered element: ${element.target} with event: ${element.event}.`);\n    }\n  }\n\n  triggerEvent(eventName, detail = {}, objectEventOnly = false) {\n    if (typeof eventName !== 'string') {\n      throw new Error('The event name is not valid.');\n    }\n\n    if (this.addToStack) {\n      if (eventName === Event.SHOW) {\n        ComponentManager.add(this);\n      } else if (eventName === Event.HIDE) {\n        ComponentManager.remove(this);\n      }\n    }\n\n    // event names can be with dot notation like reconnecting.success\n    const eventNameObject = eventName.split('.').reduce((acc, current, index) => {\n      if (index === 0) {\n        return current;\n      }\n\n      return acc + current.charAt(0).toUpperCase() + current.slice(1);\n    });\n\n    const eventNameAlias = `on${eventNameObject.charAt(0).toUpperCase()}${eventNameObject.slice(1)}`;\n\n    // object event\n    if (typeof this.options[eventNameObject] === 'function') {\n      this.options[eventNameObject].apply(this, [detail]);\n    }\n\n    if (typeof this.options[eventNameAlias] === 'function') {\n      this.options[eventNameAlias].apply(this, [detail]);\n    }\n\n    if (objectEventOnly) {\n      return;\n    }\n\n    // dom event\n    if (this.options.element) {\n      dispatchElementEvent(this.options.element, eventName, this.name, detail);\n    } else {\n      dispatchWinDocEvent(eventName, this.name, detail);\n    }\n  }\n\n  setAttributes() {\n    if (this.optionAttrs.length > 0) {\n      setAttributesConfig(this.options.element, this.options, this.optionAttrs);\n    }\n  }\n\n  getAttributes() {\n    const options = Object.assign({}, this.options);\n    return getAttributesConfig(this.options.element, options, this.optionAttrs);\n  }\n\n  /**\n   * the preventClosable method manages concurrency between active components.\n   * For example, if there is a shown off-canvas and modal, the last\n   * shown component gains the processing priority\n   */\n  preventClosable() {\n    return this.addToStack && !ComponentManager.closable(this);\n  }\n\n  onBeforeElementEvent(event) {\n    if (this.preventClosable()) {\n      return;\n    }\n\n    this.onElementEvent(event);\n  }\n\n  /**\n   * @emits {Event} emit events registered by the component\n   * @param {Event} event\n   */\n  onElementEvent() {\n    /* eslint class-methods-use-this: 0 */\n  }\n\n  static identifier() {\n    return this.name;\n  }\n\n  static DOMInterface(ComponentClass, options) {\n    return new ComponentClass(options);\n  }\n}\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport Event from '../events';\nimport Component from '../../components/component';\n\nconst Network = (() => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'network';\n  const VERSION = '2.0.0';\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    initialDelay: 3000,\n    delay: 5000,\n  };\n  const DATA_ATTRS_PROPERTIES = [\n  ];\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Network extends Component {\n    /**\n     * Creates an instance of Network.\n     * @param {{}} [options={}]\n     */\n    constructor(options = {}) {\n      super(NAME, VERSION, DEFAULT_PROPERTIES, options, DATA_ATTRS_PROPERTIES, true, false);\n\n      this.xhr = null;\n      this.checkInterval = null;\n\n      this.setStatus(Event.NETWORK_ONLINE);\n\n      setTimeout(() => {\n        this.startCheck();\n      }, this.options.initialDelay);\n    }\n\n    getStatus() {\n      return this.status;\n    }\n\n    setStatus(status) {\n      this.status = status;\n    }\n\n    startRequest() {\n      this.xhr = new XMLHttpRequest();\n      this.xhr.offline = false;\n\n      const url = `/favicon.ico?_=${new Date().getTime()}`;\n\n      this.triggerEvent(Event.NETWORK_RECONNECTING, { date: new Date() }, false);\n\n      this.xhr.open('HEAD', url, true);\n\n      this.xhr.timeout = this.options.delay - 1;\n      this.xhr.ontimeout = () => {\n        this.xhr.abort();\n        this.xhr = null;\n      };\n\n      this.xhr.onload = () => {\n        this.onUp();\n      };\n      this.xhr.onerror = () => {\n        this.onDown();\n      };\n\n      try {\n        this.xhr.send();\n      } catch (e) {\n        this.onDown();\n      }\n    }\n\n    onUp() {\n      this.triggerEvent(Event.NETWORK_RECONNECTING_SUCCESS, { date: new Date() }, false);\n\n      if (this.getStatus() !== Event.NETWORK_ONLINE) {\n        this.triggerEvent(Event.NETWORK_ONLINE, { date: new Date() }, false);\n      }\n\n      this.setStatus(Event.NETWORK_ONLINE);\n    }\n\n    onDown() {\n      this.triggerEvent(Event.NETWORK_RECONNECTING_FAILURE, { date: new Date() }, false);\n\n      if (this.getStatus() !== Event.NETWORK_OFFLINE) {\n        this.triggerEvent(Event.NETWORK_OFFLINE, { date: new Date() }, false);\n      }\n\n      this.setStatus(Event.NETWORK_OFFLINE);\n    }\n\n    startCheck() {\n      this.stopCheck();\n\n      this.startRequest();\n\n      this.checkInterval = setInterval(() => {\n        this.startRequest();\n      }, this.options.delay);\n    }\n\n    stopCheck() {\n      if (this.checkInterval !== null) {\n        clearInterval(this.checkInterval);\n        this.checkInterval = null;\n      }\n    }\n\n    static DOMInterface(options) {\n      return super.DOMInterface(Network, options);\n    }\n  }\n\n  return Network;\n})();\n\nexport default Network;\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Component from '../component';\nimport { getAttributesConfig } from '../componentManager';\nimport Event from '../../common/events';\nimport { findTargetByAttr, findTargetByClass, createJqueryPlugin } from '../../common/utils';\n\nconst Alert = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'alert';\n  const VERSION = '2.0.0';\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    fade: true,\n  };\n  const DATA_ATTRS_PROPERTIES = [\n    'fade',\n  ];\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Alert extends Component {\n    constructor(options = {}) {\n      super(NAME, VERSION, DEFAULT_PROPERTIES, options, DATA_ATTRS_PROPERTIES, false, false);\n      this.onTransition = false;\n    }\n\n    /**\n     * Shows the alert\n     * @returns {Promise} Promise object represents the completed animation\n     */\n    show() {\n      return new Promise((resolve, reject) => {\n        if (this.onTransition) {\n          reject();\n        }\n\n        if (this.options.element.classList.contains('show') && this.getOpacity() !== 0) {\n          reject();\n        }\n\n        this.onTransition = true;\n\n        this.triggerEvent(Event.SHOW);\n\n        const onShow = () => {\n          this.triggerEvent(Event.SHOWN);\n\n          if (this.options.element.classList.contains('fade')) {\n            this.options.element.classList.remove('fade');\n          }\n\n          this.options.element.removeEventListener(Event.TRANSITION_END, onShow);\n          this.onTransition = false;\n\n          resolve();\n        };\n\n        if (this.options.fade && !this.options.element.classList.contains('fade')) {\n          this.options.element.classList.add('fade');\n        }\n\n        this.options.element.classList.add('show');\n\n        this.options.element.addEventListener(Event.TRANSITION_END, onShow);\n\n        if (this.options.element.classList.contains('hide')) {\n          this.options.element.classList.remove('hide');\n        }\n\n        if (!this.options.fade) {\n          onShow();\n        }\n      });\n    }\n\n    getOpacity() {\n      const { opacity } = window.getComputedStyle(this.options.element);\n      return parseFloat(opacity);\n    }\n\n    /**\n     * Hides the alert\n     * @returns {Promise} Promise object represents the end of the animation\n     */\n    hide() {\n      return new Promise((resolve, reject) => {\n        if (this.onTransition) {\n          reject();\n          return;\n        }\n\n        if (this.getOpacity() === 0) {\n          reject();\n          return;\n        }\n\n        this.onTransition = true;\n        this.triggerEvent(Event.HIDE);\n\n        const onHide = () => {\n          this.triggerEvent(Event.HIDDEN);\n          this.options.element.removeEventListener(Event.TRANSITION_END, onHide);\n          this.onTransition = false;\n          resolve();\n        };\n\n        if (this.options.fade && !this.options.element.classList.contains('fade')) {\n          this.options.element.classList.add('fade');\n        }\n\n        this.options.element.addEventListener(Event.TRANSITION_END, onHide);\n\n        if (!this.options.element.classList.contains('hide')) {\n          this.options.element.classList.add('hide');\n        }\n\n        if (this.options.element.classList.contains('show')) {\n          this.options.element.classList.remove('show');\n        }\n\n        if (!this.options.fade) {\n          onHide();\n        }\n      });\n    }\n\n    static identifier() {\n      return NAME;\n    }\n\n    static DOMInterface(options) {\n      return super.DOMInterface(Alert, options);\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n  createJqueryPlugin($, NAME, Alert);\n\n  /**\n   * ------------------------------------------------------------------------\n   * DOM Api implementation\n   * ------------------------------------------------------------------------\n   */\n  const components = [];\n\n  const alerts = Array.from(document.querySelectorAll(`.${NAME}`) || []);\n\n  alerts.forEach((element) => {\n    const config = getAttributesConfig(element, DEFAULT_PROPERTIES, DATA_ATTRS_PROPERTIES);\n    config.element = element;\n\n    components.push(Alert.DOMInterface(config));\n  });\n\n  document.addEventListener('click', (event) => {\n    const target = findTargetByAttr(event.target, 'data-dismiss');\n    if (!target) {\n      return;\n    }\n\n    const dataToggleAttr = target.getAttribute('data-dismiss');\n\n    if (dataToggleAttr && dataToggleAttr === NAME) {\n      const alert = findTargetByClass(event.target, NAME);\n      const id = alert.getAttribute('id');\n      const component = components.find(c => c.getElement().getAttribute('id') === id);\n\n      if (!component) {\n        return;\n      }\n\n      component.hide();\n    }\n  });\n\n  return Alert;\n})(window.$ ? window.$ : null);\n\nexport default Alert;\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Event from '../../common/events';\nimport Component from '../component';\nimport { getAttributesConfig } from '../componentManager';\nimport { createJqueryPlugin, sleep } from '../../common/utils';\n\nconst Modal = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'modal';\n  const VERSION = '2.0.0';\n  const BACKDROP_SELECTOR = 'modal-backdrop';\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    title: null,\n    message: null,\n    cancelable: true,\n    type: null,\n    cancelableKeyCodes: [\n      27, // Escape\n      13, // Enter\n    ],\n    buttons: [\n      {\n        event: 'confirm',\n        text: 'Ok',\n        dismiss: true,\n        class: 'btn btn-primary',\n      },\n    ],\n  };\n  const DATA_ATTRS_PROPERTIES = [\n    'cancelable',\n  ];\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Modal extends Component {\n    constructor(options = {}, template = null) {\n      super(NAME, VERSION, DEFAULT_PROPERTIES, options, DATA_ATTRS_PROPERTIES, true, true);\n\n      this.template = template || ''\n      + '<div class=\"modal\" tabindex=\"-1\" role=\"modal\">'\n        + '<div class=\"modal-inner\" role=\"document\">'\n          + '<div class=\"modal-content\">'\n            + '<div class=\"modal-header\">'\n              + '<h5 class=\"modal-title\"></h5>'\n            + '</div>'\n            + '<div class=\"modal-body\">'\n              + '<p></p>'\n            + '</div>'\n            + '<div class=\"modal-footer\">'\n            + '</div>'\n          + '</div>'\n        + '</div>'\n      + '</div>';\n\n      if (this.dynamicElement) {\n        this.build();\n      }\n    }\n\n    build() {\n      const builder = document.createElement('div');\n\n      builder.innerHTML = this.template;\n\n      this.options.element = builder.firstChild;\n\n      // title\n      if (this.options.title !== null) {\n        this.options.element.querySelector('.modal-title').innerHTML = this.options.title;\n      }\n\n      // message\n      if (this.options.message !== null) {\n        this.options.element.querySelector('.modal-body').firstChild.innerHTML = this.options.message;\n      } else {\n        // remove paragraph node\n        this.removeTextBody();\n      }\n\n      // buttons\n      if (this.options.buttons !== null && Array.isArray(this.options.buttons)) {\n        if (this.options.buttons.length > 0) {\n          this.options.buttons.forEach((button) => {\n            this.options.element.querySelector('.modal-footer').appendChild(this.buildButton(button));\n          });\n        } else {\n          this.removeFooter();\n        }\n      } else {\n        this.removeFooter();\n      }\n\n      document.body.appendChild(this.options.element);\n\n      this.setAttributes();\n    }\n\n    buildButton(buttonInfo = {}) {\n      const button = document.createElement('button');\n      button.setAttribute('type', 'button');\n      button.setAttribute('class', buttonInfo.class || 'btn');\n      button.setAttribute('data-event', buttonInfo.event);\n      button.innerHTML = buttonInfo.text;\n\n      if (buttonInfo.dismiss) {\n        button.setAttribute('data-dismiss', NAME);\n      }\n\n      return button;\n    }\n\n    buildBackdrop() {\n      const backdrop = document.createElement('div');\n      backdrop.setAttribute('data-id', this.id);\n      backdrop.classList.add(BACKDROP_SELECTOR);\n\n      document.body.appendChild(backdrop);\n    }\n\n    getBackdrop() {\n      return document.querySelector(`.${BACKDROP_SELECTOR}[data-id=\"${this.id}\"]`);\n    }\n\n    removeTextBody() {\n      this.options.element.querySelector('.modal-body').removeChild(this.options.element.querySelector('.modal-body').firstChild);\n    }\n\n    removeFooter() {\n      const footer = this.options.element.querySelector('.modal-footer');\n      this.options.element.querySelector('.modal-content').removeChild(footer);\n    }\n\n    center() {\n      const computedStyle = window.getComputedStyle(this.options.element);\n      const height = computedStyle.height.slice(0, computedStyle.height.length - 2);\n\n      const top = (window.innerHeight / 2) - (height / 2);\n      this.options.element.style.top = `${top}px`;\n    }\n\n    show() {\n      return new Promise(async (resolve, reject) => {\n        if (this.options.element === null) {\n          // build and insert a new DOM element\n          this.build();\n        }\n\n        if (this.options.element.classList.contains('show')) {\n          reject(new Error('The modal is already active'));\n          return;\n        }\n\n        // add a timeout so that the CSS animation works\n        await sleep(20);\n\n        this.triggerEvent(Event.SHOW);\n        this.buildBackdrop();\n\n        // attach event\n        this.attachEvents();\n\n        const onShown = () => {\n          this.triggerEvent(Event.SHOWN);\n          this.options.element.removeEventListener(Event.TRANSITION_END, onShown);\n\n          resolve();\n        };\n\n        this.options.element.addEventListener(Event.TRANSITION_END, onShown);\n\n        this.options.element.classList.add('show');\n\n        this.center();\n      });\n    }\n\n    onElementEvent(event) {\n      // keyboard event (escape and enter)\n      if (event.type === 'keyup') {\n        if (this.options.cancelableKeyCodes.find(k => k === event.keyCode)) {\n          this.hide();\n        }\n        return;\n      }\n\n      // backdrop event\n      if (event.type === Event.START) {\n        // hide the modal\n        this.hide();\n        return;\n      }\n\n      // button event\n      if (event.type === 'click') {\n        const eventName = event.target.getAttribute('data-event');\n\n        if (eventName) {\n          this.triggerEvent(eventName);\n        }\n\n        if (event.target.getAttribute('data-dismiss') === NAME) {\n          this.hide();\n        }\n      }\n    }\n\n    /**\n     * Hides the modal\n     * @returns {Promise} Promise object represents the completed animation\n     */\n    hide() {\n      return new Promise((resolve, reject) => {\n        if (!this.options.element.classList.contains('show')) {\n          reject(new Error('The modal is not active'));\n          return;\n        }\n\n        this.triggerEvent(Event.HIDE);\n\n        this.detachEvents();\n\n        this.options.element.classList.add('hide');\n        this.options.element.classList.remove('show');\n\n        const backdrop = this.getBackdrop();\n\n        const onHidden = () => {\n          document.body.removeChild(backdrop);\n\n          this.options.element.classList.remove('hide');\n\n          this.triggerEvent(Event.HIDDEN);\n\n          backdrop.removeEventListener(Event.TRANSITION_END, onHidden);\n\n          // remove generated modals from the DOM\n          if (this.dynamicElement) {\n            document.body.removeChild(this.options.element);\n            this.options.element = null;\n          }\n\n          resolve();\n        };\n\n        backdrop.addEventListener(Event.TRANSITION_END, onHidden);\n        backdrop.classList.add('fadeout');\n      });\n    }\n\n    attachEvents() {\n      const buttons = this.options.element.querySelectorAll('[data-dismiss], .modal-footer button');\n      if (buttons) {\n        Array.from(buttons).forEach(button => this.registerElement({ target: button, event: 'click' }));\n      }\n\n      // add events if the modal is cancelable\n      // which means the user can hide the modal\n      // by pressing the ESC key or click on the backdrop\n      if (this.options.cancelable) {\n        const backdrop = this.getBackdrop();\n        this.registerElement({ target: backdrop, event: Event.START });\n        this.registerElement({ target: document, event: 'keyup' });\n      }\n    }\n\n    detachEvents() {\n      const buttons = this.options.element.querySelectorAll('[data-dismiss], .modal-footer button');\n      if (buttons) {\n        Array.from(buttons).forEach(button => this.unregisterElement({ target: button, event: 'click' }));\n      }\n\n      if (this.options.cancelable) {\n        const backdrop = this.getBackdrop();\n        this.unregisterElement({ target: backdrop, event: Event.START });\n        this.unregisterElement({ target: document, event: 'keyup' });\n      }\n    }\n\n    static identifier() {\n      return NAME;\n    }\n\n    static DOMInterface(options) {\n      return super.DOMInterface(Modal, options);\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n  createJqueryPlugin($, NAME, Modal);\n\n  /**\n   * ------------------------------------------------------------------------\n   * DOM Api implementation\n   * ------------------------------------------------------------------------\n   */\n  const components = [];\n\n  const modals = Array.from(document.querySelectorAll(`.${NAME}`) || []);\n\n  modals.forEach((element) => {\n    const config = getAttributesConfig(element, DEFAULT_PROPERTIES, DATA_ATTRS_PROPERTIES);\n    config.element = element;\n\n    components.push({ element, modal: new Modal(config) });\n  });\n\n  document.addEventListener('click', (event) => {\n    const dataToggleAttr = event.target.getAttribute('data-toggle');\n    if (dataToggleAttr && dataToggleAttr === NAME) {\n      const id = event.target.getAttribute('data-target');\n      const element = document.querySelector(id);\n\n      const component = components.find(c => c.element === element);\n\n      if (!component) {\n        return;\n      }\n\n      // remove the focus state of the trigger\n      event.target.blur();\n\n      component.modal.show();\n    }\n  });\n\n  return Modal;\n})(window.$ ? window.$ : null);\n\nexport default Modal;\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Modal from './index';\nimport { getAttributesConfig } from '../componentManager';\nimport { createJqueryPlugin } from '../../common/utils';\n\nconst Prompt = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'prompt';\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    title: null,\n    message: null,\n    cancelable: true,\n    type: NAME,\n    buttons: [\n      {\n        event: 'cancel',\n        text: 'Cancel',\n        dismiss: true,\n        class: 'btn btn-secondary',\n      },\n      {\n        event: 'confirm',\n        text: 'Ok',\n        dismiss: true,\n        class: 'btn btn-primary',\n      },\n    ],\n  };\n  const DATA_ATTRS_PROPERTIES = [\n    'cancelable',\n  ];\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Prompt extends Modal {\n    constructor(options = {}) {\n      const template = ''\n      + '<div class=\"modal\" tabindex=\"-1\" role=\"modal\">'\n        + '<div class=\"modal-inner\" role=\"document\">'\n          + '<div class=\"modal-content\">'\n            + '<div class=\"modal-header\">'\n              + '<h5 class=\"modal-title\"></h5>'\n            + '</div>'\n            + '<div class=\"modal-body\">'\n              + '<p></p>'\n              + '<input class=\"form-control\" type=\"text\" value=\"\">'\n            + '</div>'\n            + '<div class=\"modal-footer\">'\n            + '</div>'\n          + '</div>'\n        + '</div>'\n      + '</div>';\n\n      if (!Array.isArray(options.buttons)) {\n        options.buttons = DEFAULT_PROPERTIES.buttons;\n      }\n\n      super(options, template);\n    }\n\n    /**\n     * Shows the prompt\n     * @returns {Promise} Promise object represents the completed animation\n     */\n    async show() {\n      super.show();\n      this.attachInputEvent();\n    }\n\n    /**\n     * Hides the prompt\n     * @returns {Promise} Promise object represents the completed animation\n     */\n    async hide() {\n      super.hide();\n      this.detachInputEvent();\n    }\n\n    getInput() {\n      return this.options.element.querySelector('.form-control');\n    }\n\n    attachInputEvent() {\n      this.registerElement({ target: this.getInput(), event: 'keyup' });\n    }\n\n    detachInputEvent() {\n      this.unregisterElement({ target: this.getInput(), event: 'keyup' });\n    }\n\n    onElementEvent(event) {\n      if (event.target === this.getInput()) {\n        return;\n      }\n\n      super.onElementEvent(event);\n    }\n\n    setInputValue(value = '') {\n      this.getInput().value = value;\n    }\n\n    getInputValue() {\n      return this.getInput().value;\n    }\n\n    static identifier() {\n      return NAME;\n    }\n\n    static DOMInterface(options) {\n      return new Prompt(options);\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n  createJqueryPlugin($, NAME, Prompt);\n\n  /**\n   * ------------------------------------------------------------------------\n   * DOM Api implementation\n   * ------------------------------------------------------------------------\n   */\n  const components = [];\n  const modals = document.querySelectorAll(`.${Modal.identifier()}`);\n\n  if (modals) {\n    Array.from(modals).forEach((element) => {\n      const config = getAttributesConfig(element, DEFAULT_PROPERTIES, DATA_ATTRS_PROPERTIES);\n      config.element = element;\n\n      if (config.type === NAME) {\n        // prompt\n        components.push(new Prompt(config));\n      }\n    });\n  }\n\n  document.addEventListener('click', (event) => {\n    const dataToggleAttr = event.target.getAttribute('data-toggle');\n    if (dataToggleAttr && dataToggleAttr === NAME) {\n      const id = event.target.getAttribute('data-target');\n      const element = document.querySelector(id);\n\n      const component = components.find(c => c.element === element);\n\n      if (!component) {\n        return;\n      }\n\n      // remove the focus state of the trigger\n      event.target.blur();\n\n      component.modal.show();\n    }\n  });\n\n  return Prompt;\n})(window.$ ? window.$ : null);\n\nexport default Prompt;\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Modal from './index';\nimport { getAttributesConfig } from '../componentManager';\nimport { createJqueryPlugin } from '../../common/utils';\n\nconst Confirm = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'confirm';\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    title: null,\n    message: null,\n    cancelable: true,\n    type: NAME,\n    buttons: [\n      {\n        event: 'cancel',\n        text: 'Cancel',\n        dismiss: true,\n        class: 'btn btn-secondary',\n      },\n      {\n        event: 'confirm',\n        text: 'Ok',\n        dismiss: true,\n        class: 'btn btn-primary',\n      },\n    ],\n  };\n  const DATA_ATTRS_PROPERTIES = [\n    'cancelable',\n  ];\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Confirm extends Modal {\n    constructor(options = {}) {\n      const opts = options;\n      const template = ''\n      + '<div class=\"modal\" tabindex=\"-1\" role=\"modal\">'\n        + '<div class=\"modal-inner\" role=\"document\">'\n          + '<div class=\"modal-content\">'\n            + '<div class=\"modal-header\">'\n              + '<h5 class=\"modal-title\"></h5>'\n            + '</div>'\n            + '<div class=\"modal-body\">'\n              + '<p></p>'\n            + '</div>'\n            + '<div class=\"modal-footer\">'\n            + '</div>'\n          + '</div>'\n        + '</div>'\n      + '</div>';\n\n      if (!Array.isArray(opts.buttons)) {\n        opts.buttons = DEFAULT_PROPERTIES.buttons;\n      }\n\n      super(opts, template);\n    }\n\n    static identifier() {\n      return NAME;\n    }\n\n    static DOMInterface(options) {\n      return new Confirm(options);\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n  createJqueryPlugin($, NAME, Confirm);\n\n  /**\n   * ------------------------------------------------------------------------\n   * DOM Api implementation\n   * ------------------------------------------------------------------------\n   */\n  const components = [];\n  const modals = document.querySelectorAll(`.${Modal.identifier()}`);\n\n  if (modals) {\n    Array.from(modals).forEach((element) => {\n      const config = getAttributesConfig(element, DEFAULT_PROPERTIES, DATA_ATTRS_PROPERTIES);\n      config.element = element;\n\n      if (config.type === NAME) {\n        // confirm\n        components.push(new Confirm(config));\n      }\n    });\n  }\n\n  document.addEventListener('click', (event) => {\n    const dataToggleAttr = event.target.getAttribute('data-toggle');\n    if (dataToggleAttr && dataToggleAttr === NAME) {\n      const id = event.target.getAttribute('data-target');\n      const element = document.querySelector(id);\n\n      const component = components.find(c => c.element === element);\n\n      if (!component) {\n        return;\n      }\n\n      // remove the focus state of the trigger\n      event.target.blur();\n\n      component.modal.show();\n    }\n  });\n\n  return Confirm;\n})(window.$ ? window.$ : null);\n\nexport default Confirm;\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Component from '../component';\nimport { createJqueryPlugin } from '../../common/utils';\nimport Event from '../../common/events';\n\nconst Loader = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'loader';\n  const VERSION = '2.0.0';\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    color: null,\n    size: null,\n  };\n  const DATA_ATTRS_PROPERTIES = [];\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Loader extends Component {\n    constructor(options = {}) {\n      super(NAME, VERSION, DEFAULT_PROPERTIES, options, DATA_ATTRS_PROPERTIES, false, false);\n\n      // set color\n      const loaderSpinner = this.getSpinner();\n      if (typeof this.options.color === 'string'\n        && !loaderSpinner.classList.contains(`color-${this.options.color}`)) {\n        loaderSpinner.classList.add(`color-${this.options.color}`);\n      }\n\n      this.customSize = this.options.size !== null;\n    }\n\n    getClientSize() {\n      if (!this.customSize) {\n        const size = this.options.element.getBoundingClientRect();\n        return size.height;\n      }\n\n      return this.options.size;\n    }\n\n    getSpinner() {\n      return this.options.element.querySelector('.loader-spinner');\n    }\n\n    async show() {\n      if (this.options.element.classList.contains('hide')) {\n        this.options.element.classList.remove('hide');\n      }\n\n      this.triggerEvent(Event.SHOW);\n\n      const size = this.getClientSize();\n      this.options.size = size;\n\n      if (this.customSize) {\n        this.options.element.style.width = `${this.options.size}px`;\n        this.options.element.style.height = `${this.options.size}px`;\n\n        const loaderSpinner = this.getSpinner();\n        loaderSpinner.style.width = `${this.options.size}px`;\n        loaderSpinner.style.height = `${this.options.size}px`;\n      }\n\n      this.triggerEvent(Event.SHOWN);\n\n      return true;\n    }\n\n    animate(startAnimation = true) {\n      if (startAnimation) {\n        this.show();\n      } else {\n        this.hide();\n      }\n\n      const loaderSpinner = this.getSpinner();\n\n      if (startAnimation\n        && !loaderSpinner.classList.contains('loader-spinner-animated')) {\n        loaderSpinner.classList.add('loader-spinner-animated');\n        return true;\n      }\n\n      if (!startAnimation\n        && loaderSpinner.classList.contains('loader-spinner-animated')) {\n        loaderSpinner.classList.remove('loader-spinner-animated');\n      }\n\n      return true;\n    }\n\n    async hide() {\n      if (!this.options.element.classList.contains('hide')) {\n        this.options.element.classList.add('hide');\n      }\n\n      this.triggerEvent(Event.HIDE);\n\n      this.triggerEvent(Event.HIDDEN);\n\n      return true;\n    }\n\n    static identifier() {\n      return NAME;\n    }\n\n    static DOMInterface(options) {\n      return super.DOMInterface(Loader, options);\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n  createJqueryPlugin($, NAME, Loader);\n\n  return Loader;\n})(window.$ ? window.$ : null);\n\nexport default Loader;\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Modal from './index';\nimport Spinner from '../loader/index';\nimport { getAttributesConfig } from '../componentManager';\nimport { createJqueryPlugin } from '../../common/utils';\n\nconst Loader = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'loader';\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    title: null,\n    message: null,\n    cancelable: true,\n    type: NAME,\n    buttons: [],\n  };\n  const DATA_ATTRS_PROPERTIES = [\n    'cancelable',\n  ];\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Loader extends Modal {\n    constructor(options = {}) {\n      const opts = options;\n      const template = ''\n      + '<div class=\"modal\" tabindex=\"-1\" role=\"modal\">'\n        + '<div class=\"modal-inner\" role=\"document\">'\n          + '<div class=\"modal-content\">'\n            + '<div class=\"modal-header\">'\n              + '<h5 class=\"modal-title\"></h5>'\n            + '</div>'\n            + '<div class=\"modal-body\">'\n              + '<p></p>'\n              + '<div class=\"mx-auto text-center\">'\n                + '<div class=\"loader mx-auto d-block\">'\n                  + '<div class=\"loader-spinner\"></div>'\n                + '</div>'\n              + '</div>'\n            + '</div>'\n            + '<div class=\"modal-footer\">'\n            + '</div>'\n          + '</div>'\n        + '</div>'\n      + '</div>';\n\n      if (!Array.isArray(opts.buttons)) {\n        opts.buttons = opts.cancelable ? DEFAULT_PROPERTIES.buttons : [];\n      }\n\n      super(opts, template);\n\n      this.spinner = null;\n    }\n\n    async show() {\n      super.show();\n\n      this.spinner = new Spinner({ element: this.getElement().querySelector('.loader') });\n      this.spinner.animate(true);\n    }\n\n    async hide() {\n      super.hide();\n\n      this.spinner.animate(false);\n      this.spinner = null;\n    }\n\n    static identifier() {\n      return NAME;\n    }\n\n    static DOMInterface(options) {\n      return new Loader(options);\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n  createJqueryPlugin($, NAME, Loader);\n\n  /**\n   * ------------------------------------------------------------------------\n   * DOM Api implementation\n   * ------------------------------------------------------------------------\n   */\n  const components = [];\n  const modals = document.querySelectorAll(`.${Modal.identifier()}`);\n\n  if (modals) {\n    Array.from(modals).forEach((element) => {\n      const config = getAttributesConfig(element, DEFAULT_PROPERTIES, DATA_ATTRS_PROPERTIES);\n      config.element = element;\n\n      if (config.type === NAME) {\n        // loader\n        components.push(new Loader(config));\n      }\n    });\n  }\n\n  document.addEventListener('click', (event) => {\n    const dataToggleAttr = event.target.getAttribute('data-toggle');\n    if (dataToggleAttr && dataToggleAttr === NAME) {\n      const id = event.target.getAttribute('data-target');\n      const element = document.querySelector(id);\n\n      const component = components.find(c => c.element === element);\n\n      if (!component) {\n        return;\n      }\n\n      // remove the focus state of the trigger\n      event.target.blur();\n\n      component.modal.show();\n    }\n  });\n\n  return Loader;\n})(window.$ ? window.$ : null);\n\nexport default Loader;\n","/**\n* --------------------------------------------------------------------------\n* Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n* --------------------------------------------------------------------------\n*/\nimport Event from '../../common/events';\nimport Component from '../component';\nimport { createJqueryPlugin, sleep } from '../../common/utils';\n\nconst Notification = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n  * Constants\n  * ------------------------------------------------------------------------\n  */\n\n  const NAME = 'notification';\n  const VERSION = '2.0.0';\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    message: '',\n    showButton: true,\n    timeout: null,\n    background: 'primary',\n  };\n  const DATA_ATTRS_PROPERTIES = [\n    'timeout',\n  ];\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Notification extends Component {\n    constructor(options = {}) {\n      super(NAME, VERSION, DEFAULT_PROPERTIES, options, DATA_ATTRS_PROPERTIES, true, false);\n\n      this.template = ''\n      + '<div class=\"notification\">'\n        + '<div class=\"notification-inner\">'\n          + '<div class=\"message\"></div>'\n          + '<button type=\"button\" class=\"close\" data-dismiss=\"notification\" aria-label=\"Close\">'\n            + '<span aria-hidden=\"true\">&times;</span>'\n          + '</button>'\n        + '</div>'\n      + '</div>';\n\n      if (this.dynamicElement) {\n        this.build();\n      }\n\n      this.timeoutCallback = null;\n    }\n\n    build() {\n      const builder = document.createElement('div');\n\n      builder.innerHTML = this.template;\n\n      this.options.element = builder.firstChild;\n\n      // text message\n      this.options.element.querySelector('.message').innerHTML = this.options.message;\n\n      if (!this.options.showButton) {\n        this.options.element.querySelector('button').style.display = 'none';\n      }\n\n      document.body.appendChild(this.options.element);\n\n      this.setAttributes();\n    }\n\n    /**\n     * Shows the notification\n     * @returns {Promise} Promise object represents the completed animation\n     */\n    show() {\n      return new Promise(async (resolve, reject) => {\n        if (this.options.element === null) {\n          // build and insert a new DOM element\n          this.build();\n        }\n\n        if (this.options.element.classList.contains('show')) {\n          reject(new Error('The notification is already active'));\n          return;\n        }\n\n        // reset color\n        if (this.options.background) {\n          this.options.element.removeAttribute('class');\n          this.options.element.setAttribute('class', 'notification');\n\n          this.options.element.classList.add(`bg-${this.options.background}`);\n          this.options.element.querySelector('button').classList.add(`btn-${this.options.background}`);\n        }\n\n        if (this.options.showButton) {\n          // attach the button handler\n          const buttonElement = this.options.element.querySelector('button');\n          this.registerElement({ target: buttonElement, event: 'click' });\n        }\n\n        await sleep(20);\n\n        if (Number.isInteger(this.options.timeout) && this.options.timeout > 0) {\n          // if there is a timeout, auto hide the notification\n          this.timeoutCallback = setTimeout(() => {\n            this.hide();\n          }, this.options.timeout + 1);\n        }\n\n        this.options.element.classList.add('show');\n\n        // set position\n        const activeNotifications = document.querySelectorAll('.notification.show') || [];\n        let pushDistance = 0;\n        activeNotifications.forEach((notification) => {\n          if (this.options.element !== notification) {\n            const style = getComputedStyle(notification);\n            pushDistance += notification.offsetHeight + parseInt(style.marginBottom, 10);\n          }\n        });\n\n        this.options.element.style.transform = `translateY(${pushDistance}px)`;\n\n        this.triggerEvent(Event.SHOW);\n\n        const onShown = () => {\n          this.triggerEvent(Event.SHOWN);\n          this.options.element.removeEventListener(Event.TRANSITION_END, onShown);\n\n          resolve();\n        };\n\n        this.options.element.addEventListener(Event.TRANSITION_END, onShown);\n\n        return true;\n      });\n    }\n\n    /**\n     * Hides the notification\n     * @returns {Promise} Promise object represents the completed animation\n     */\n    hide() {\n      return new Promise((resolve, reject) => {\n        /*\n        * prevent to close a notification with a timeout\n        * if the user has already clicked on the button\n        */\n        if (this.timeoutCallback) {\n          clearTimeout(this.timeoutCallback);\n          this.timeoutCallback = null;\n        }\n\n        if (!this.options.element.classList.contains('show')) {\n          reject(new Error('The notification is not active'));\n          return;\n        }\n\n        this.triggerEvent(Event.HIDE);\n\n        if (this.options.showButton) {\n          const buttonElement = this.options.element.querySelector('button');\n          this.unregisterElement({ target: buttonElement, event: 'click' });\n        }\n\n        this.options.element.classList.remove('show');\n        this.options.element.classList.add('hide');\n\n        const onHidden = () => {\n          this.options.element.removeEventListener(Event.TRANSITION_END, onHidden);\n          this.options.element.classList.remove('hide');\n\n          this.triggerEvent(Event.HIDDEN);\n\n          if (this.dynamicElement) {\n            document.body.removeChild(this.options.element);\n            this.options.element = null;\n          }\n\n          resolve();\n        };\n\n        this.options.element.addEventListener(Event.TRANSITION_END, onHidden);\n      });\n    }\n\n    onElementEvent() {\n      this.hide();\n    }\n\n    static identifier() {\n      return NAME;\n    }\n\n    static DOMInterface(options) {\n      return super.DOMInterface(Notification, options);\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n  createJqueryPlugin($, NAME, Notification);\n\n\n  return Notification;\n})(window.$ ? window.$ : null);\n\nexport default Notification;\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Component from '../component';\nimport { getAttributesConfig } from '../componentManager';\nimport Event from '../../common/events';\nimport { findTargetByAttr, createJqueryPlugin, sleep } from '../../common/utils';\n\nconst Collapse = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'collapse';\n  const VERSION = '2.0.0';\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    toggle: false,\n  };\n  const DATA_ATTRS_PROPERTIES = [\n  ];\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Collapse extends Component {\n    constructor(options = {}) {\n      super(NAME, VERSION, DEFAULT_PROPERTIES, options, DATA_ATTRS_PROPERTIES, false, false);\n\n      this.onTransition = false;\n\n      // toggle directly\n      if (this.options.toggle) {\n        this.show();\n      }\n    }\n\n    getHeight() {\n      return this.options.element.getBoundingClientRect(this.options.element).height;\n    }\n\n    toggle() {\n      if (this.options.element.classList.contains('show')) {\n        return this.hide();\n      }\n\n      return this.show();\n    }\n\n    /**\n     * Shows the collapse\n     * @returns {Promise} Promise object represents the completed animation\n     */\n    show() {\n      return new Promise(async (resolve, reject) => {\n        if (this.onTransition) {\n          reject();\n          return;\n        }\n\n        if (this.options.element.classList.contains('show')) {\n          reject();\n          return;\n        }\n\n        this.onTransition = true;\n\n        this.triggerEvent(Event.SHOW);\n\n        const onCollapsed = () => {\n          this.triggerEvent(Event.SHOWN);\n\n          this.options.element.classList.add('show');\n          this.options.element.classList.remove('collapsing');\n          this.options.element.removeEventListener(Event.TRANSITION_END, onCollapsed);\n\n          this.options.element.setAttribute('aria-expanded', true);\n\n          this.onTransition = false;\n\n          resolve();\n        };\n\n        if (!this.options.element.classList.contains('collapsing')) {\n          this.options.element.classList.add('collapsing');\n        }\n\n        this.options.element.addEventListener(Event.TRANSITION_END, onCollapsed);\n\n        if (!this.isVerticalCollapse()) {\n          this.options.element.classList.add('slide');\n        } else {\n          // get real height\n          const height = this.getHeight();\n\n          this.options.element.style.height = '0px';\n\n          await sleep(20);\n\n          this.options.element.style.height = `${height}px`;\n        }\n      });\n    }\n\n    /**\n     * Hides the collapse\n     * @returns {Promise} Promise object represents the completed animation\n     */\n    hide() {\n      return new Promise((resolve, reject) => {\n        if (this.onTransition) {\n          reject();\n          return;\n        }\n\n        if (!this.options.element.classList.contains('show')) {\n          reject();\n          return;\n        }\n\n        this.onTransition = true;\n\n        this.triggerEvent(Event.HIDE);\n\n        const onCollapsed = () => {\n          this.triggerEvent(Event.HIDDEN);\n\n          this.options.element.classList.remove('collapsing');\n          this.options.element.style.height = 'auto';\n          this.options.element.removeEventListener(Event.TRANSITION_END, onCollapsed);\n\n          this.options.element.setAttribute('aria-expanded', false);\n\n          this.onTransition = false;\n\n          resolve();\n        };\n\n        this.options.element.addEventListener(Event.TRANSITION_END, onCollapsed);\n\n        if (!this.isVerticalCollapse()) {\n          if (this.options.element.classList.contains('slide')) {\n            this.options.element.classList.remove('slide');\n          }\n        } else {\n          this.options.element.style.height = '0px';\n        }\n\n        if (!this.options.element.classList.contains('collapsing')) {\n          this.options.element.classList.add('collapsing');\n        }\n\n        this.options.element.classList.remove('show');\n      });\n    }\n\n    isVerticalCollapse() {\n      return !this.options.element.classList.contains('collapse-l')\n        && !this.options.element.classList.contains('collapse-r');\n    }\n\n    static identifier() {\n      return NAME;\n    }\n\n    static DOMInterface(options) {\n      return super.DOMInterface(Collapse, options);\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n  createJqueryPlugin($, NAME, Collapse);\n\n  /**\n   * ------------------------------------------------------------------------\n   * DOM Api implementation\n   * ------------------------------------------------------------------------\n   */\n  const components = [];\n\n  const collapses = Array.from(document.querySelectorAll(`.${NAME}`) || []);\n\n  collapses.forEach((element) => {\n    const config = getAttributesConfig(element, DEFAULT_PROPERTIES, DATA_ATTRS_PROPERTIES);\n    config.element = element;\n\n    components.push(Collapse.DOMInterface(config));\n  });\n\n  document.addEventListener(Event.CLICK, (event) => {\n    const target = findTargetByAttr(event.target, 'data-toggle');\n    if (!target) {\n      return;\n    }\n\n    const dataToggleAttr = target.getAttribute('data-toggle');\n\n    if (dataToggleAttr && dataToggleAttr === NAME) {\n      let id = target.getAttribute('data-target') || target.getAttribute('href');\n      id = id.replace('#', '');\n\n      const component = components.find(c => c.getElement().getAttribute('id') === id);\n\n      if (!component) {\n        return;\n      }\n\n      component.toggle();\n    }\n  });\n\n  return Collapse;\n})(window.$ ? window.$ : null);\n\nexport default Collapse;\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Component from '../component';\nimport Collapse from '../collapse';\nimport { getAttributesConfig } from '../componentManager';\nimport { findTargetByClass, createJqueryPlugin } from '../../common/utils';\n\nconst Accordion = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'accordion';\n  const VERSION = '2.0.0';\n  const DEFAULT_PROPERTIES = {\n    element: null,\n  };\n  const DATA_ATTRS_PROPERTIES = [\n  ];\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Accordion extends Component {\n    constructor(options = {}) {\n      super(NAME, VERSION, DEFAULT_PROPERTIES, options, DATA_ATTRS_PROPERTIES, false, false);\n\n      this.collapses = [];\n\n      const toggles = this.options.element.querySelectorAll(`[data-toggle=\"${NAME}\"]`);\n      Array.from(toggles).forEach((toggle) => {\n        const collapseId = toggle.getAttribute('href');\n        const collapse = document.querySelector(collapseId);\n\n        if (collapse) {\n          this.addCollapse(collapse);\n        }\n      });\n    }\n\n    onElementEvent(event) {\n      const id = event.target.getAttribute('href');\n      const element = document.querySelector(id);\n\n      this.setCollapses(element);\n    }\n\n    addCollapse(element) {\n      const collapse = new Collapse({\n        element,\n      });\n      this.collapses.push(collapse);\n\n      return collapse;\n    }\n\n    getCollapse(element) {\n      let collapse = this.collapses.find(c => c.options.element.getAttribute('id') === element.getAttribute('id'));\n\n      if (!collapse) {\n        // create a new collapse\n        collapse = this.addCollapse();\n      }\n\n      return collapse;\n    }\n\n    getCollapses() {\n      return this.collapses;\n    }\n\n    /**\n     * Shows the collapse element and hides the other active collapse elements\n     * @param {Element} showCollapse\n     * @returns {undefined}\n     */\n    setCollapses(showCollapse) {\n      const collapse = this.getCollapse(showCollapse);\n      this.collapses.forEach((c) => {\n        if (c.options.element.getAttribute('id') !== showCollapse.getAttribute('id')) {\n          c.hide();\n        } else {\n          collapse.toggle();\n        }\n      });\n    }\n\n    /**\n     * Shows the collapse element\n     * @param {(string|Element)} collapseEl\n     * @returns {Promise} Promise object represents the completed animation\n     */\n    async show(collapseEl) {\n      let collapse = collapseEl;\n      if (typeof collapseEl === 'string') {\n        collapse = document.querySelector(collapseEl);\n      }\n\n      if (!collapse) {\n        throw new Error(`${NAME}. The collapsible ${collapseEl} is an invalid HTMLElement.`);\n      }\n\n      this.setCollapses(collapse);\n\n      return true;\n    }\n\n    /**\n     * Hides the collapse element\n     * @param {(string|Element)} collapseEl\n     * @returns {Promise} Promise object represents the completed animation\n     */\n    async hide(collapseEl) {\n      let collapse = collapseEl;\n      if (typeof collapseEl === 'string') {\n        collapse = document.querySelector(collapseEl);\n      }\n\n      if (!collapse) {\n        throw new Error(`${NAME}. The collapsible ${collapseEl} is an invalid HTMLElement.`);\n      }\n\n      const collapseObj = this.getCollapse(collapse);\n\n      return collapseObj.hide();\n    }\n\n    static identifier() {\n      return NAME;\n    }\n\n    static DOMInterface(options) {\n      return super.DOMInterface(Accordion, options);\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n  createJqueryPlugin($, NAME, Accordion);\n\n  /**\n   * ------------------------------------------------------------------------\n   * DOM Api implementation\n   * ------------------------------------------------------------------------\n   */\n  const components = [];\n\n  const accordions = Array.from(document.querySelectorAll(`.${NAME}`) || []);\n\n  accordions.forEach((element) => {\n    const config = getAttributesConfig(element, DEFAULT_PROPERTIES, DATA_ATTRS_PROPERTIES);\n    config.element = element;\n\n    components.push(Accordion.DOMInterface(config));\n  });\n\n  document.addEventListener('click', (event) => {\n    const dataToggleAttr = event.target.getAttribute('data-toggle');\n    if (dataToggleAttr && dataToggleAttr === NAME) {\n      const collapseId = event.target.getAttribute('data-target') || event.target.getAttribute('href');\n      const collapseEl = document.querySelector(collapseId);\n\n      const accordion = findTargetByClass(event.target, 'accordion');\n\n      if (accordion === null) {\n        return;\n      }\n\n      const accordionId = accordion.getAttribute('id');\n      const component = components.find(c => c.getElement().getAttribute('id') === accordionId);\n\n      if (!component) {\n        return;\n      }\n\n      // if the collapse has been added programmatically, we add it\n      const targetCollapse = component.getCollapses().find(c => c.getElement() === collapseEl);\n      if (!targetCollapse) {\n        component.addCollapse(collapseEl);\n      }\n\n      component.show(collapseId);\n    }\n  });\n\n  return Accordion;\n})(window.$ ? window.$ : null);\n\nexport default Accordion;\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Component from '../component';\nimport { getAttributesConfig } from '../componentManager';\nimport Event from '../../common/events';\nimport { findTargetByClass, createJqueryPlugin } from '../../common/utils';\n\nconst Tab = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'tab';\n  const VERSION = '2.0.0';\n  const DEFAULT_PROPERTIES = {\n\n  };\n  const DATA_ATTRS_PROPERTIES = [\n  ];\n  const TAB_CONTENT_SELECTOR = '.tab-pane';\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Tab extends Component {\n    constructor(options = {}) {\n      super(NAME, VERSION, DEFAULT_PROPERTIES, options, DATA_ATTRS_PROPERTIES, false, false);\n    }\n\n    /**\n     * Shows the tab\n     * @returns {Promise} Promise object represents the completed animation\n     */\n    show() {\n      if (this.options.element.classList.contains('active')) {\n        return false;\n      }\n\n      const id = this.options.element.getAttribute('href');\n      const nav = findTargetByClass(this.options.element, 'nav');\n      const navTabs = nav ? nav.querySelectorAll(`[data-toggle=\"${NAME}\"]`) : null;\n\n      if (navTabs) {\n        Array.from(navTabs).forEach((tab) => {\n          if (tab.classList.contains('active')) {\n            tab.classList.remove('active');\n          }\n          tab.setAttribute('aria-selected', false);\n        });\n      }\n\n      this.options.element.classList.add('active');\n      this.options.element.setAttribute('aria-selected', true);\n\n      const tabContent = document.querySelector(id);\n      const tabContents = tabContent.parentNode.querySelectorAll(TAB_CONTENT_SELECTOR);\n\n      if (tabContents) {\n        Array.from(tabContents).forEach((tab) => {\n          if (tab.classList.contains('active')) {\n            tab.classList.remove('active');\n          }\n        });\n      }\n\n      tabContent.classList.add('showing');\n\n      setTimeout(() => {\n        const onShowed = () => {\n          tabContent.classList.remove('animate');\n          tabContent.classList.add('active');\n          tabContent.classList.remove('showing');\n          tabContent.removeEventListener(Event.TRANSITION_END, onShowed);\n        };\n\n        tabContent.addEventListener(Event.TRANSITION_END, onShowed);\n\n        tabContent.classList.add('animate');\n      }, 20);\n\n      return true;\n    }\n\n    async hide() {\n      if (!this.options.element.classList.contains('active')) {\n        throw new Error('The tab is not active');\n      }\n\n      if (this.options.element.classList.contains('active')) {\n        this.options.element.classList.remove('active');\n      }\n\n      this.options.element.setAttribute('aria-selected', false);\n\n      const id = this.options.element.getAttribute('href');\n      const tabContent = document.querySelector(id);\n\n      if (tabContent.classList.contains('active')) {\n        tabContent.classList.remove('active');\n      }\n\n      return true;\n    }\n\n    static identifier() {\n      return NAME;\n    }\n\n    static DOMInterface(options) {\n      return super.DOMInterface(Tab, options);\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n  createJqueryPlugin($, NAME, Tab);\n\n  /**\n   * ------------------------------------------------------------------------\n   * DOM Api implementation\n   * ------------------------------------------------------------------------\n   */\n  const components = [];\n\n  const tabs = document.querySelectorAll(`[data-toggle=\"${NAME}\"]`);\n  if (tabs) {\n    Array.from(tabs).forEach((element) => {\n      // const config = {}\n      const config = getAttributesConfig(element, DEFAULT_PROPERTIES, DATA_ATTRS_PROPERTIES);\n      config.element = element;\n\n      components.push(Tab.DOMInterface(config));\n    });\n  }\n\n  document.addEventListener('click', (event) => {\n    const dataToggleAttr = event.target.getAttribute('data-toggle');\n    if (dataToggleAttr && dataToggleAttr === NAME) {\n      const id = event.target.getAttribute('href');\n\n      const component = components.find(c => c.getElement().getAttribute('href') === id);\n\n      if (!component) {\n        return;\n      }\n\n      component.show();\n    }\n  });\n\n  return Tab;\n})(window.$ ? window.$ : null);\n\nexport default Tab;\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Component from '../component';\nimport Event from '../../common/events';\nimport { createJqueryPlugin } from '../../common/utils';\n\nconst Progress = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'progress';\n  const VERSION = '2.0.0';\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    height: 5,\n    min: 0,\n    max: 100,\n    label: false,\n    striped: false,\n    background: null,\n  };\n  const DATA_ATTRS_PROPERTIES = [\n    'height',\n    'min',\n    'max',\n    'label',\n    'striped',\n    'background',\n  ];\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Progress extends Component {\n    constructor(options = {}) {\n      super(NAME, VERSION, DEFAULT_PROPERTIES, options, DATA_ATTRS_PROPERTIES, false, false);\n\n      // set the wanted height\n      this.options.element.style.height = `${this.options.height}px`;\n\n      // set min and max values\n      const progressBar = this.getProgressBar();\n      progressBar.setAttribute('aria-valuemin', `${this.options.min}`);\n      progressBar.setAttribute('aria-valuemax', `${this.options.max}`);\n\n      // set striped\n      if (this.options.striped\n        && !progressBar.classList.contains('progress-bar-striped')) {\n        progressBar.classList.add('progress-bar-striped');\n      }\n\n      // set background\n      if (typeof this.options.background === 'string'\n        && !progressBar.classList.contains(`bg-${this.options.background}`)) {\n        progressBar.classList.add(`bg-${this.options.background}`);\n      }\n    }\n\n    getProgressBar() {\n      return this.options.element.querySelector('.progress-bar');\n    }\n\n    set(value = 0) {\n      const progressBar = this.getProgressBar();\n      const progress = Math.round((value / (this.options.min + this.options.max)) * 100);\n\n      if (value < this.options.min) {\n        console.error(`${NAME}. Warning, ${value} is under min value.`);\n        return false;\n      }\n\n      if (value > this.options.max) {\n        console.error(`${NAME}. Warning, ${value} is above max value.`);\n        return false;\n      }\n\n      progressBar.setAttribute('aria-valuenow', `${value}`);\n\n      // set label\n      if (this.options.label) {\n        progressBar.innerHTML = `${progress}%`;\n      }\n\n      // set percentage\n      progressBar.style.width = `${progress}%`;\n\n      return true;\n    }\n\n    animate(startAnimation = true) {\n      if (!this.options.striped) {\n        console.error(`${NAME}. Animation works only with striped progress.`);\n        return false;\n      }\n\n      const progressBar = this.getProgressBar();\n\n      if (startAnimation\n        && !progressBar.classList.contains('progress-bar-animated')) {\n        progressBar.classList.add('progress-bar-animated');\n      }\n\n      if (!startAnimation\n        && progressBar.classList.contains('progress-bar-animated')) {\n        progressBar.classList.remove('progress-bar-animated');\n      }\n\n      return true;\n    }\n\n    /**\n     * Shows the progress bar\n     * @returns {Promise} Promise object represents the completed animation\n     */\n    async show() {\n      this.options.element.style.height = `${this.options.height}px`;\n      this.triggerEvent(Event.SHOW);\n      this.triggerEvent(Event.SHOWN);\n\n      return true;\n    }\n\n    /**\n     * Hides the progress bar\n     * @returns {Promise} Promise object represents the completed animation\n     */\n    async hide() {\n      this.options.element.style.height = '0px';\n      this.triggerEvent(Event.HIDE);\n      this.triggerEvent(Event.HIDDEN);\n\n      return true;\n    }\n\n    static identifier() {\n      return NAME;\n    }\n\n    static DOMInterface(options) {\n      return super.DOMInterface(Progress, options);\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n  createJqueryPlugin($, NAME, Progress);\n\n  return Progress;\n})(window.$ ? window.$ : null);\n\nexport default Progress;\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Event from '../../common/events'\nimport Component from '../component'\nimport { getAttributesConfig } from '../componentManager'\nimport { findTargetByAttr, createJqueryPlugin } from '../../common/utils'\n\nconst OffCanvas = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'offcanvas'\n  const VERSION = '2.0.0'\n  const BACKDROP_SELECTOR = 'offcanvas-backdrop'\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    aside: {\n      md: false,\n      lg: false,\n      xl: false,\n    },\n  }\n  const DATA_ATTRS_PROPERTIES = [\n    'aside',\n  ]\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class OffCanvas extends Component {\n\n    constructor(options = {}) {\n      super(NAME, VERSION, DEFAULT_PROPERTIES, options, DATA_ATTRS_PROPERTIES, false, true)\n\n      this.useBackdrop = true\n      this.currentWidth = null\n      this.animate = true\n\n      this.directions = ['left', 'right']\n\n      const sm = { name: 'sm', media: window.matchMedia('(min-width: 1px)') }\n      const md = { name: 'md', media: window.matchMedia('(min-width: 768px)') }\n      const lg = { name: 'lg', media: window.matchMedia('(min-width: 992px)') }\n      const xl = { name: 'xl', media: window.matchMedia('(min-width: 1200px)') }\n\n      this.sizes = [sm, md, lg, xl].reverse()\n\n      this.checkDirection()\n      this.checkWidth()\n\n      window.addEventListener('resize', () => this.checkWidth(), false)\n    }\n\n    checkDirection() {\n      this.directions.every((direction) => {\n        if (this.options.element.classList.contains(`offcanvas-${direction}`)) {\n          this.direction = direction\n          return false\n        }\n        return true\n      })\n    }\n\n    checkWidth() {\n      if (!('matchMedia' in window)) {\n        return\n      }\n\n      this.sizes.every((size) => {\n        const match = size.media.media.match(/[a-z]?-width:\\s?([0-9]+)/)\n\n        if (match) {\n          if (size.media.matches) {\n            if (this.currentWidth !== size.name) {\n              this.setAside(size.name)\n            }\n            this.currentWidth = size.name\n            return false\n          }\n        }\n\n        return true\n      })\n    }\n\n    preventClosable() {\n      return super.preventClosable() || this.options.aside[this.currentWidth] === true\n    }\n\n    setAside(name) {\n      const content = document.body\n\n      if (this.options.aside[name] === true) {\n        if (!content.classList.contains(`offcanvas-aside-${this.direction}`)) {\n          content.classList.add(`offcanvas-aside-${this.direction}`)\n        }\n\n        this.useBackdrop = false\n\n        // avoid animation by setting animate to false\n        this.animate = false\n        this.show()\n        // remove previous backdrop\n        this.removeBackdrop()\n      } else {\n        if (content.classList.contains(`offcanvas-aside-${this.direction}`)) {\n          content.classList.remove(`offcanvas-aside-${this.direction}`)\n        }\n\n        this.hide()\n        this.useBackdrop = true\n        this.animate = true\n      }\n    }\n\n    onElementEvent(event) {\n      if (event.type === 'keyup' && event.keyCode !== 27 && event.keyCode !== 13) {\n        return\n      }\n\n      // hide the offcanvas\n      this.hide()\n    }\n\n    show() {\n      if (this.options.element.classList.contains('show')) {\n        return false\n      }\n\n      // add a timeout so that the CSS animation works\n      setTimeout(() => {\n        this.triggerEvent(Event.SHOW)\n\n        const onShown = () => {\n          this.triggerEvent(Event.SHOWN)\n\n          if (this.animate) {\n            this.options.element.removeEventListener(Event.TRANSITION_END, onShown)\n            this.options.element.classList.remove('animate')\n          }\n        }\n\n        if (this.useBackdrop) {\n          this.createBackdrop()\n        }\n\n\n        if (this.animate) {\n          this.options.element.addEventListener(Event.TRANSITION_END, onShown)\n          this.options.element.classList.add('animate')\n        } else {\n          // directly trigger the onShown\n          onShown()\n        }\n\n        this.options.element.classList.add('show')\n\n        // attach event\n        this.attachEvents()\n      }, 1)\n\n      return true\n    }\n\n    hide() {\n      if (!this.options.element.classList.contains('show')) {\n        return false\n      }\n\n      this.triggerEvent(Event.HIDE)\n\n      this.detachEvents()\n\n      if (this.animate) {\n        this.options.element.classList.add('animate')\n      }\n\n      this.options.element.classList.remove('show')\n\n      if (this.useBackdrop) {\n        const backdrop = this.getBackdrop()\n\n        const onHidden = () => {\n          if (this.animate) {\n            this.options.element.classList.remove('animate')\n          }\n\n          backdrop.removeEventListener(Event.TRANSITION_END, onHidden)\n          this.triggerEvent(Event.HIDDEN)\n          this.removeBackdrop()\n        }\n\n        backdrop.addEventListener(Event.TRANSITION_END, onHidden)\n        backdrop.classList.add('fadeout')\n      }\n\n      return true\n    }\n\n    createBackdrop() {\n      const backdrop = document.createElement('div')\n      backdrop.setAttribute('data-id', this.id)\n      backdrop.classList.add(BACKDROP_SELECTOR)\n\n      document.body.appendChild(backdrop)\n    }\n\n    getBackdrop() {\n      return document.querySelector(`.${BACKDROP_SELECTOR}[data-id=\"${this.id}\"]`)\n    }\n\n    removeBackdrop() {\n      const backdrop = this.getBackdrop()\n      if (backdrop) {\n        document.body.removeChild(backdrop)\n      }\n    }\n\n    attachEvents() {\n      const dismissButtons = this.options.element.querySelectorAll('[data-dismiss]')\n\n      if (dismissButtons) {\n        Array.from(dismissButtons).forEach(button => this.registerElement({ target: button, event: 'click' }))\n      }\n\n      if (this.useBackdrop) {\n        const backdrop = this.getBackdrop()\n        this.registerElement({ target: backdrop, event: Event.START })\n      }\n\n      this.registerElement({ target: document, event: 'keyup' })\n    }\n\n    detachEvents() {\n      const dismissButtons = this.options.element.querySelectorAll('[data-dismiss]')\n\n      if (dismissButtons) {\n        Array.from(dismissButtons).forEach(button => this.unregisterElement({ target: button, event: 'click' }))\n      }\n\n      if (this.useBackdrop) {\n        const backdrop = this.getBackdrop()\n        this.unregisterElement({ target: backdrop, event: Event.START })\n      }\n\n      this.unregisterElement({ target: document, event: 'keyup' })\n    }\n\n    static identifier() {\n      return NAME\n    }\n\n    static DOMInterface(options) {\n      return super.DOMInterface(OffCanvas, options)\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n  createJqueryPlugin($, NAME, OffCanvas);\n\n  /**\n   * ------------------------------------------------------------------------\n   * DOM Api implementation\n   * ------------------------------------------------------------------------\n   */\n  const components = []\n\n  const offCanvas = Array.from(document.querySelectorAll(`.${NAME}`) || [])\n\n  offCanvas.forEach((element) => {\n    const config = getAttributesConfig(element, DEFAULT_PROPERTIES, DATA_ATTRS_PROPERTIES)\n    config.element = element\n\n    components.push({ element, offCanvas: new OffCanvas(config) })\n  })\n\n  document.addEventListener('click', (event) => {\n    const target = findTargetByAttr(event.target, 'data-toggle')\n    if (!target) {\n      return\n    }\n\n    const dataToggleAttr = target.getAttribute('data-toggle')\n    if (dataToggleAttr && dataToggleAttr === NAME) {\n      const id = target.getAttribute('data-target')\n      const element = document.querySelector(id)\n\n      const component = components.find(c => c.element === element)\n\n      if (!component) {\n        return\n      }\n\n      target.blur()\n\n      component.offCanvas.show()\n    }\n  })\n\n  return OffCanvas\n})(window.$ ? window.$ : null)\n\nexport default OffCanvas\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Component from '../component';\nimport Event from '../../common/events';\nimport { findTargetByClass } from '../../common/utils';\nimport { getAttributesConfig } from '../componentManager';\n\nconst Selectbox = (() => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'selectbox';\n  const VERSION = '2.0.0';\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    selectable: true,\n    search: false,\n    filterItems: null,\n  };\n  const DATA_ATTRS_PROPERTIES = [\n    'selectable',\n    'search',\n  ];\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Selectbox extends Component {\n    constructor(options = {}) {\n      super(NAME, VERSION, DEFAULT_PROPERTIES, options, DATA_ATTRS_PROPERTIES, false, false);\n\n      const selected = this.options.element.querySelector('[data-selected]');\n      const item = this.getItemData(selected);\n\n      this.setSelected(item.value, item.text, false);\n    }\n\n    setSelected(value = '', text = null, checkExists = true) {\n      if (!this.options.selectable) {\n        return false;\n      }\n\n      let textDisplay = text;\n      this.options.element.querySelector('.default-text').innerHTML = text;\n      this.options.element.querySelector('input[type=\"hidden\"]').value = value;\n\n      const items = this.options.element.querySelectorAll('.item') || [];\n      let itemFound = false;\n\n      Array.from(items).forEach((item) => {\n        if (item.classList.contains('selected')) {\n          item.classList.remove('selected');\n        }\n\n        const data = this.getItemData(item);\n\n        if (value === data.value) {\n          if (!item.classList.contains('selected')) {\n            item.classList.add('selected');\n          }\n\n          textDisplay = data.text;\n          itemFound = true;\n        }\n      });\n\n      if (checkExists && itemFound) {\n        this.options.element.querySelector('.default-text').innerHTML = textDisplay;\n      } else if (checkExists && !itemFound) {\n        throw new Error(`${NAME}. The value \"${value}\" does not exist in the list of items.`);\n      }\n\n      return true;\n    }\n\n    getSelected() {\n      return this.options.element.querySelector('input[type=\"hidden\"]').value;\n    }\n\n    getItemData(item = null) {\n      let text = '';\n      let value = '';\n\n      if (item) {\n        text = item.getAttribute('data-text') || item.innerHTML;\n\n        const selectedTextNode = item.querySelector('.text');\n        if (selectedTextNode) {\n          text = selectedTextNode.innerHTML;\n        }\n\n        value = item.getAttribute('data-value') || '';\n      }\n\n      return { text, value };\n    }\n\n    onElementEvent(event) {\n      if (event.type === Event.START) {\n        const selectbox = findTargetByClass(event.target, 'selectbox');\n\n        /*\n         * hide the current selectbox only if the event concerns another selectbox\n         * hide also if the user clicks outside a selectbox\n         */\n        if (!selectbox || selectbox !== this.getElement()) {\n          this.hide();\n        }\n      } else if (event.type === 'click') {\n        const item = findTargetByClass(event.target, 'item');\n\n        if (item) {\n          if (item.classList.contains('disabled')) {\n            return;\n          }\n\n          const itemInfo = this.getItemData(item);\n\n          if (this.getSelected() !== itemInfo.value) {\n            // the user selected another value, we dispatch the event\n            this.setSelected(itemInfo.value, itemInfo.text, false);\n            const detail = { item, text: itemInfo.text, value: itemInfo.value };\n            this.triggerEvent(Event.ITEM_SELECTED, detail);\n          }\n\n          this.hide();\n          return;\n        }\n\n        // don't toggle the selectbox if the event concerns headers, dividers\n        const selectboxMenu = findTargetByClass(event.target, 'selectbox-menu');\n        if (selectboxMenu) {\n          return;\n        }\n\n        this.toggle();\n      }\n    }\n\n    toggle() {\n      if (this.options.element.classList.contains('active')) {\n        return this.hide();\n      }\n\n      return this.show();\n    }\n\n    /**\n     * Shows the selectbox\n     * @returns {Promise} Promise object represents the completed animation\n     */\n    async show() {\n      if (this.options.element.classList.contains('active')) {\n        return false;\n      }\n\n      this.options.element.classList.add('active');\n\n      const selectboxMenu = this.options.element.querySelector('.selectbox-menu');\n\n      // scroll to top\n      selectboxMenu.scrollTop = 0;\n\n      this.triggerEvent(Event.SHOW);\n      this.triggerEvent(Event.SHOWN);\n\n      this.registerElement({ target: selectboxMenu, event: 'click' });\n      this.registerElement({ target: document.body, event: Event.START });\n\n      return true;\n    }\n\n    /**\n     * Hides the selectbox\n     * @returns {Promise} Promise object represents the completed animation\n     */\n    async hide() {\n      if (!this.options.element.classList.contains('active')) {\n        throw new Error('The selectbox is not active');\n      }\n\n      this.options.element.classList.remove('active');\n\n      this.triggerEvent(Event.HIDE);\n      this.triggerEvent(Event.HIDDEN);\n\n      this.unregisterElement({ target: this.options.element.querySelector('.selectbox-menu'), event: 'click' });\n      this.unregisterElement({ target: document.body, event: Event.START });\n\n      return true;\n    }\n\n    static identifier() {\n      return NAME;\n    }\n\n    static DOMInterface(options) {\n      return super.DOMInterface(Selectbox, options);\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * DOM Api implementation\n   * ------------------------------------------------------------------------\n   */\n  const components = [];\n\n  const selectboxes = Array.from(document.querySelectorAll(`.${NAME}`) || []);\n  selectboxes.filter(d => !d.classList.contains('nav-item')).forEach((element) => {\n    const config = getAttributesConfig(element, DEFAULT_PROPERTIES, DATA_ATTRS_PROPERTIES);\n    config.element = element;\n\n    if (!config.search) {\n      components.push(new Selectbox(config));\n    }\n  });\n\n  document.addEventListener('click', (event) => {\n    const selectboxMenu = findTargetByClass(event.target, 'selectbox-menu');\n    if (selectboxMenu) {\n      return;\n    }\n\n    const selectbox = findTargetByClass(event.target, 'selectbox');\n\n    if (selectbox) {\n      const dataToggleAttr = selectbox.getAttribute('data-toggle');\n      if (dataToggleAttr && dataToggleAttr === NAME && selectbox) {\n        const component = components.find(c => c.getElement() === selectbox);\n\n        if (!component) {\n          return;\n        }\n\n        component.toggle();\n      }\n    }\n  });\n\n  return Selectbox;\n})();\n\nexport default Selectbox;\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Selectbox from './index';\nimport { findTargetByClass, createJqueryPlugin } from '../../common/utils';\nimport { getAttributesConfig } from '../componentManager';\n\nconst SelectboxSearch = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = Selectbox.identifier();\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    selectable: true,\n    search: true,\n    filterItems: null,\n  };\n  const DATA_ATTRS_PROPERTIES = [\n    'selectable',\n    'search',\n  ];\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class SelectboxSearch extends Selectbox {\n    constructor(options = {}) {\n      super(options);\n\n      this.filterItemsHandler = (event) => {\n        const search = event.target.value;\n\n        if (search === '') {\n          this.showItems();\n          return;\n        }\n\n\n        this.getItems().forEach((item) => {\n          const fn = typeof this.options.filterItems === 'function' ? this.options.filterItems : this.filterItems;\n\n          if (fn(search, item)) {\n            item.element.style.display = 'block';\n          } else {\n            item.element.style.display = 'none';\n          }\n        });\n      };\n\n      this.getSearchInput().addEventListener('keyup', this.filterItemsHandler);\n    }\n\n    filterItems(search = '', item = {}) {\n      return item.value.indexOf(search) > -1 || item.text.indexOf(search) > -1;\n    }\n\n    getItems() {\n      let items = Array.from(this.options.element.querySelectorAll('.item') || []);\n      items = items.map((item) => {\n        const info = this.getItemData(item);\n        return { text: info.text, value: info.value, element: item };\n      });\n\n      return items;\n    }\n\n    showItems() {\n      this.getItems().forEach((item) => {\n        const i = item;\n        i.element.style.display = 'block';\n      });\n    }\n\n    getSearchInput() {\n      return this.options.element.querySelector('.selectbox-menu input');\n    }\n\n    /**\n     * Shows the search selectbox\n     * @returns {Promise} Promise object represents the completed animation\n     */\n    async show() {\n      return super.hide();\n    }\n\n    /**\n     * Hides the search selectbox\n     * @returns {Promise} Promise object represents the completed animation\n     */\n    async hide() {\n      await super.hide();\n\n      // reset the value\n      this.getSearchInput().value = '';\n\n      // show all items\n      this.showItems();\n\n      return true;\n    }\n\n    static DOMInterface(options) {\n      return new SelectboxSearch(options);\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n  createJqueryPlugin($, NAME, SelectboxSearch);\n\n  /**\n   * ------------------------------------------------------------------------\n   * DOM Api implementation\n   * ------------------------------------------------------------------------\n   */\n  const components = [];\n  const selectboxes = Array.from(document.querySelectorAll(`.${NAME}`) || []);\n\n  selectboxes.filter(d => !d.classList.contains('nav-item')).forEach((element) => {\n    const config = getAttributesConfig(element, DEFAULT_PROPERTIES, DATA_ATTRS_PROPERTIES);\n    config.element = element;\n\n    if (config.search) {\n      // search\n      components.push(new SelectboxSearch(config));\n    }\n  });\n\n  if (selectboxes) {\n    document.addEventListener('click', (event) => {\n      const selectboxMenu = findTargetByClass(event.target, 'selectbox-menu');\n      if (selectboxMenu) {\n        return;\n      }\n\n      const selectbox = findTargetByClass(event.target, 'selectbox');\n\n      if (selectbox) {\n        const dataToggleAttr = selectbox.getAttribute('data-toggle');\n        if (dataToggleAttr && dataToggleAttr === NAME && selectbox) {\n          const component = components.find(c => c.getElement() === selectbox);\n\n          if (!component) {\n            return;\n          }\n\n          component.toggle();\n        }\n      }\n    });\n  }\n\n  return SelectboxSearch;\n})(window.$ ? window.$ : null);\n\nexport default SelectboxSearch;\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Component from '../component';\nimport { getAttributesConfig } from '../componentManager';\nimport Event from '../../common/events';\nimport {\n  findTargetByAttr, findTargetByClass, createJqueryPlugin, sleep,\n} from '../../common/utils';\n\nconst Dropdown = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'dropdown';\n  const MENU = 'dropdown-menu';\n  const MENU_ITEM = 'dropdown-item';\n  const VERSION = '2.0.0';\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    hover: true,\n  };\n  const DATA_ATTRS_PROPERTIES = [\n    'hover',\n  ];\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Dropdown extends Component {\n    constructor(options = {}) {\n      super(NAME, VERSION, DEFAULT_PROPERTIES, options, DATA_ATTRS_PROPERTIES, false, false);\n      this.onTransition = false;\n\n\n      if (this.options.hover) {\n        this.registerElement({ target: this.options.element, event: 'mouseover' });\n        this.registerElement({ target: this.options.element, event: 'mouseleave' });\n\n        this.options.element.addEventListener('mouseover', (event) => {\n          this.show();\n        });\n\n        this.options.element.addEventListener('mouseleave', (event) => {\n          this.hide();\n        });\n      }\n    }\n\n    onElementEvent(event) {\n      if (event.type === 'mouseover') {\n        this.show();\n        return;\n      }\n\n      if (event.type === 'mouseleave') {\n        this.hide();\n      }\n    }\n\n    /**\n     * Shows the dropdown\n     * @returns {Promise} Promise object represents the completed animation\n     */\n    show() {\n      return new Promise(async (resolve, reject) => {\n        if (this.onTransition) {\n          reject();\n          return;\n        }\n\n        if (this.options.element.classList.contains('show')) {\n          reject();\n          return;\n        }\n\n        this.onTransition = true;\n\n        this.triggerEvent(Event.SHOW);\n\n        const onShow = () => {\n          // dropdown menu\n          this.triggerEvent(Event.SHOWN);\n\n          this.getMenu().removeEventListener(Event.TRANSITION_END, onShow);\n          this.onTransition = false;\n\n          resolve();\n        };\n\n        // dropdown handler\n        this.options.element.classList.add('show');\n\n        this.getMenu().classList.add('show');\n\n        this.getMenu().addEventListener(Event.TRANSITION_END, onShow);\n\n        await sleep(20);\n\n        this.getMenu().classList.add('animate');\n      });\n    }\n\n    getMenu() {\n      return this.options.element.querySelector(`.${MENU}`);\n    }\n\n    async toggle() {\n      if (this.options.element.classList.contains('show')) {\n        await this.hide();\n      } else {\n        await this.show();\n      }\n    }\n\n    /**\n     * Hides the collapse\n     * @returns {Promise} Promise object represents the completed animation\n     */\n    hide() {\n      return new Promise((resolve, reject) => {\n        if (this.onTransition) {\n          reject();\n          return;\n        }\n\n        if (!this.options.element.classList.contains('show')) {\n          reject();\n          return;\n        }\n\n        this.onTransition = true;\n        this.triggerEvent(Event.HIDE);\n\n        const onHide = () => {\n          // dropdown menu\n          this.getMenu().classList.remove('show');\n\n          this.triggerEvent(Event.HIDDEN);\n          this.getMenu().removeEventListener(Event.TRANSITION_END, onHide);\n          this.onTransition = false;\n\n          resolve();\n        };\n\n        // dropdown handler\n        this.options.element.classList.remove('show');\n\n        this.getMenu().addEventListener(Event.TRANSITION_END, onHide);\n\n        this.getMenu().classList.remove('animate');\n      });\n    }\n\n    static identifier() {\n      return NAME;\n    }\n\n    static DOMInterface(options) {\n      return super.DOMInterface(Dropdown, options);\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n  createJqueryPlugin($, NAME, Dropdown);\n\n  /**\n   * ------------------------------------------------------------------------\n   * DOM Api implementation\n   * ------------------------------------------------------------------------\n   */\n  const components = [];\n\n  const dropdowns = Array.from(document.querySelectorAll(`.${NAME}`) || []);\n\n  dropdowns.forEach((element) => {\n    const config = getAttributesConfig(element, DEFAULT_PROPERTIES, DATA_ATTRS_PROPERTIES);\n    config.element = element;\n\n    components.push(Dropdown.DOMInterface(config));\n  });\n\n  document.addEventListener('click', (event) => {\n    const dropdown = findTargetByClass(event.target, NAME);\n    const dropdownMenuItem = findTargetByClass(event.target, MENU_ITEM);\n\n    if (dropdown) {\n      const component = components.find(c => c.getElement() === dropdown);\n\n      if (!component) {\n        return;\n      }\n\n      if (dropdownMenuItem) {\n        // click in menu\n        component.hide();\n        return;\n      }\n\n      component.show();\n    }\n  });\n\n  document.addEventListener(Event.START, (event) => {\n    const dropdown = findTargetByClass(event.target, NAME);\n    const activeDropdown = document.querySelector('.dropdown.show');\n\n    if (dropdown || !activeDropdown) {\n      return;\n    }\n\n    const activeComponent = components.find(c => c.getElement() === activeDropdown);\n\n    activeComponent.hide();\n  });\n\n  return Dropdown;\n})(window.$ ? window.$ : null);\n\nexport default Dropdown;\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\n\n// single-page modules\nimport Pager from './hybrid-apps/pager/index';\nimport I18n from './hybrid-apps/i18n';\nimport Network from './common/network';\n\n// components\nimport Alert from './components/alert';\nimport Modal from './components/modal';\nimport ModalPrompt from './components/modal/prompt';\nimport ModalConfirm from './components/modal/confirm';\nimport ModalLoader from './components/modal/loader';\nimport Notification from './components/notification';\nimport Collapse from './components/collapse';\nimport Accordion from './components/accordion';\nimport Tab from './components/tab';\nimport Progress from './components/progress';\nimport Loader from './components/loader';\nimport OffCanvas from './components/off-canvas';\nimport Selectbox from './components/selectbox';\nimport SelectboxSearch from './components/selectbox/search';\nimport Dropdown from './components/dropdown';\n\nconst api = {};\n\n/**\n * ------------------------------------------------------------------------\n * Pager\n * ------------------------------------------------------------------------\n */\napi.pager = (options) => {\n  /* eslint no-underscore-dangle: 0 */\n  if (typeof api._pager === 'undefined') {\n    api._pager = Pager.DOMInterface(options);\n  }\n  return api._pager;\n};\n\n/**\n * ------------------------------------------------------------------------\n * i18n\n * ------------------------------------------------------------------------\n */\napi.i18n = I18n.DOMInterface;\n\n/**\n * ------------------------------------------------------------------------\n * Network\n * ------------------------------------------------------------------------\n */\napi.network = Network.DOMInterface;\n\n/**\n * ------------------------------------------------------------------------\n * Notification\n * ------------------------------------------------------------------------\n */\napi.notification = Notification.DOMInterface;\n\n/**\n * ------------------------------------------------------------------------\n * Modal\n * ------------------------------------------------------------------------\n */\n\n// generic\napi.modal = Modal.DOMInterface;\n\n// prompt modal\napi.prompt = ModalPrompt.DOMInterface;\n// confirm modal\napi.confirm = ModalConfirm.DOMInterface;\n// loader modal\napi.modalLoader = ModalLoader.DOMInterface;\n\n/**\n * ------------------------------------------------------------------------\n * Collapse\n * ------------------------------------------------------------------------\n */\napi.collapse = Collapse.DOMInterface;\n\n/**\n * ------------------------------------------------------------------------\n * Alert\n * ------------------------------------------------------------------------\n */\napi.alert = Alert.DOMInterface;\n\n/**\n * ------------------------------------------------------------------------\n * Accordion\n * ------------------------------------------------------------------------\n */\napi.accordion = Accordion.DOMInterface;\n\n\n/**\n * ------------------------------------------------------------------------\n * Tab\n * ------------------------------------------------------------------------\n */\napi.tab = Tab.DOMInterface;\n\n/**\n * ------------------------------------------------------------------------\n * Progress\n * ------------------------------------------------------------------------\n */\napi.progress = Progress.DOMInterface;\n\n/**\n * ------------------------------------------------------------------------\n * Loader\n * ------------------------------------------------------------------------\n */\napi.loader = Loader.DOMInterface;\n\n/**\n * ------------------------------------------------------------------------\n * Off canvas\n * ------------------------------------------------------------------------\n */\napi.offCanvas = OffCanvas.DOMInterface;\n\n/**\n * ------------------------------------------------------------------------\n * Selectbox\n * ------------------------------------------------------------------------\n */\napi.selectbox = (options) => {\n  if (options.search) {\n    // search selectbox\n    return SelectboxSearch.DOMInterface(options);\n  }\n\n  // generic selectbox\n  return Selectbox.DOMInterface(options);\n};\n\n/**\n * ------------------------------------------------------------------------\n * Dropdown\n * ------------------------------------------------------------------------\n */\napi.dropdown = Dropdown.DOMInterface;\n\n\n// Make the API live\nwindow.phonon = api;\n\nexport default api;\n"],"names":["dispatchWinDocEvent","eventName","moduleName","detail","fullEventName","window","dispatchEvent","CustomEvent","document","dispatchElementEvent","domElement","dispatchPageEvent","pageName","Page","NAME","VERSION","TEMPLATE_SELECTOR","constructor","name","events","templatePath","renderFunction","route","routeRegex","routeParams","setRoute","version","getEvents","getTemplate","template","getRoute","regex","params","regParams","replace","match","map","e","getRouteLink","reg","linkWithParams","reduce","cur","param","paramName","RegExp","validHash","hash","link","getParams","hashParams","hashValues","exec","slice","forEach","p","i","getRenderFunction","renderTemplate","pageElement","querySelector","render","DOMPage","elements","Array","from","el","innerHTML","querySelectorAll","addEvents","callbackFn","push","setTemplate","Error","preventTransition","fn","preventTransitionFn","getPreventTransition","triggerScopes","eventParams","eventNameAlias","charAt","toUpperCase","scope","scopeEvent","scopeEventAlias","apply","addEventListener","console","error","availableEvents","touchScreen","DocumentTouch","navigator","pointerEnabled","msPointerEnabled","createElement","transitions","start","end","animations","transitionStart","find","t","style","undefined","transitionEnd","animationStart","animationEnd","TOUCH_SCREEN","NETWORK_ONLINE","NETWORK_OFFLINE","NETWORK_RECONNECTING","NETWORK_RECONNECTING_SUCCESS","NETWORK_RECONNECTING_FAILURE","SHOW","SHOWN","HIDE","HIDDEN","HASH","START","MOVE","END","CANCEL","CLICK","TRANSITION_START","TRANSITION_END","ANIMATION_START","ANIMATION_END","ITEM_SELECTED","Pager","DEFAULT_PROPERTIES","hashPrefix","useHash","defaultPage","animatePages","currentPage","lastHash","options","Object","assign","pages","started","addPagerEvents","onDOMLoaded","_","selector","location","split","getHash","getHashParams","page","getPageModel","getPageFromHash","setHash","isPageOf","pageName1","pageName2","page1","page2","event","onClick","onHashChange","preventChangePage","oldPageName","oldPage","preventFn","showPage","back","getAttribute","classList","remove","history","replaceState","triggerPageEvent","Event","newPage","add","pageModel","previousPageName","onPageAnimationEnd","contains","removeEventListener","addUniquePageModel","selectorToArray","str","item","trim","target","backNavigation","navPage","nodeName","select","addPageModel","forceDefaultPage","force","cordova","DOMInterface","Binder","element","data","isElement","log","length","setNodes","setNode","Node","NodeList","setText","text","innerText","textContent","setHtml","setAttribute","attr","r","m","key","value","i18nValue","methodName","I18n","fallbackLocale","locale","bind","setLocale","getLocale","getFallbackLocale","updateHtml","getLanguages","keys","insertValues","injectableValues","translate","keyName","inject","isArray","filter","indexOf","filteredData","dataMap","generateId","Math","random","toString","substr","findTargetByClass","parentClass","parentNode","findTargetByAttr","createJqueryPlugin","$","obj","mainFn","opts","Constructor","noConflict","sleep","timeout","Promise","resolve","setTimeout","first","second","setAttributesConfig","attrs","keyStart","getAttributesConfig","newObj","type","attrValue","Number","isNaN","parseInt","stack","component","index","findIndex","c","is","splice","closable","Component","defaultOptions","optionAttrs","supportDynamicElement","addToStack","prop","id","checkElement","dynamicElement","registeredElements","assignJsConfig","getAttributes","setAttributes","elementListener","onBeforeElementEvent","attrConfig","jsConfig","config","getVersion","getElement","getId","registerElements","registerElement","unregisterElements","unregisterElement","registeredElementIndex","triggerEvent","objectEventOnly","ComponentManager","eventNameObject","acc","current","preventClosable","onElementEvent","identifier","ComponentClass","Network","initialDelay","delay","DATA_ATTRS_PROPERTIES","xhr","checkInterval","setStatus","startCheck","getStatus","status","startRequest","XMLHttpRequest","offline","url","Date","getTime","date","open","ontimeout","abort","onload","onUp","onerror","onDown","send","stopCheck","setInterval","clearInterval","Alert","fade","onTransition","show","reject","getOpacity","onShow","getComputedStyle","opacity","parseFloat","hide","onHide","components","alerts","dataToggleAttr","alert","Modal","BACKDROP_SELECTOR","title","message","cancelable","cancelableKeyCodes","buttons","dismiss","class","build","builder","firstChild","removeTextBody","button","appendChild","buildButton","removeFooter","body","buttonInfo","buildBackdrop","backdrop","getBackdrop","removeChild","footer","center","computedStyle","height","top","innerHeight","attachEvents","onShown","k","keyCode","detachEvents","onHidden","modals","modal","blur","Prompt","attachInputEvent","detachInputEvent","getInput","setInputValue","getInputValue","Confirm","Loader","color","size","loaderSpinner","getSpinner","customSize","getClientSize","getBoundingClientRect","width","animate","startAnimation","spinner","Spinner","Notification","showButton","background","timeoutCallback","display","removeAttribute","buttonElement","isInteger","activeNotifications","pushDistance","notification","offsetHeight","marginBottom","transform","clearTimeout","Collapse","toggle","getHeight","onCollapsed","isVerticalCollapse","collapses","Accordion","toggles","collapseId","collapse","addCollapse","setCollapses","getCollapse","getCollapses","showCollapse","collapseEl","collapseObj","accordions","accordion","accordionId","targetCollapse","Tab","TAB_CONTENT_SELECTOR","nav","navTabs","tab","tabContent","tabContents","onShowed","tabs","Progress","min","max","label","striped","progressBar","getProgressBar","set","progress","round","OffCanvas","aside","md","lg","xl","useBackdrop","currentWidth","directions","sm","media","matchMedia","sizes","reverse","checkDirection","checkWidth","every","direction","matches","setAside","content","removeBackdrop","createBackdrop","dismissButtons","offCanvas","Selectbox","selectable","search","filterItems","selected","getItemData","setSelected","checkExists","textDisplay","items","itemFound","getSelected","selectedTextNode","selectbox","itemInfo","selectboxMenu","scrollTop","selectboxes","d","SelectboxSearch","filterItemsHandler","showItems","getItems","getSearchInput","info","Dropdown","MENU","MENU_ITEM","hover","getMenu","dropdowns","dropdown","dropdownMenuItem","activeDropdown","activeComponent","api","pager","_pager","i18n","network","prompt","ModalPrompt","confirm","ModalConfirm","modalLoader","ModalLoader","loader","phonon"],"mappings":"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"}