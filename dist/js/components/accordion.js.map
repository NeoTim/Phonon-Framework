{"version":3,"file":"accordion.js","sources":["../../../src/js/common/events/dispatch.js","../../../src/js/common/utils/index.js","../../../src/js/common/events/index.js","../../../src/js/components/componentManager.js","../../../src/js/components/component.js","../../../src/js/components/collapse/index.js","../../../src/js/components/accordion/index.js"],"sourcesContent":["export function dispatchWinDocEvent(eventName, moduleName, detail = {}) {\n  const fullEventName = `${eventName}.ph.${moduleName}`\n  window.dispatchEvent(new CustomEvent(fullEventName, { detail }))\n  document.dispatchEvent(new CustomEvent(fullEventName, { detail }))\n}\n\nexport function dispatchElementEvent(domElement, eventName, moduleName, detail = {}) {\n  const fullEventName = `${eventName}.ph.${moduleName}`\n  domElement.dispatchEvent(new CustomEvent(fullEventName, { detail }))\n}\n\nexport function dispatchPageEvent(eventName, pageName, detail = {}) {\n  const fullEventName = `${pageName}.${eventName}`\n  window.dispatchEvent(new CustomEvent(fullEventName, { detail }))\n  document.dispatchEvent(new CustomEvent(fullEventName, { detail }))\n}\n","\nexport function generateId() {\n  return Math.random().toString(36).substr(2, 10)\n}\n\nexport function findTargetByClass(target, parentClass) {\n  for (; target && target !== document; target = target.parentNode) {\n    if (target.classList.contains(parentClass)) {\n      return target\n    }\n  }\n\n  return null\n}\n\nexport function findTargetById(target, parentId) {\n  for (; target && target !== document; target = target.parentNode) {\n    if (target.getAttribute('id') === parentId) {\n      return target\n    }\n  }\n\n  return null\n}\n\nexport function findTargetByAttr(target, attr) {\n  for (; target && target !== document; target = target.parentNode) {\n    if (target.getAttribute(attr) !== null) {\n      return target\n    }\n  }\n\n  return null\n}\n\nexport function createJqueryPlugin($ = null, name, obj) {\n  if (!$) {\n    return;\n  }\n\n  const mainFn = function (options = {}) {\n    const opts = options;\n    if (this[0]) {\n      opts.element = this[0];\n    }\n\n    return obj._DOMInterface(opts)\n  };\n\n  $.fn[name] = mainFn;\n  $.fn[name].Constructor = obj\n  $.fn[name].noConflict = mainFn;\n}\n","// @todo keep ?\nif (typeof window !== 'undefined') {\n  window.addEventListener('error', () => {\n    console.error('An error has occured! You can pen an issue here: https://github.com/quark-dev/Phonon-Framework/issues')\n  })\n}\n\n// Use available events\nlet availableEvents = ['mousedown', 'mousemove', 'mouseup']\nlet touchScreen = false\n\nif (typeof window !== 'undefined') {\n  if (('ontouchstart' in window) || window.DocumentTouch && document instanceof DocumentTouch) {\n    touchScreen = true\n    availableEvents = ['touchstart', 'touchmove', 'touchend', 'touchcancel']\n  }\n\n  if (window.navigator.pointerEnabled) {\n    availableEvents = ['pointerdown', 'pointermove', 'pointerup', 'pointercancel']\n  } else if (window.navigator.msPointerEnabled) {\n    availableEvents = ['MSPointerDown', 'MSPointerMove', 'MSPointerUp', 'MSPointerCancel']\n  }\n}\n\nconst el = document.createElement('div')\nconst transitions = [\n  { name: 'transition', start: 'transitionstart', end: 'transitionend' },\n  { name: 'MozTransition', start: 'transitionstart', end: 'transitionend' },\n  { name: 'msTransition', start: 'msTransitionStart', end: 'msTransitionEnd' },\n  { name: 'WebkitTransition', start: 'webkitTransitionStart', end: 'webkitTransitionEnd' },\n]\nconst animations = [\n  { name: 'animation', start: 'animationstart', end: 'animationend' },\n  { name: 'MozAnimation', start: 'animationstart', end: 'animationend' },\n  { name: 'msAnimation', start: 'msAnimationStart', end: 'msAnimationEnd' },\n  { name: 'WebkitAnimation', start: 'webkitAnimationStart', end: 'webkitAnimationEnd' },\n]\n\nconst transitionStart = transitions.find(t => el.style[t.name] !== undefined).start\nconst transitionEnd = transitions.find(t => el.style[t.name] !== undefined).end\nconst animationStart = animations.find(t => el.style[t.name] !== undefined).start\nconst animationEnd = animations.find(t => el.style[t.name] !== undefined).end\n\nexport default {\n  // touch screen support\n  TOUCH_SCREEN: touchScreen,\n\n  // network\n  NETWORK_ONLINE: 'online',\n  NETWORK_OFFLINE: 'offline',\n  NETWORK_RECONNECTING: 'reconnecting',\n  NETWORK_RECONNECTING_SUCCESS: 'reconnect.success',\n  NETWORK_RECONNECTING_FAILURE: 'reconnect.failure',\n\n  // user interface states\n  SHOW: 'show',\n  SHOWN: 'shown',\n  HIDE: 'hide',\n  HIDDEN: 'hidden',\n\n  // hash\n  HASH: 'hash',\n\n  // touch, mouse and pointer events polyfill\n  START: availableEvents[0],\n  MOVE: availableEvents[1],\n  END: availableEvents[2],\n  CANCEL: typeof availableEvents[3] === 'undefined' ? null : availableEvents[3],\n\n  // transitions\n  TRANSITION_START: transitionStart,\n  TRANSITION_END: transitionEnd,\n\n  // animations\n  ANIMATION_START: animationStart,\n  ANIMATION_END: animationEnd,\n\n  // dropdown\n  ITEM_SELECTED: 'itemSelected',\n}","\nconst getAttribute = (first, second) => {\n  if (first === '') {\n    return `data-${second}`\n  }\n  return `data-${first}-${second}`\n}\n\nexport function setAttributesConfig(element, obj = {}, attrs, start = '') {\n  const keys = Object.keys(obj)\n\n  keys.forEach((key) => {\n    if (start === '' && attrs.indexOf(key) === -1) {\n      // continue with next iteration\n      return\n    }\n\n    if (typeof obj[key] === 'object' && obj[key] !== null) {\n      let keyStart = key\n      if (start !== '') {\n        keyStart = `${start}-${key}`\n      }\n\n      setAttributesConfig(element, obj[key], attrs, keyStart)\n      return\n    }\n\n    const attr = getAttribute(start, key)\n    element.setAttribute(attr, obj[key])\n  })\n}\n\nexport function getAttributesConfig(element, obj = {}, attrs, start = '') {\n  const newObj = Object.assign({}, obj)\n  const keys = Object.keys(obj)\n\n  keys.forEach((key) => {\n    if (start === '' && attrs.indexOf(key) === -1) {\n      // continue with next iteration\n      return\n    }\n\n    if (obj[key] !== null && obj[key].constructor === Object) {\n      let keyStart = key\n      if (start !== '') {\n        keyStart = `${start}-${key}`\n      }\n\n      newObj[key] = getAttributesConfig(element, obj[key], attrs, keyStart)\n      return\n    }\n\n    // update value\n    let value = obj[key] // default value\n    const type = typeof value\n    const attr = getAttribute(start, key)\n    const attrValue = element.getAttribute(attr)\n\n    if (attrValue !== null) {\n      if (type === 'boolean') {\n        // convert string to boolean\n        value = attrValue === 'true'\n      } else if (!isNaN(attrValue)) {\n        value = parseInt(attrValue, 10)\n      } else {\n        value = attrValue\n      }\n    }\n\n    newObj[key] = value\n  })\n\n  return newObj\n}\n\nconst stack = []\n\nexport default {\n  add(component) {\n    stack.push(component)\n  },\n  remove(component) {\n    const index = stack.findIndex(c => Object.is(component, c))\n    if (index > -1) {\n      stack.splice(index, 1)\n    }\n  },\n  closable(component) {\n    return stack.length === 0 || Object.is(stack[stack.length - 1], component)\n  }\n}\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport { dispatchElementEvent, dispatchWinDocEvent } from '../common/events/dispatch'\nimport { generateId } from '../common/utils/index'\nimport Event from '../common/events'\nimport ComponentManager, { setAttributesConfig, getAttributesConfig } from './componentManager'\n\n/**\n * ------------------------------------------------------------------------\n * Class Definition\n * ------------------------------------------------------------------------\n */\n\nexport default class Component {\n\n  constructor(name, version, defaultOptions = {}, options = {}, optionAttrs = [], supportDynamicElement = false, addToStack = false) {\n    this.name = name\n    this.version = version\n    this.options = options\n\n    // @todo keep?\n    // this.options = Object.assign(defaultOptions, options)\n    Object.keys(defaultOptions).forEach((prop) => {\n      if (typeof this.options[prop] === 'undefined') {\n        this.options[prop] = defaultOptions[prop]\n      }\n    })\n\n    this.optionAttrs = optionAttrs\n    this.supportDynamicElement = supportDynamicElement\n    this.addToStack = addToStack\n    this.id = generateId()\n\n    const checkElement = !this.supportDynamicElement || this.options.element !== null\n\n    if (typeof this.options.element === 'string') {\n      this.options.element = document.querySelector(this.options.element)\n    }\n\n    if (checkElement && !this.options.element) {\n      throw new Error(`${this.name}. The element is not a HTMLElement.`)\n    }\n\n    this.dynamicElement = this.options.element === null\n    this.registeredElements = []\n\n    if (!this.dynamicElement) {\n      /**\n       * if the element exists, we read the data attributes config\n       * then we overwrite existing config keys in JavaScript, so that\n       * we keep the following order\n       * [1] default JavaScript configuration of the component\n       * [2] Data attributes configuration if the element exists in the DOM\n       * [3] JavaScript configuration\n       */\n      this.options = Object.assign(this.options, this.assignJsConfig(this.getAttributes(), options))\n\n      // then, set the new data attributes to the element\n      this.setAttributes()\n    }\n\n    this.elementListener = event => this.onBeforeElementEvent(event)\n  }\n\n  assignJsConfig(attrConfig, options) {\n    this.optionAttrs.forEach((key) => {\n      if (options[key]) {\n        attrConfig[key] = options[key]\n      }\n    })\n\n    return attrConfig\n  }\n\n  getVersion() {\n    return this.version\n  }\n\n  getElement() {\n    return this.options.element\n  }\n\n  getId() {\n    return this.id\n  }\n\n  registerElements(elements) {\n    elements.forEach(element => this.registerElement(element))\n  }\n\n  registerElement(element) {\n    element.target.addEventListener(element.event, this.elementListener)\n    this.registeredElements.push(element)\n  }\n\n  unregisterElements() {\n    this.registeredElements.forEach((element) => {\n      this.unregisterElement(element)\n    })\n  }\n\n  unregisterElement(element) {\n    const registeredElementIndex = this.registeredElements\n      .findIndex(el => el.target === element.target && el.event === element.event)\n\n    if (registeredElementIndex > -1) {\n      element.target.removeEventListener(element.event, this.elementListener)\n      this.registeredElements.splice(registeredElementIndex, 1)\n    } else {\n      console.error(`Warning! Unknown registered element: ${element.target} with event: ${element.event}.`)\n    }\n  }\n\n  triggerEvent(eventName, detail = {}, objectEventOnly = false) {\n    if (typeof eventName !== 'string') {\n      throw new Error('The event name is not valid.')\n    }\n\n    if (this.addToStack) {\n      if (eventName === Event.SHOW) {\n        ComponentManager.add(this)\n      } else if (eventName === Event.HIDE) {\n        ComponentManager.remove(this)\n      }\n    }\n\n    // event names can be with dot notation like reconnecting.success\n    const eventNameObject = eventName.split('.').reduce((acc, current, index) => {\n      if (index === 0) {\n        return current\n      }\n\n      return acc + current.charAt(0).toUpperCase() + current.slice(1)\n    })\n\n    const eventNameAlias = `on${eventNameObject.charAt(0).toUpperCase()}${eventNameObject.slice(1)}`\n\n    // object event\n    if (typeof this.options[eventNameObject] === 'function') {\n      this.options[eventNameObject].apply(this, [detail])\n    }\n\n    if (typeof this.options[eventNameAlias] === 'function') {\n      this.options[eventNameAlias].apply(this, [detail])\n    }\n\n    if (objectEventOnly) {\n      return\n    }\n\n    // dom event\n    if (this.options.element) {\n      dispatchElementEvent(this.options.element, eventName, this.name, detail)\n    } else {\n      dispatchWinDocEvent(eventName, this.name, detail)\n    }\n  }\n\n  setAttributes() {\n    if (this.optionAttrs.length > 0) {\n      setAttributesConfig(this.options.element, this.options, this.optionAttrs)\n    }\n  }\n\n  getAttributes() {\n    const options = Object.assign({}, this.options)\n    return getAttributesConfig(this.options.element, options, this.optionAttrs)\n  }\n\n  /**\n   * the preventClosable method manages concurrency between active components.\n   * For example, if there is a shown off-canvas and dialog, the last\n   * shown component gains the processing priority\n   */\n  preventClosable() {\n    return this.addToStack && !ComponentManager.closable(this)\n  }\n\n  onBeforeElementEvent(event) {\n    if (this.preventClosable()) {\n      return\n    }\n\n    this.onElementEvent(event)\n  }\n\n  onElementEvent(event) {\n    //\n  }\n\n  static identifier() {\n    return this.name\n  }\n\n  static _DOMInterface(ComponentClass, options) {\n    return new ComponentClass(options)\n  }\n}\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Component from '../component'\nimport { getAttributesConfig } from '../componentManager'\nimport Event from '../../common/events'\nimport { findTargetByAttr } from '../../common/utils'\n\nconst Collapse = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'collapse'\n  const VERSION = '2.0.0'\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    toggle: false,\n  }\n  const DATA_ATTRS_PROPERTIES = [\n    'toggle',\n  ]\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Collapse extends Component {\n\n    constructor(options = {}) {\n      super(NAME, VERSION, DEFAULT_PROPERTIES, options, DATA_ATTRS_PROPERTIES, false, false)\n\n      this.onTransition = false\n\n      // toggle directly\n      if (this.options.toggle) {\n        this.show()\n      }\n    }\n\n    getHeight() {\n      return this.options.element.getBoundingClientRect(this.options.element).height\n    }\n\n    toggle() {\n      if (this.options.element.classList.contains('show')) {\n        return this.hide()\n      }\n\n      return this.show()\n    }\n\n    show() {\n      if (this.onTransition) {\n        return false\n      }\n\n      if (this.options.element.classList.contains('show')) {\n        return false\n      }\n\n      this.onTransition = true\n\n      const onCollapsed = () => {\n        this.options.element.classList.add('show')\n        this.options.element.classList.remove('collapsing')\n        this.options.element.removeEventListener(Event.TRANSITION_END, onCollapsed)\n\n        this.options.element.setAttribute('aria-expanded', true)\n\n        this.onTransition = false\n      }\n\n      if (!this.options.element.classList.contains('collapsing')) {\n        this.options.element.classList.add('collapsing')\n      }\n\n      this.options.element.addEventListener(Event.TRANSITION_END, onCollapsed)\n\n      const height = this.getHeight()\n\n      this.options.element.style.height = '0px'\n\n      setTimeout(() => {\n        this.options.element.style.height = `${height}px`\n      }, 20)\n\n      return true\n    }\n\n    hide() {\n      if (this.onTransition) {\n        return false\n      }\n\n      if (!this.options.element.classList.contains('show')) {\n        return false\n      }\n\n      this.onTransition = true\n\n      const onCollapsed = () => {\n        this.options.element.classList.remove('collapsing')\n        this.options.element.style.height = 'auto'\n        this.options.element.removeEventListener(Event.TRANSITION_END, onCollapsed)\n\n        this.options.element.setAttribute('aria-expanded', false)\n\n        this.onTransition = false\n      }\n\n      this.options.element.style.height = '0px'\n\n      if (!this.options.element.classList.contains('collapsing')) {\n        this.options.element.classList.add('collapsing')\n      }\n\n      this.options.element.addEventListener(Event.TRANSITION_END, onCollapsed)\n\n      this.options.element.classList.remove('show')\n\n      return true\n    }\n\n    static identifier() {\n      return NAME\n    }\n\n    static _DOMInterface(options) {\n      return super._DOMInterface(Collapse, options)\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * DOM Api implementation\n   * ------------------------------------------------------------------------\n   */\n  const components = []\n\n  const collapses = document.querySelectorAll(`.${NAME}`)\n  if (collapses) {\n    collapses.forEach((element) => {\n      // const config = {}\n      const config = getAttributesConfig(element, DEFAULT_PROPERTIES, DATA_ATTRS_PROPERTIES)\n      config.element = element\n\n      components.push(Collapse._DOMInterface(config))\n    })\n  }\n\n  document.addEventListener('click', (event) => {\n    const target = findTargetByAttr(event.target, 'data-toggle')\n    if (!target) {\n      return\n    }\n\n    const dataToggleAttr = target.getAttribute('data-toggle')\n\n    if (dataToggleAttr && dataToggleAttr === NAME) {\n      let id = target.getAttribute('data-target') || target.getAttribute('href')\n      id = id.replace('#', '')\n\n      const component = components.find(c => c.getElement().getAttribute('id') === id)\n\n      if (!component) {\n        return\n      }\n\n      component.toggle()\n    }\n  })\n\n  return Collapse\n})(window.$ ? window.$ : null)\n\nexport default Collapse\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Component from '../component'\nimport Collapse from '../collapse'\nimport { getAttributesConfig } from '../componentManager'\nimport { findTargetByClass, createJqueryPlugin } from '../../common/utils'\n\nconst Accordion = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'accordion'\n  const VERSION = '2.0.0'\n  const DEFAULT_PROPERTIES = {\n    element: null,\n  }\n  const DATA_ATTRS_PROPERTIES = [\n  ]\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Accordion extends Component {\n\n    constructor(options = {}) {\n      super(NAME, VERSION, DEFAULT_PROPERTIES, options, DATA_ATTRS_PROPERTIES, false, false)\n\n      this.collapses = []\n\n      const toggles = this.options.element.querySelectorAll(`[data-toggle=\"${NAME}\"]`)\n      Array.from(toggles).forEach((toggle) => {\n        const collapseId = toggle.getAttribute('href')\n        const collapse = document.querySelector(collapseId)\n\n        if (collapse) {\n          this.addCollapse(collapse)\n        }\n      })\n    }\n\n    onElementEvent(event) {\n      const id = event.target.getAttribute('href')\n      const element = document.querySelector(id)\n\n      this.setCollapses(element)\n    }\n\n    addCollapse(element) {\n      const collapse = new Collapse({\n        element,\n      })\n      this.collapses.push(collapse)\n\n      return collapse\n    }\n\n    getCollapse(element) {\n      let collapse = this.collapses.find(c => c.options.element.getAttribute('id') === element.getAttribute('id'))\n\n      if (!collapse) {\n        // create a new collapse\n        collapse = this.addCollapse()\n      }\n\n      return collapse\n    }\n\n    getCollapses() {\n      return this.collapses\n    }\n\n    setCollapses(showCollapse) {\n      const collapse = this.getCollapse(showCollapse)\n      this.collapses.forEach((c) => {\n        if (c.options.element.getAttribute('id') !== showCollapse.getAttribute('id')) {\n          c.hide()\n        } else {\n          collapse.toggle()\n        }\n      })\n    }\n\n    show(collapseEl) {\n      let collapse = collapseEl\n      if (typeof collapseEl === 'string') {\n        collapse = document.querySelector(collapseEl)\n      }\n\n      if (!collapse) {\n        throw new Error(`${NAME}. The collapsible ${collapseEl} is an invalid HTMLElement.`)\n      }\n\n      this.setCollapses(collapse)\n\n      return true\n    }\n\n    hide(collapseEl) {\n      let collapse = collapseEl\n      if (typeof collapseEl === 'string') {\n        collapse = document.querySelector(collapseEl)\n      }\n\n      if (!collapse) {\n        throw new Error(`${NAME}. The collapsible ${collapseEl} is an invalid HTMLElement.`)\n      }\n\n      const collapseObj = this.getCollapse(collapse)\n      return collapseObj.hide()\n    }\n\n    static identifier() {\n      return NAME\n    }\n\n    static _DOMInterface(options) {\n      return super._DOMInterface(Accordion, options)\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n  createJqueryPlugin($, NAME, Accordion);\n\n  /**\n   * ------------------------------------------------------------------------\n   * DOM Api implementation\n   * ------------------------------------------------------------------------\n   */\n  const components = []\n\n  const accordions = document.querySelectorAll(`.${NAME}`)\n  if (accordions) {\n    Array.from(accordions).forEach((element) => {\n      const config = getAttributesConfig(element, DEFAULT_PROPERTIES, DATA_ATTRS_PROPERTIES)\n      config.element = element\n\n      components.push(Accordion._DOMInterface(config))\n    })\n  }\n\n  document.addEventListener('click', (event) => {\n    const dataToggleAttr = event.target.getAttribute('data-toggle')\n    if (dataToggleAttr && dataToggleAttr === NAME) {\n      const collapseId = event.target.getAttribute('data-target') || event.target.getAttribute('href')\n      const collapseEl = document.querySelector(collapseId)\n\n      const accordion = findTargetByClass(event.target, 'accordion')\n\n      if (accordion === null) {\n        return\n      }\n\n      const accordionId = accordion.getAttribute('id')\n      const component = components.find(c => c.getElement().getAttribute('id') === accordionId)\n\n      if (!component) {\n        return\n      }\n\n      // if the collapse has been added programmatically, we add it\n      const targetCollapse = component.getCollapses().find(c => c.getElement() === collapseEl)\n      if (!targetCollapse) {\n        component.addCollapse(collapseEl)\n      }\n\n      component.show(collapseId)\n    }\n  })\n\n  return Accordion\n})(window.$ ? window.$ : null)\n\nexport default Accordion\n"],"names":["dispatchWinDocEvent","eventName","moduleName","detail","fullEventName","window","dispatchEvent","CustomEvent","document","dispatchElementEvent","domElement","generateId","Math","random","toString","substr","findTargetByClass","target","parentClass","parentNode","classList","contains","findTargetByAttr","attr","getAttribute","createJqueryPlugin","$","name","obj","mainFn","options","opts","element","_DOMInterface","fn","Constructor","noConflict","addEventListener","console","error","availableEvents","touchScreen","DocumentTouch","navigator","pointerEnabled","msPointerEnabled","el","createElement","transitions","start","end","animations","transitionStart","find","t","style","undefined","transitionEnd","animationStart","animationEnd","TOUCH_SCREEN","NETWORK_ONLINE","NETWORK_OFFLINE","NETWORK_RECONNECTING","NETWORK_RECONNECTING_SUCCESS","NETWORK_RECONNECTING_FAILURE","SHOW","SHOWN","HIDE","HIDDEN","HASH","START","MOVE","END","CANCEL","TRANSITION_START","TRANSITION_END","ANIMATION_START","ANIMATION_END","ITEM_SELECTED","first","second","setAttributesConfig","attrs","keys","Object","forEach","key","indexOf","keyStart","setAttribute","getAttributesConfig","newObj","assign","constructor","value","type","attrValue","isNaN","parseInt","stack","add","component","push","remove","index","findIndex","c","is","splice","closable","length","Component","version","defaultOptions","optionAttrs","supportDynamicElement","addToStack","prop","id","checkElement","querySelector","Error","dynamicElement","registeredElements","assignJsConfig","getAttributes","setAttributes","elementListener","event","onBeforeElementEvent","attrConfig","getVersion","getElement","getId","registerElements","elements","registerElement","unregisterElements","unregisterElement","registeredElementIndex","removeEventListener","triggerEvent","objectEventOnly","Event","ComponentManager","eventNameObject","split","reduce","acc","current","charAt","toUpperCase","slice","eventNameAlias","apply","preventClosable","onElementEvent","identifier","ComponentClass","Collapse","NAME","VERSION","DEFAULT_PROPERTIES","toggle","DATA_ATTRS_PROPERTIES","onTransition","show","getHeight","getBoundingClientRect","height","hide","onCollapsed","setTimeout","components","collapses","querySelectorAll","config","dataToggleAttr","replace","Accordion","toggles","Array","from","collapseId","collapse","addCollapse","setCollapses","getCollapse","getCollapses","showCollapse","collapseEl","collapseObj","accordions","accordion","accordionId","targetCollapse"],"mappings":"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"}